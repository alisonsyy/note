<!DOCTYPE html><html><head>
      <title>Spring</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\alison\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.6.0\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <p><a href="https://snailclimb.gitee.io/javaguide/#/docs/system-design/framework/spring/Spring%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93?id=%e4%bb%80%e4%b9%88%e6%98%af-spring-%e6%a1%86%e6%9e%b6">Spring</a></p>
<h3 class="mume-header" id="%E5%B7%A5%E5%8E%82">&#x5DE5;&#x5382;</h3>

<hr>
<h4 class="mume-header" id="%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BC%95%E8%A8%80">&#x7B2C;&#x4E00;&#x7AE0; &#x5F15;&#x8A00;</h4>

<h5 class="mume-header" id="1-ejb%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98">1. EJB&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</h5>

<p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200411104428457.png" alt="image-20200411104428457"></p>
<h5 class="mume-header" id="2-%E4%BB%80%E4%B9%88%E6%98%AFspring">2. &#x4EC0;&#x4E48;&#x662F;Spring</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x662F;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;JavaEE&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x6574;&#x5408;&#x4F17;&#x591A;&#x4F18;&#x79C0;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;
</pre><ul>
<li>
<p>&#x8F7B;&#x91CF;&#x7EA7;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5BF9;&#x4E8E;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x662F;&#x6CA1;&#x6709;&#x989D;&#x5916;&#x8981;&#x6C42;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#xFF1A;
   &#x5F00;&#x6E90; tomcat resion jetty 
   &#x6536;&#x8D39; weblogic  websphere 
<span class="token list punctuation">2.</span> &#x4EE3;&#x7801;&#x79FB;&#x690D;&#x6027;&#x9AD8;
   &#x4E0D;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x989D;&#x5916;&#x63A5;&#x53E3;
</pre></li>
<li>
<p>JavaEE&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;</p>
</li>
</ul>
<p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200411111041836.png" alt="image-20200411111041836"></p>
<ul>
<li>&#x6574;&#x5408;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</li>
</ul>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5DE5;&#x5382;
<span class="token list punctuation">2.</span> &#x4EE3;&#x7406;
<span class="token list punctuation">3.</span> &#x6A21;&#x677F;
<span class="token list punctuation">4.</span> &#x7B56;&#x7565;
</pre><h5 class="mume-header" id="3-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">3. &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5E7F;&#x4E49;&#x6982;&#x5FF5;
&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x8BBE;&#x8BA1;&#x4E2D;&#xFF0C;&#x89E3;&#x51B3;&#x7279;&#x5B9A;&#x95EE;&#x9898;&#x7684;&#x7ECF;&#x5178;&#x4EE3;&#x7801;
<span class="token list punctuation">2.</span> &#x72ED;&#x4E49;&#x6982;&#x5FF5;
GOF4&#x4EBA;&#x5E2E;&#x5B9A;&#x4E49;&#x7684;23&#x79CD;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF1A;&#x5DE5;&#x5382;&#x3001;&#x9002;&#x914D;&#x5668;&#x3001;&#x88C5;&#x9970;&#x5668;&#x3001;&#x95E8;&#x9762;&#x3001;&#x4EE3;&#x7406;&#x3001;&#x6A21;&#x677F;...
</pre><h5 class="mume-header" id="4-%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">4. &#x5DE5;&#x5382;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h5>

<h6 class="mume-header" id="41-%E4%BB%80%E4%B9%88%E6%98%AF%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">4.1 &#x4EC0;&#x4E48;&#x662F;&#x5DE5;&#x5382;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x6982;&#x5FF5;&#xFF1A;&#x901A;&#x8FC7;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;
        User user = new User();
        UserDAO userDAO = new UserDAOImpl();
<span class="token list punctuation">2.</span> &#x597D;&#x5904;&#xFF1A;&#x89E3;&#x8026;&#x5408;
   &#x8026;&#x5408;&#xFF1A;&#x6307;&#x5B9A;&#x662F;&#x4EE3;&#x7801;&#x95F4;&#x7684;&#x5F3A;&#x5173;&#x8054;&#x5173;&#x7CFB;&#xFF0C;&#x4E00;&#x65B9;&#x7684;&#x6539;&#x53D8;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x53E6;&#x4E00;&#x65B9;
   &#x95EE;&#x9898;&#xFF1A;&#x4E0D;&#x5229;&#x4E8E;&#x4EE3;&#x7801;&#x7EF4;&#x62A4;
   &#x7B80;&#x5355;&#xFF1A;&#x628A;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x786C;&#x7F16;&#x7801;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;
        UserService userService = new UserServiceImpl();
</pre><h6 class="mume-header" id="42-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E7%9A%84%E8%AE%BE%E8%AE%A1">4.2 &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x7684;&#x8BBE;&#x8BA1;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>baizhiedu<span class="token punctuation">.</span>basic</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Properties</span> env <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span><span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//&#x7B2C;&#x4E00;&#x6B65; &#x83B7;&#x5F97;IO&#x8F93;&#x5165;&#x6D41;</span>
            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/applicationContext.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//&#x7B2C;&#x4E8C;&#x6B65; &#x6587;&#x4EF6;&#x5185;&#x5BB9; &#x5C01;&#x88C5; Properties&#x96C6;&#x5408;&#x4E2D; key = userService value = com.baizhixx.UserServiceImpl</span>
            env<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>

            inputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>


    <span class="token comment">/*
        &#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#xFF1A;
           1. &#x76F4;&#x63A5;&#x8C03;&#x7528;&#x6784;&#x9020;&#x65B9;&#x6CD5; &#x521B;&#x5EFA;&#x5BF9;&#x8C61;  UserService userService = new UserServiceImpl();
           2. &#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x7684;&#x5F62;&#x5F0F; &#x521B;&#x5EFA;&#x5BF9;&#x8C61; &#x89E3;&#x8026;&#x5408;
               Class clazz = Class.forName(&quot;com.baizhiedu.basic.UserServiceImpl&quot;);
               UserService userService = (UserService)clazz.newInstance();
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserService</span> <span class="token function">getUserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
                                         <span class="token comment">//com.baizhiedu.basic.UserServiceImpl</span>
            <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> userService<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>


    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">UserDAO</span> <span class="token function">getUserDAO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token class-name">UserDAO</span> userDAO <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;userDAO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            userDAO <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDAO</span><span class="token punctuation">)</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InstantiationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalAccessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> userDAO<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h6 class="mume-header" id="43-%E9%80%9A%E7%94%A8%E5%B7%A5%E5%8E%82%E7%9A%84%E8%AE%BE%E8%AE%A1">4.3 &#x901A;&#x7528;&#x5DE5;&#x5382;&#x7684;&#x8BBE;&#x8BA1;</h6>

<ul>
<li>
<p>&#x95EE;&#x9898;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x7B80;&#x5355;&#x5DE5;&#x5382;&#x4F1A;&#x5B58;&#x5728;&#x5927;&#x91CF;&#x7684;&#x4EE3;&#x7801;&#x5197;&#x4F59;
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200411181701143.png" alt="image-20200411181701143"></p>
</li>
<li>
<p>&#x901A;&#x7528;&#x5DE5;&#x5382;&#x7684;&#x4EE3;&#x7801;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token comment">//&#x521B;&#x5EFA;&#x4E00;&#x5207;&#x60F3;&#x8981;&#x7684;&#x5BF9;&#x8C61;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">{</span>
  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token class-name">Object</span> ret <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
         <span class="token keyword">try</span> <span class="token punctuation">{</span>
             <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             ret <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre></li>
</ul>
<h6 class="mume-header" id="44-%E9%80%9A%E7%94%A8%E5%B7%A5%E5%8E%82%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">4.4 &#x901A;&#x7528;&#x5DE5;&#x5382;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5B9A;&#x4E49;&#x7C7B;&#x578B; (&#x7C7B;)
<span class="token list punctuation">2.</span> &#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x544A;&#x77E5;&#x5DE5;&#x5382;(applicationContext.properties)   
    key = value
<span class="token list punctuation">3.</span> &#x901A;&#x8FC7;&#x5DE5;&#x5382;&#x83B7;&#x5F97;&#x7C7B;&#x7684;&#x5BF9;&#x8C61;   
    Object ret = BeanFactory.getBean(&quot;key&quot;)
</pre><h5 class="mume-header" id="5%E6%80%BB%E7%BB%93">5.&#x603B;&#x7ED3;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x672C;&#x8D28;&#xFF1A;&#x5DE5;&#x5382; ApplicationContext (applicationContext.xml)
</pre><h4 class="mume-header" id="%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E7%AC%AC%E4%B8%80%E4%B8%AAspring%E7%A8%8B%E5%BA%8F">&#x7B2C;&#x4E8C;&#x7AE0;&#x3001;&#x7B2C;&#x4E00;&#x4E2A;Spring&#x7A0B;&#x5E8F;</h4>

<h5 class="mume-header" id="1-%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC">1. &#x8F6F;&#x4EF6;&#x7248;&#x672C;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> JDK1.8+
<span class="token list punctuation">2.</span> Maven3.5+
<span class="token list punctuation">3.</span> IDEA2018+
<span class="token list punctuation">4.</span> SpringFramework 5.1.4    
    &#x5B98;&#x65B9;&#x7F51;&#x7AD9; www.spring.io
</pre><h5 class="mume-header" id="2-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">2. &#x73AF;&#x5883;&#x642D;&#x5EFA;</h5>

<ul>
<li>
<p>Spring&#x7684;jar&#x5305;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span>&#x8BBE;&#x7F6E;pom &#x4F9D;&#x8D56;</span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x653E;&#x7F6E;&#x4F4D;&#x7F6E;&#xFF1A;&#x4EFB;&#x610F;&#x4F4D;&#x7F6E; &#x6CA1;&#x6709;&#x786C;&#x6027;&#x8981;&#x6C42;
<span class="token list punctuation">2.</span> &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#xFF1A;&#x6CA1;&#x6709;&#x786C;&#x6027;&#x8981;&#x6C42; &#x5EFA;&#x8BAE;&#xFF1A;applicationContext.xml

<span class="token code keyword">	&#x601D;&#x8003;&#xFF1A;&#x65E5;&#x540E;&#x5E94;&#x7528;Spring&#x6846;&#x67B6;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;&#x8BBE;&#x7F6E;&#x3002;</span>
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200413114751707.png" alt="image-20200413114751707"></p>
</li>
</ul>
<h5 class="mume-header" id="3-spring%E7%9A%84%E6%A0%B8%E5%BF%83api">3. Spring&#x7684;&#x6838;&#x5FC3;API</h5>

<ul>
<li>
<p>ApplicationContext</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;Spring&#x63D0;&#x4F9B;&#x7684;ApplicationContext&#x8FD9;&#x4E2A;&#x5DE5;&#x5382;&#xFF0C;&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;
&#x597D;&#x5904;&#xFF1A;&#x89E3;&#x8026;&#x5408;
</pre><ul>
<li>
<p>ApplicationContext&#x63A5;&#x53E3;&#x7C7B;&#x578B;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x63A5;&#x53E3;&#xFF1A;&#x5C4F;&#x853D;&#x5B9E;&#x73B0;&#x7684;&#x5DEE;&#x5F02;
&#x975E;web&#x73AF;&#x5883;&#xFF1A; ClassPathXmlApplicationContext (main junit)
web&#x73AF;&#x5883;&#xFF1A;  XmlWebApplicationContext
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200413142452724.png" alt="image-20200413142452724"></p>
</li>
<li>
<p>&#x91CD;&#x91CF;&#x7EA7;&#x8D44;&#x6E90;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">ApplicationContext&#x5DE5;&#x5382;&#x7684;&#x5BF9;&#x8C61;&#x5360;&#x7528;&#x5927;&#x91CF;&#x5185;&#x5B58;&#x3002;
&#x4E0D;&#x4F1A;&#x9891;&#x7E41;&#x7684;&#x521B;&#x5EFA;&#x5BF9;&#x8C61; &#xFF1A; &#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x53EA;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#x5BF9;&#x8C61;&#x3002;
ApplicationContext&#x5DE5;&#x5382;&#xFF1A;&#x4E00;&#x5B9A;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;(&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;)
</pre></li>
</ul>
</li>
</ul>
<h5 class="mume-header" id="4-%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91">4. &#x7A0B;&#x5E8F;&#x5F00;&#x53D1;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x521B;&#x5EFA;&#x7C7B;&#x578B;
<span class="token list punctuation">2.</span> &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E; applicationContext.xml  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token list punctuation">3.</span> &#x901A;&#x8FC7;&#x5DE5;&#x5382;&#x7C7B;&#xFF0C;&#x83B7;&#x5F97;&#x5BF9;&#x8C61;   
ApplicationContext         
	|- ClassPathXmlApplicationContext    
		ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;/applicationContext.xml&quot;);   
		Person person = (Person)ctx.getBean(&quot;person&quot;);
</pre><h5>5. &#x7EC6;&#x8282;&#x5206;&#x6790;</h5>
<ul>
<li>
<p>&#x540D;&#x8BCD;&#x89E3;&#x91CA;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x53EB;&#x505A;bean&#x6216;&#x8005;&#x7EC4;&#x4EF6;(componet)
</pre></li>
<li>
<p>Spring&#x5DE5;&#x5382;&#x7684;&#x76F8;&#x5173;&#x7684;&#x65B9;&#x6CD5;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">	<span class="token comment">//&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x83B7;&#x5F97;&#x5BF9;&#x8C61;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5F3A;&#x5236;&#x7C7B;&#x578B;&#x8F6C;&#x6362;</span>
    <span class="token class-name">Person</span> person <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;person = &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>       
	<span class="token comment">//&#x5F53;&#x524D;Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D; &#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&lt;bean class&#x662F;Person&#x7C7B;&#x578B;</span>
    <span class="token class-name">Person</span> person <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;person = &quot;</span> <span class="token operator">+</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>       
    <span class="token comment">//&#x83B7;&#x53D6;&#x7684;&#x662F; Spring&#x5DE5;&#x5382;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6240;&#x6709;bean&#x6807;&#x7B7E;&#x7684;id&#x503C;  </span>
    person person1String<span class="token punctuation">[</span><span class="token punctuation">]</span> beanDefinitionNames <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanDefinitionName <span class="token operator">:</span> beanDefinitionNames<span class="token punctuation">)</span>
    <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;beanDefinitionName = &quot;</span> <span class="token operator">+</span> beanDefinitionName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>        
	<span class="token comment">//&#x6839;&#x636E;&#x7C7B;&#x578B;&#x83B7;&#x5F97;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;id&#x503C;</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> beanNamesForType <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBeanNamesForType</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> id <span class="token operator">:</span> beanNamesForType<span class="token punctuation">)</span><span class="token punctuation">{</span>  
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id = &quot;</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>      
	<span class="token comment">//&#x7528;&#x4E8E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6307;&#x5B9A;id&#x503C;&#x5F97;bean</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">containsBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;true = &quot;</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;false = &quot;</span> <span class="token operator">+</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>      
	<span class="token comment">//&#x7528;&#x4E8E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6307;&#x5B9A;id&#x503C;&#x5F97;bean</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">.</span><span class="token function">containsBean</span><span class="token punctuation">(</span><span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;true = &quot;</span> <span class="token operator">+</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>  
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;false = &quot;</span> <span class="token operator">+</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x7EC6;&#x8282;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x53EA;&#x914D;&#x7F6E;class&#x5C5E;&#x6027;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
a) &#x4E0A;&#x8FF0;&#x8FD9;&#x79CD;&#x914D;&#x7F6E; &#x6709;&#x6CA1;&#x6709;id&#x503C; com.baizhiedu.basic.Person#0
b) &#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A; &#x5982;&#x679C;&#x8FD9;&#x4E2A;bean&#x53EA;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x7701;&#x7565;id&#x503C;            
&#x5982;&#x679C;&#x8FD9;&#x4E2A;bean&#x4F1A;&#x4F7F;&#x7528;&#x591A;&#x6B21;&#xFF0C;&#x6216;&#x8005;&#x88AB;&#x5176;&#x4ED6;bean&#x5F15;&#x7528;&#x5219;&#x9700;&#x8981;&#x8BBE;&#x7F6E;id&#x503C;
<span class="token list punctuation">2.</span> name&#x5C5E;&#x6027;
&#x4F5C;&#x7528;&#xFF1A;&#x7528;&#x4E8E;&#x5728;Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E3A;bean&#x5BF9;&#x8C61;&#x5B9A;&#x4E49;&#x522B;&#x540D;(&#x5C0F;&#x540D;)
&#x76F8;&#x540C;&#xFF1A;   
	<span class="token list punctuation">1.</span> ctx.getBean(&quot;id|name&quot;)--&gt;object   
	<span class="token list punctuation">2.</span> &lt;bean id=&quot;&quot; class=&quot;&quot;      
		&#x7B49;&#x6548;     
       &lt;bean name=&quot;&quot; class=&quot;&quot;
&#x533A;&#x522B;&#xFF1A;   
<span class="token list punctuation">1.</span> &#x522B;&#x540D;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x591A;&#x4E2A;,&#x4F46;&#x662F;id&#x5C5E;&#x6027;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x503C;   
<span class="token list punctuation">2.</span> &#x8FC7;&#x53BB;&#xFF1A;XML&#x7684;id&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x547D;&#x540D;&#x8981;&#x6C42;&#xFF1A;&#x5FC5;&#x987B;&#x4EE5;&#x5B57;&#x6BCD;&#x5F00;&#x5934;&#xFF0C;&#x540E;&#x9762;&#x53EF;&#x4EE5;&#x8DDF;&#x5B57;&#x6BCD; &#x6570;&#x5B57; &#x4E0B;&#x5212;&#x7EBF; &#x8FDE;&#x5B57;&#x7B26; &#x4E0D;&#x80FD;&#x4EE5;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x5F00;&#x5934; /person         	  		 name&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x547D;&#x540D;&#x6CA1;&#x6709;&#x8981;&#x6C42; /person      
	      name&#x5C5E;&#x6027;&#x4F1A;&#x5E94;&#x7528;&#x5728;&#x7279;&#x6B8A;&#x547D;&#x540D;&#x7684;&#x573A;&#x666F;&#x4E0B;&#xFF1A;/person (spring+struts1)            
       XML&#x53D1;&#x5C55;&#x5230;&#x4E86;&#x4ECA;&#x5929;&#xFF1A;ID&#x5C5E;&#x6027;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x4E0D;&#x5B58;&#x5728; /person  
<span class="token list punctuation">3.</span> &#x4EE3;&#x7801;        
        //&#x7528;&#x4E8E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6307;&#x5B9A;id&#x503C;&#x7684;bean,&#x4E0D;&#x80FD;&#x5224;&#x65AD;name&#x503C;        
        if (ctx.containsBeanDefinition(&quot;person&quot;)) {  
        System.out.println(&quot;true = &quot; + true);        
        }else{            
        System.out.println(&quot;false = &quot; + false);       
        }        
        //&#x7528;&#x4E8E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6307;&#x5B9A;id&#x503C;&#x7684;bean,&#x4E5F;&#x53EF;&#x4EE5;&#x5224;&#x65AD;name&#x503C;        
        if (ctx.containsBean(&quot;p&quot;)) {            
        System.out.println(&quot;true = &quot; + true);        
        }else{            
        System.out.println(&quot;false = &quot; + false);       
        }
</pre></li>
</ul>
<h5>6. Spring&#x5DE5;&#x5382;&#x7684;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x539F;&#x7406;(&#x7B80;&#x6613;&#x7248;)</h5>
<p><strong>Spring&#x5DE5;&#x5382;&#x662F;&#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x79C1;&#x6709;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;</strong></p>
<p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200415113032782.png" alt="image-20200415113032782"></p>
<h5>7. &#x601D;&#x8003;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x95EE;&#x9898;&#xFF1A;&#x672A;&#x6765;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x90FD;&#x4F1A;&#x4EA4;&#x7ED9;Spring&#x5DE5;&#x5382;&#x6765;&#x521B;&#x5EFA;&#x5462;&#xFF1F;
&#x56DE;&#x7B54;&#xFF1A;&#x7406;&#x8BBA;&#x4E0A; &#x662F;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x7279;&#x4F8B; &#xFF1A;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;(entity)&#x662F;&#x4E0D;&#x4F1A;&#x4EA4;&#x7ED9;Spring&#x521B;&#x5EFA;&#xFF0C;&#x5B83;&#x662F;&#x7531;&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;&#x8FDB;&#x884C;&#x521B;&#x5EFA;&#x3002;
</pre><h4>&#x7B2C;&#x4E09;&#x7AE0;&#x3001;Spring5.x&#x4E0E;&#x65E5;&#x5FD7;&#x6846;&#x67B6;&#x7684;&#x6574;&#x5408;</h4>
<pre data-role="codeBlock" data-info="1.markdown" class="language-1.markdown"><code>Spring&#x4E0E;&#x65E5;&#x5FD7;&#x6846;&#x67B6;&#x8FDB;&#x884C;&#x6574;&#x5408;&#xFF0C;&#x65E5;&#x5FD7;&#x6846;&#x67B6;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x4E2D;&#xFF0C;&#x8F93;&#x51FA;Spring&#x6846;&#x67B6;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x91CD;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002;
&#x597D;&#x5904;&#xFF1A;&#x4FBF;&#x4E8E;&#x4E86;&#x89E3;Spring&#x6846;&#x67B6;&#x7684;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#xFF0C;&#x5229;&#x4E8E;&#x7A0B;&#x5E8F;&#x7684;&#x8C03;&#x8BD5;
</code></pre><ul>
<li>
<p>Spring&#x5982;&#x4F55;&#x6574;&#x5408;&#x65E5;&#x5FD7;&#x6846;&#x67B6;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x9ED8;&#x8BA4;  Spring1.2.3&#x65E9;&#x671F;&#x90FD;&#x662F;&#x4E8E;commons-logging.jar  
Spring5.x&#x9ED8;&#x8BA4;&#x6574;&#x5408;&#x7684;&#x65E5;&#x5FD7;&#x6846;&#x67B6; logback log4j2 
Spring5.x&#x6574;&#x5408;log4j   
<span class="token list punctuation">1.</span> &#x5F15;&#x5165;log4j jar&#x5305;  
<span class="token list punctuation">2.</span> &#x5F15;&#x5165;log4.properties&#x914D;&#x7F6E;&#x6587;&#x4EF6;
</pre><ul>
<li>
<p>pom</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>log4j.properties</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span> resources&#x6587;&#x4EF6;&#x5939;&#x6839;&#x76EE;&#x5F55;&#x4E0B;</span>
<span class="token title important"><span class="token punctuation">###</span> &#x914D;&#x7F6E;&#x6839;</span>
log4j.rootLogger = debug,console
<span class="token title important"><span class="token punctuation">###</span> &#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x5230;&#x63A7;&#x5236;&#x53F0;&#x663E;&#x793A;</span>
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.Target=System.out
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n
</pre></li>
</ul>
</li>
</ul>
<h4>&#x7B2C;&#x56DB;&#x7AE0;&#x3001;&#x6CE8;&#x5165;(Injection)</h4>
<h5>1. &#x4EC0;&#x4E48;&#x662F;&#x6CE8;&#x5165;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x901A;&#x8FC7;Spring&#x5DE5;&#x5382;&#x53CA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x6240;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;
</pre><h6>1.1 &#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x6CE8;&#x5165;</h6>
<p><strong>&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E3A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8FDB;&#x884C;&#x8D4B;&#x503C;&#xFF0C;&#x5B58;&#x5728;&#x8026;&#x5408;</strong></p>
<p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200415185212664.png" alt="image-20200415185212664"></p>
<h6>1.2 &#x5982;&#x4F55;&#x8FDB;&#x884C;&#x6CE8;&#x5165;[&#x5F00;&#x53D1;&#x6B65;&#x9AA4;]</h6>
<ul>
<li>
<p>&#x7C7B;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x63D0;&#x4F9B;set get&#x65B9;&#x6CD5;</p>
</li>
<li>
<p>&#x914D;&#x7F6E;spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.basic.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>     
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>   
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>   
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>     
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>xiaojr<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>   
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
<h6 class="mume-header" id="13-%E6%B3%A8%E5%85%A5%E5%A5%BD%E5%A4%84">1.3 &#x6CE8;&#x5165;&#x597D;&#x5904;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x89E3;&#x8026;&#x5408;
</pre><h5 class="mume-header" id="2-spring%E6%B3%A8%E5%85%A5%E7%9A%84%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90%E7%AE%80%E6%98%93%E7%89%88">2. Spring&#x6CE8;&#x5165;&#x7684;&#x539F;&#x7406;&#x5206;&#x6790;(&#x7B80;&#x6613;&#x7248;)</h5>

<p><strong>Spring&#x901A;&#x8FC7;&#x5E95;&#x5C42;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x5BF9;&#x5E94;&#x7684;set&#x65B9;&#x6CD5;&#xFF0C;&#x5B8C;&#x6210;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x7684;&#x8D4B;&#x503C;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x6211;&#x4EEC;&#x4E5F;&#x79F0;&#x4E4B;&#x4E3A;set&#x6CE8;&#x5165;</strong></p>
<p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200415191157364.png" alt="image-20200415191157364"></p>
<h4 class="mume-header" id="%E7%AC%AC%E4%BA%94%E7%AB%A0-set%E6%B3%A8%E5%85%A5%E8%AF%A6%E8%A7%A3">&#x7B2C;&#x4E94;&#x7AE0;&#x3001;Set&#x6CE8;&#x5165;&#x8BE6;&#x89E3;</h4>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x9488;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#xFF0C;&#x5728;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>&#x6807;&#x7B7E;&#xFF0C;&#x9700;&#x8981;&#x5D4C;&#x5957;&#x5176;&#x4ED6;&#x6807;&#x7B7E;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>    xxxxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200416090518713.png" alt="image-20200416090518713"></p>
<h5 class="mume-header" id="1-jdk%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B">1. JDK&#x5185;&#x7F6E;&#x7C7B;&#x578B;</h5>

<h6 class="mume-header" id="11-string8%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B">1.1 String+8&#x79CD;&#x57FA;&#x672C;&#x7C7B;&#x578B;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>suns<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
</pre><h6 class="mume-header" id="12-%E6%95%B0%E7%BB%84">1.2 &#x6570;&#x7EC4;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>suns@zparkhr.com.cn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>liucy@zparkhr.com.cn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>chenyn@zparkhr.com.cn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
</pre><h6 class="mume-header" id="13-set%E9%9B%86%E5%90%88">1.3 Set&#x96C6;&#x5408;</h6>

<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>11111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>112222<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
   &lt;ref bean
   &lt;set 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
</pre><h6 class="mume-header" id="14-list%E9%9B%86%E5%90%88">1.4 List&#x96C6;&#x5408;</h6>

<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>11111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2222<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>    
&lt;ref bean   
&lt;set 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
</pre><h6 class="mume-header" id="15-map%E9%9B%86%E5%90%88">1.5 Map&#x96C6;&#x5408;</h6>

<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x6CE8;&#x610F;&#xFF1A; map -- entry  -- key&#x6709;&#x7279;&#x5B9A;&#x7684;&#x6807;&#x7B7E;  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                       &#x503C;&#x6839;&#x636E;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x7684;&#x6807;&#x7B7E;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>map</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>suns<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>3434334343<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>entry</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>chenyn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
    &lt;ref bean
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>entry</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>map</span><span class="token punctuation">&gt;</span></span>
</pre><h6 class="mume-header" id="16-properites">1.6 Properites</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Properties&#x7C7B;&#x578B; &#x7279;&#x6B8A;&#x7684;Map key=String value=String 
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>value1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>key2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>value2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
</pre><h6 class="mume-header" id="17-%E5%A4%8D%E6%9D%82%E7%9A%84jdk%E7%B1%BB%E5%9E%8B-date">1.7 &#x590D;&#x6742;&#x7684;JDK&#x7C7B;&#x578B; (Date)</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;&#x6765;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;
</pre><h5 class="mume-header" id="2-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B">2. &#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;</h5>

<h6 class="mume-header" id="21-%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F">2.1 &#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;</h6>

<ul>
<li>
<p>&#x4E3A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x63D0;&#x4F9B;set get&#x65B9;&#x6CD5;</p>
</li>
<li>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x6CE8;&#x5165;(&#x8D4B;&#x503C;)</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxxx.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.UserDAOImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
<h6 class="mume-header" id="22-%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F">2.2 &#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;</h6>

<ul>
<li>
<p>&#x7B2C;&#x4E00;&#x79CD;&#x8D4B;&#x503C;&#x65B9;&#x5F0F;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4EE3;&#x7801;&#x5197;&#x4F59;
<span class="token list punctuation">2.</span> &#x88AB;&#x6CE8;&#x5165;&#x7684;&#x5BF9;&#x8C61;(UserDAO),&#x591A;&#x6B21;&#x521B;&#x5EFA;&#xFF0C;&#x6D6A;&#x8D39;&#xFF08;JVM)&#x5185;&#x5B58;&#x8D44;&#x6E90;
</pre></li>
<li>
<p>&#x4E3A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x63D0;&#x4F9B;set get&#x65B9;&#x6CD5;</p>
</li>
<li>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.UserDAOImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

#Spring4.x &#x5E9F;&#x9664;&#x4E86; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">local</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> &#x57FA;&#x672C;&#x7B49;&#x6548; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre><h5>3. Set&#x6CE8;&#x5165;&#x7684;&#x7B80;&#x5316;&#x5199;&#x6CD5;</h5>
<h6>3.1 &#x57FA;&#x4E8E;&#x5C5E;&#x6027;&#x7B80;&#x5316;</h6>
<pre data-role="codeBlock" data-info="xml" class="language-xml">JDK&#x7C7B;&#x578B;&#x6CE8;&#x5165; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>suns<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
&#x7B80;&#x5316;&#x540E;&#xFF1A;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suns<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
&#x6CE8;&#x610F;&#xFF1A;value&#x5C5E;&#x6027; &#x53EA;&#x80FD;&#x7B80;&#x5316; 8&#x79CD;&#x57FA;&#x672C;&#x7C7B;&#x578B;+String &#x6CE8;&#x5165;&#x6807;&#x7B7E;

&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
&#x7B80;&#x5316;&#x540E;&#xFF1A;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre><h6>3.2 &#x57FA;&#x4E8E;p&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7B80;&#x5316;</h6>
<pre data-role="codeBlock" data-info="xml" class="language-xml">JDK&#x7C7B;&#x578B;&#x6CE8;&#x5165; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxxx.Person<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>suns<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
&#x7B80;&#x5316;&#x540E;&#xFF1A;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>person<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.Person<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suns<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
&#x6CE8;&#x610F;&#xFF1A;value&#x5C5E;&#x6027; &#x53EA;&#x80FD;&#x7B80;&#x5316; 8&#x79CD;&#x57FA;&#x672C;&#x7C7B;&#x578B;+String &#x6CE8;&#x5165;&#x6807;&#x7B7E;

&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xx.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
&#x7B80;&#x5316;&#x540E;:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.UserServiceImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">p:</span>userDAO-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
</ul>
<h4>&#x7B2C;&#x516D;&#x7AE0;&#x3001;&#x6784;&#x9020;&#x6CE8;&#x5165;</h4>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6CE8;&#x5165;&#xFF1A;&#x901A;&#x8FC7;Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;
Set&#x6CE8;&#x5165;&#xFF1A;Spring&#x8C03;&#x7528;Set&#x65B9;&#x6CD5; &#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x4E3A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;
&#x6784;&#x9020;&#x6CE8;&#x5165;&#xFF1A;Spring&#x8C03;&#x7528;&#x6784;&#x9020;&#x65B9;&#x6CD5; &#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x4E3A;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;
</pre><h5>1. &#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h5>
<ul>
<li>
<p>&#x63D0;&#x4F9B;&#x6709;&#x53C2;&#x6784;&#x9020;&#x65B9;&#x6CD5;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>customer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.basic.constructer.Customer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>suns<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>102<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
<h5 class="mume-header" id="2-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD">2. &#x6784;&#x9020;&#x65B9;&#x6CD5;&#x91CD;&#x8F7D;</h5>

<h6 class="mume-header" id="21-%E5%8F%82%E6%95%B0%E4%B8%AA%E6%95%B0%E4%B8%8D%E5%90%8C%E6%97%B6">2.1 &#x53C2;&#x6570;&#x4E2A;&#x6570;&#x4E0D;&#x540C;&#x65F6;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x901A;&#x8FC7;&#x63A7;&#x5236;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span><span class="token punctuation">&gt;</span></span>&#x6807;&#x7B7E;&#x7684;&#x6570;&#x91CF;&#x8FDB;&#x884C;&#x533A;&#x5206; 
</pre><h6 class="mume-header" id="21-%E6%9E%84%E9%80%A0%E5%8F%82%E6%95%B0%E4%B8%AA%E6%95%B0%E7%9B%B8%E5%90%8C%E6%97%B6">2.1 &#x6784;&#x9020;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#x76F8;&#x540C;&#x65F6;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x901A;&#x8FC7;&#x5728;&#x6807;&#x7B7E;&#x5F15;&#x5165; type&#x5C5E;&#x6027; &#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x7684;&#x533A;&#x5206; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</pre><h5 class="mume-header" id="3-%E6%B3%A8%E5%85%A5%E7%9A%84%E6%80%BB%E7%BB%93">3. &#x6CE8;&#x5165;&#x7684;&#x603B;&#x7ED3;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x672A;&#x6765;&#x7684;&#x5B9E;&#x6218;&#x4E2D;&#xFF0C;&#x5E94;&#x7528;set&#x6CE8;&#x5165;&#x8FD8;&#x662F;&#x6784;&#x9020;&#x6CE8;&#x5165;&#xFF1F;
&#x7B54;&#x6848;&#xFF1A;set&#x6CE8;&#x5165;&#x66F4;&#x591A;       
<span class="token list punctuation">1.</span> &#x6784;&#x9020;&#x6CE8;&#x5165;&#x9EBB;&#x70E6; (&#x91CD;&#x8F7D;)      
<span class="token list punctuation">2.</span> Spring&#x6846;&#x67B6;&#x5E95;&#x5C42; &#x5927;&#x91CF;&#x5E94;&#x7528;&#x4E86; set&#x6CE8;&#x5165;
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200416155620897.png" alt="image-20200416155620897"></p>
<h4 class="mume-header" id="%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%8F%8D%E8%BD%AC%E6%8E%A7%E5%88%B6-%E4%B8%8E-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5">&#x7B2C;&#x4E03;&#x7AE0;&#x3001;&#x53CD;&#x8F6C;&#x63A7;&#x5236; &#x4E0E; &#x4F9D;&#x8D56;&#x6CE8;&#x5165;</h4>

<h5 class="mume-header" id="1-%E5%8F%8D%E8%BD%AC%E8%BD%AC%E7%A7%BB%E6%8E%A7%E5%88%B6ioc-inverse-of-control">1. &#x53CD;&#x8F6C;(&#x8F6C;&#x79FB;)&#x63A7;&#x5236;(IOC Inverse of Control)</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x63A7;&#x5236;&#xFF1A;&#x5BF9;&#x4E8E;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x7684;&#x63A7;&#x5236;&#x6743;
&#x53CD;&#x8F6C;&#x63A7;&#x5236;&#xFF1A;&#x628A;&#x5BF9;&#x4E8E;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x7684;&#x63A7;&#x5236;&#x6743;&#xFF0C;&#x4ECE;&#x4EE3;&#x7801;&#x4E2D;&#x53CD;&#x8F6C;(&#x8F6C;&#x79FB;)&#x5230;Spring&#x5DE5;&#x5382;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5B8C;&#x6210;   
&#x597D;&#x5904;&#xFF1A;&#x89E3;&#x8026;&#x5408;
&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#xFF1A;&#x5DE5;&#x5382;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200416161127972.png" alt="image-20200416161127972"></p>
<h5 class="mume-header" id="2-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-dependency-injection-di">2. &#x4F9D;&#x8D56;&#x6CE8;&#x5165; (Dependency Injection  DI)</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6CE8;&#x5165;&#xFF1A;
&#x901A;&#x8FC7;Spring&#x7684;&#x5DE5;&#x5382;&#x53CA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x5BF9;&#x8C61;&#xFF08;bean&#xFF0C;&#x7EC4;&#x4EF6;&#xFF09;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8D4B;&#x503C;
&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF1A;&#x5F53;&#x4E00;&#x4E2A;&#x7C7B;&#x9700;&#x8981;&#x53E6;&#x4E00;&#x4E2A;&#x7C7B;&#x65F6;&#xFF0C;&#x5C31;&#x610F;&#x5473;&#x7740;&#x4F9D;&#x8D56;&#xFF0C;&#x4E00;&#x65E6;&#x51FA;&#x73B0;&#x4F9D;&#x8D56;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x53E6;&#x4E00;&#x4E2A;&#x7C7B;&#x4F5C;&#x4E3A;&#x672C;&#x7C7B;&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#xFF0C;&#x6700;&#x7EC8;&#x901A;&#x8FC7;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6CE8;&#x5165;(&#x8D4B;&#x503C;)&#x3002;   
&#x597D;&#x5904;&#xFF1A;&#x89E3;&#x8026;&#x5408;
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200416162615816.png" alt="image-20200416162615816"></p>
<h4 class="mume-header" id="%E7%AC%AC%E5%85%AB%E7%AB%A0-spring%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1">&#x7B2C;&#x516B;&#x7AE0;&#x3001;Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;</h4>

<img src="./&#x5DE5;&#x5382;.assets/image-20200416164044047.png" alt="image-20200416164044047" style="zoom:80%;">
<h5 class="mume-header" id="1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1">1. &#x4EC0;&#x4E48;&#x662F;&#x590D;&#x6742;&#x5BF9;&#x8C61;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x590D;&#x6742;&#x5BF9;&#x8C61;&#xFF1A;&#x6307;&#x7684;&#x5C31;&#x662F;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x901A;&#x8FC7;new&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;  
Connection 
SqlSessionFactory
</pre><h5 class="mume-header" id="2-spring%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1%E7%9A%843%E7%A7%8D%E6%96%B9%E5%BC%8F">2. Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;3&#x79CD;&#x65B9;&#x5F0F;</h5>

<h6 class="mume-header" id="21-factorybean%E6%8E%A5%E5%8F%A3">2.1 FactoryBean&#x63A5;&#x53E3;</h6>

<ul>
<li>
<p>&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</p>
<ul>
<li>
<p>&#x5B9E;&#x73B0;FactoryBean&#x63A5;&#x53E3;<br>
<img src="./%E5%B7%A5%E5%8E%82.assets/image-20200416204458451.png" alt="image-20200416204458451"></p>
</li>
<li>
<p>Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"># &#x5982;&#x679C;Class&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x7C7B;&#x578B; &#x662F;FactoryBean&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x90A3;&#x4E48;&#x901A;&#x8FC7;id&#x503C;&#x83B7;&#x5F97;&#x7684;&#x662F;&#x8FD9;&#x4E2A;&#x7C7B;&#x6240;&#x521B;&#x5EFA;&#x7684;&#x590D;&#x6742;&#x5BF9;&#x8C61;  Connection
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.factorybean.ConnectionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
</ul>
</li>
<li>
<p>&#x7EC6;&#x8282;</p>
<ul>
<li>
<p>&#x5982;&#x679C;&#x5C31;&#x60F3;&#x83B7;&#x5F97;FactoryBean&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;   ctx.getBean(&quot;&amp;conn&quot;)<br>
&#x83B7;&#x5F97;&#x5C31;&#x662F;ConnectionFactoryBean&#x5BF9;&#x8C61;</p>
</li>
<li>
<p>isSingleton&#x65B9;&#x6CD5;<br>
&#x8FD4;&#x56DE;  true &#x53EA;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x5BF9;&#x8C61;</p>
<p>&#x8FD4;&#x56DE; false &#x6BCF;&#x4E00;&#x6B21;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5BF9;&#x8C61;<br>
&#x95EE;&#x9898;&#xFF1A;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x7279;&#x70B9; &#xFF0C;&#x51B3;&#x5B9A;&#x662F;&#x8FD4;&#x56DE;true (SqlSessionFactory) &#x8FD8;&#x662F; false  (Connection)</p>
</li>
<li>
<p>mysql&#x9AD8;&#x7248;&#x672C;&#x8FDE;&#x63A5;&#x521B;&#x5EFA;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x5236;&#x5B9A;SSL&#x8BC1;&#x4E66;&#xFF0C;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x7684;&#x65B9;&#x5F0F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">url = &quot;jdbc:mysql://localhost:3306/suns?useSSL=false&quot;
</pre></li>
<li>
<p>&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x4F53;&#x4F1A;(DI)</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x628A;ConnectionFactoryBean&#x4E2D;&#x4F9D;&#x8D56;&#x7684;4&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4FE1;&#x606F; &#xFF0C;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6CE8;&#x5165; 
&#x597D;&#x5904;&#xFF1A;&#x89E3;&#x8026;&#x5408;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.factorybean.ConnectionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/suns?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123456<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
</li>
<li>
<p>FactoryBean&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;[&#x7B80;&#x6613;&#x7248;]</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x63A5;&#x53E3;&#x56DE;&#x8C03;
1. &#x4E3A;&#x4EC0;&#x4E48;Spring&#x89C4;&#x5B9A;FactoryBean&#x63A5;&#x53E3; &#x5B9E;&#x73B0; &#x5E76;&#x4E14; getObject()?
2. ctx.getBean(&quot;conn&quot;) &#x83B7;&#x5F97;&#x662F;&#x590D;&#x6742;&#x5BF9;&#x8C61; Connection &#x800C;&#x6CA1;&#x6709; &#x83B7;&#x5F97; ConnectionFactoryBean(&amp;)

Spring&#x5185;&#x90E8;&#x8FD0;&#x884C;&#x6D41;&#x7A0B;
1. &#x901A;&#x8FC7;conn&#x83B7;&#x5F97; ConnectionFactoryBean&#x7C7B;&#x7684;&#x5BF9;&#x8C61; &#xFF0C;&#x8FDB;&#x800C;&#x901A;&#x8FC7;instanceof &#x5224;&#x65AD;&#x51FA;&#x662F;FactoryBean&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;
2. Spring&#x6309;&#x7167;&#x89C4;&#x5B9A; getObject() ---&gt; Connection
3. &#x8FD4;&#x56DE;Connection 
</pre><p><img src="./%E5%B7%A5%E5%8E%82.assets/image-20200417114723005.png" alt="image-20200417114723005"></p>
</li>
<li>
<p>FactoryBean&#x603B;&#x7ED3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x4E2D;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E5F;&#x662F;Spring&#x539F;&#x751F;&#x63D0;&#x4F9B;&#x7684;&#xFF0C;&#x540E;&#x7EED;&#x8BB2;&#x89E3;Spring&#x6574;&#x5408;&#x5176;&#x4ED6;&#x6846;&#x67B6;&#xFF0C;&#x5927;&#x91CF;&#x5E94;&#x7528;FactoryBean
</pre></li>
</ul>
<h6 class="mume-header" id="22-%E5%AE%9E%E4%BE%8B%E5%B7%A5%E5%8E%82">2.2 &#x5B9E;&#x4F8B;&#x5DE5;&#x5382;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x907F;&#x514D;Spring&#x6846;&#x67B6;&#x7684;&#x4FB5;&#x5165;:&#x4F7F;&#x7528;FactoryBean&#x9700;&#x8981;&#x5B9E;&#x73B0;Spring&#x4E2D;&#x7684;FactoryBean
<span class="token list punctuation">2.</span> &#x6574;&#x5408;&#x9057;&#x7559;&#x7CFB;&#x7EDF;&#xFF1A;&#x5728;&#x516C;&#x53F8;&#x4E2D;&#x4E00;&#x822C;&#x4F1A;&#x6709;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x73B0;Factory,&#x4F46;&#x662F;&#x4E00;&#x822C;&#x662F;.class&#x6587;&#x4EF6;
</pre><ul>
<li>&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</li>
</ul>
<p>&#x5DF2;&#x77E5;&#x9057;&#x7559;&#x7684;&#x7CFB;&#x7EDF;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConnectionFactory</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://localhost:3306/suns?useSSL=false&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">CLassNotFoundException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> conn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.factorybean.ConnectionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>connFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getConnection<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre><h6>2.3 &#x9759;&#x6001;&#x5DE5;&#x5382;</h6>
<ul>
<li>
<p>&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConnectionFactory</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://localhost:3306/suns?useSSL=false&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">CLassNotFoundException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> conn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.factorybean.StaticConnectionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getConnection<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
</ul>
<h5>3. Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x603B;&#x7ED3;</h5>
<img src="./&#x5DE5;&#x5382;.assets/image-20200417152030222.png" alt="image-20200417152030222" style="zoom:200%;">
<h4>&#x7B2C;&#x4E5D;&#x7AE0;&#x3001;&#x63A7;&#x5236;Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x6B21;&#x6570;</h4>
<h5>1. &#x5982;&#x4F55;&#x63A7;&#x5236;&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6B21;&#x6570;</h5>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>singleton|prototype<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxxx.Account<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
sigleton:&#x53EA;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x6B21;&#x7B80;&#x5355;&#x5BF9;&#x8C61; &#x9ED8;&#x8BA4;&#x503C;
prototype:&#x6BCF;&#x4E00;&#x6B21;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5BF9;&#x8C61;
</pre><h5>2. &#x5982;&#x4F55;&#x63A7;&#x5236;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6B21;&#x6570;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">FactoryBean{
   isSingleton(){
      return true  &#x53EA;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x6B21;
      return false &#x6BCF;&#x4E00;&#x6B21;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x65B0;&#x7684;
   }

}
&#x5982;&#x6CA1;&#x6709;isSingleton&#x65B9;&#x6CD5; &#x8FD8;&#x662F;&#x901A;&#x8FC7;scope&#x5C5E;&#x6027; &#x8FDB;&#x884C;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x6B21;&#x6570;&#x7684;&#x63A7;&#x5236;
</pre><h5>3. &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x63A7;&#x5236;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6B21;&#x6570;&#xFF1F;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x597D;&#x5904;&#xFF1A;&#x8282;&#x7701;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5185;&#x5B58;&#x6D6A;&#x8D39; 
</pre><ul>
<li>
<p>&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5BF9;&#x8C61;&#x53EA;&#x521B;&#x5EFA;&#x4E00;&#x6B21;&#xFF1F;</p>
<p>&#x80FD;&#x5171;&#x7528;&#xFF0C;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> SqlSessionFactory
<span class="token list punctuation">2.</span> DAO
<span class="token list punctuation">3.</span> Service
</pre></li>
<li>
<p>&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x5BF9;&#x8C61; &#x6BCF;&#x4E00;&#x6B21;&#x90FD;&#x8981;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#xFF1F;</p>
<p>&#x4E0D;&#x80FD;&#x88AB;&#x5171;&#x7528;&#xFF0C;&#x7EBF;&#x7A0B;&#x4E0D;&#x5B89;&#x5168;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> Connection
<span class="token list punctuation">2.</span> SqlSession | Session
<span class="token list punctuation">3.</span> Struts2 Action
</pre></li>
</ul>
<h3>&#x5DE5;&#x5382;&#x9AD8;&#x7EA7;&#x7279;&#x6027;</h3>
<hr>
<h4>&#x7B2C;&#x5341;&#x7AE0;&#x3001;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;</h4>
<p><img src="D:%5Csjtu%5CAIR%5CSYY%5CJOB%5CNote%5Cdoc%5CSpring5%5C%E5%B7%A5%E5%8E%82%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.assets%5Cimage-20200418155427918.png" alt="image-20200418155427918"></p>
<h5>1. &#x4EC0;&#x4E48;&#x662F;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x3001;&#x5B58;&#x6D3B;&#x3001;&#x6D88;&#x4EA1;&#x7684;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x8FC7;&#x7A0B;
</pre><h5>2. &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5B66;&#x4E60;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x7531;Spring&#x8D1F;&#x8D23;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x3001;&#x5B58;&#x6D3B;&#x3001;&#x9500;&#x6BC1;&#xFF0C;&#x4E86;&#x89E3;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x597D;Spring&#x4E3A;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;
</pre><h5>3. &#x751F;&#x547D;&#x5468;&#x671F;&#x7684;3&#x4E2A;&#x9636;&#x6BB5;</h5>
<ul>
<li>
<p>&#x521B;&#x5EFA;&#x9636;&#x6BB5;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5DE5;&#x5382;&#x4F55;&#x65F6;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;
</pre><ul>
<li>
<p>scope=&quot;singleton&quot;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;

&#x6CE8;&#x610F;&#xFF1A;&#x8BBE;&#x7F6E;scope=singleton &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B; &#x4E5F;&#x9700;&#x8981;&#x5728;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x521B;&#x5EFA;&#x5BF9;&#x8C61; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">lazy-init</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>scope=&quot;prototype&quot;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5DE5;&#x5382;&#x4F1A;&#x5728;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;
ctx.getBean(&quot;&quot;)
</pre></li>
</ul>
</li>
<li>
<p>&#x521D;&#x59CB;&#x5316;&#x9636;&#x6BB5;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5DE5;&#x5382;&#x5728;&#x521B;&#x5EFA;&#x5B8C;&#x5BF9;&#x8C61;&#x540E;&#xFF0C;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5B8C;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;

<span class="token list punctuation">1.</span> &#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#xFF1A;&#x7A0B;&#x5E8F;&#x5458;&#x6839;&#x636E;&#x9700;&#x6C42;&#xFF0C;&#x63D0;&#x4F9B;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x6700;&#x7EC8;&#x5B8C;&#x6210;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;
<span class="token list punctuation">2.</span> &#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#xFF1A;Spring&#x5DE5;&#x5382;&#x8FDB;&#x884C;&#x8C03;&#x7528;
</pre><ul>
<li>
<p>&#x5B9E;&#x73B0;InitializingBean&#x63A5;&#x53E3;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token comment">//&#x7A0B;&#x5E8F;&#x5458;&#x6839;&#x636E;&#x9700;&#x6C42;&#xFF0C;&#x5B9E;&#x73B0;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5B8C;&#x6210;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterProperitesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x5BF9;&#x8C61;&#x4E2D;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;&#x65B9;&#x6CD5;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;product&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;xxx.Product&quot;</span> init<span class="token operator">-</span>method<span class="token operator">=</span><span class="token string">&quot;myInit&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</pre></li>
<li>
<p>&#x7EC6;&#x8282;&#x5206;&#x6790;</p>
<ol>
<li>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5373;&#x5B9E;&#x73B0;InitializingBean &#x540C;&#x65F6;&#x53C8;&#x63D0;&#x4F9B;&#x7684; &#x666E;&#x901A;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;  &#x987A;&#x5E8F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> InitializingBean 
<span class="token list punctuation">2.</span> &#x666E;&#x901A;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;
</pre></li>
<li>
<p>&#x6CE8;&#x5165;&#x4E00;&#x5B9A;&#x53D1;&#x751F;&#x5728;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x7684;&#x524D;&#x9762;</p>
</li>
<li>
<p>&#x4EC0;&#x4E48;&#x53EB;&#x505A;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x8D44;&#x6E90;&#x7684;&#x521D;&#x59CB;&#x5316;&#xFF1A;&#x6570;&#x636E;&#x5E93; IO &#x7F51;&#x7EDC; .....
</pre></li>
</ol>
</li>
</ul>
</li>
<li>
<p>&#x9500;&#x6BC1;&#x9636;&#x6BB5;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x9500;&#x6BC1;&#x5BF9;&#x8C61;&#x524D;&#xFF0C;&#x4F1A;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x9500;&#x6BC1;&#x65B9;&#x6CD5;&#xFF0C;&#x5B8C;&#x6210;&#x9500;&#x6BC1;&#x64CD;&#x4F5C;

<span class="token list punctuation">1.</span> Spring&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x9500;&#x6BC1;&#x6240;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#xFF1F;
   ctx.close();
<span class="token list punctuation">2.</span> &#x9500;&#x6BC1;&#x65B9;&#x6CD5;&#xFF1A;&#x7A0B;&#x5E8F;&#x5458;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x5B9A;&#x4E49;&#x9500;&#x6BC1;&#x65B9;&#x6CD5;&#xFF0C;&#x5B8C;&#x6210;&#x9500;&#x6BC1;&#x64CD;&#x4F5C;
      &#x8C03;&#x7528;&#xFF1A;Spring&#x5DE5;&#x5382;&#x5B8C;&#x6210;&#x8C03;&#x7528;
</pre><ul>
<li>
<p>&#x5B9E;&#x73B0;DisposableBean&#x63A5;&#x53E3;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;&#x9500;&#x6BC1;&#x65B9;&#x6CD5;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span> init<span class="token operator">-</span>method<span class="token operator">=</span><span class="token string">&quot;&quot;</span> destroy<span class="token operator">-</span>method<span class="token operator">=</span><span class="token string">&quot;myDestroy&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</pre></li>
<li>
<p>&#x7EC6;&#x8282;&#x5206;&#x6790;</p>
<ol>
<li>
<p>&#x9500;&#x6BC1;&#x65B9;&#x6CD5;&#x7684;&#x64CD;&#x4F5C;&#x53EA;&#x9002;&#x7528;&#x4E8E; scope=&quot;singleton&quot;</p>
</li>
<li>
<p>&#x4EC0;&#x4E48;&#x53EB;&#x505A;&#x9500;&#x6BC1;&#x64CD;&#x4F5C;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4E3B;&#x8981;&#x6307;&#x7684;&#x5C31;&#x662F; &#x8D44;&#x6E90;&#x7684;&#x91CA;&#x653E;&#x64CD;&#x4F5C;  io.close() connection.close();
</pre></li>
</ol>
</li>
</ul>
</li>
</ul>
<h4>&#x7B2C;&#x5341;&#x4E00;&#x7AE0;&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x5316;</h4>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x628A;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x7ECF;&#x5E38;&#x4FEE;&#x6539;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4FE1;&#x606F;&#xFF0C;&#x8F6C;&#x79FB;&#x5230;&#x4E00;&#x4E2A;&#x66F4;&#x5C0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;

<span class="token list punctuation">1.</span> Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5B58;&#x5728;&#x9700;&#x8981;&#x7ECF;&#x5E38;&#x4FEE;&#x6539;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1F;
   &#x5B58;&#x5728; &#x4EE5;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x76F8;&#x5173;&#x7684;&#x53C2;&#x6570; &#x4EE3;&#x8868;
<span class="token list punctuation">2.</span> &#x7ECF;&#x5E38;&#x53D8;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5728;Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x76F4;&#x63A5;&#x4FEE;&#x6539;
   &#x4E0D;&#x5229;&#x4E8E;&#x9879;&#x76EE;&#x7EF4;&#x62A4;(&#x4FEE;&#x6539;)
<span class="token list punctuation">3.</span> &#x8F6C;&#x79FB;&#x5230;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;(.properties)
   &#x5229;&#x4E8E;&#x7EF4;&#x62A4;(&#x4FEE;&#x6539;)
   
&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x5316;&#xFF1A;&#x5229;&#x4E8E;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x7EF4;&#x62A4;(&#x4FEE;&#x6539;)
</pre><h5>1. &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53C2;&#x6570;&#x7684;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h5>
<ul>
<li>
<p>&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5C0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;(.properities)</p>
<pre data-role="codeBlock" data-info="properties" class="language-properties">&#x540D;&#x5B57;&#xFF1A;&#x968F;&#x4FBF;
&#x653E;&#x7F6E;&#x4F4D;&#x7F6E;&#xFF1A;&#x968F;&#x4FBF;

<span class="token attr-name">jdbc.driverClassName</span> <span class="token punctuation">=</span> <span class="token attr-value">com.mysql.jdbc.Driver</span>
<span class="token attr-name">jdbc.url</span> <span class="token punctuation">=</span> <span class="token attr-value">jdbc:mysql://localhost:3306/suns?useSSL=false</span>
<span class="token attr-name">jdbc.username</span> <span class="token punctuation">=</span> <span class="token attr-value">root</span>
<span class="token attr-name">jdbc.password</span> <span class="token punctuation">=</span> <span class="token attr-value">123456</span>
</pre></li>
<li>
<p>Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E0E;&#x5C0F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6574;&#x5408;</p>
<p><img src="./%E5%B7%A5%E5%8E%82%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.assets/classpath.png" alt></p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">applicationContext.xml
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:/db.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x5728;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x901A;&#x8FC7;${key}&#x83B7;&#x53D6;&#x5C0F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x503C;<br>
<img src="./%E5%B7%A5%E5%8E%82%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.assets/image-20200418171133796.png" alt="image-20200418171133796"></p>
</li>
</ul>
<h4>&#x7B2C;&#x5341;&#x4E8C;&#x7AE0;&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;</h4>
<h5>1. &#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;Spring&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;&#x628A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8F6C;&#x6362;&#x6210;&#x4E86;&#x5BF9;&#x8C61;&#x4E2D;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x5BF9;&#x5E94;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FDB;&#x800C;&#x5B8C;&#x6210;&#x4E86;&#x6CE8;&#x5165;
</pre><p><img src="./%E5%B7%A5%E5%8E%82%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.assets/image-20200418201732220.png" alt="image-20200418201732220"></p>
<h5>2. &#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x539F;&#x56E0;&#xFF1A;&#x5F53;Spring&#x5185;&#x90E8;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;&#x65F6;&#xFF0C;&#x800C;&#x7A0B;&#x5E8F;&#x5458;&#x5728;&#x5E94;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x8FD8;&#x9700;&#x8981;&#x4F7F;&#x7528;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x81EA;&#x5DF1;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;
</pre><ul>
<li>
<p>&#x7C7B; implements Converter&#x63A5;&#x53E3;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
   <span class="token comment">/*
       convert&#x65B9;&#x6CD5;&#x4F5C;&#x7528;&#xFF1A;String ---&gt;  Date
                      SimpleDateFormat sdf = new SimpleDateFormat();
                      sdf.parset(String) ---&gt; Date
       param:source &#x4EE3;&#x8868;&#x7684;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D; &#x65E5;&#x671F;&#x5B57;&#x7B26;&#x4E32; &lt;value&gt;2020-10-11&lt;/value&gt;

       return : &#x5F53;&#x628A;&#x8F6C;&#x6362;&#x597D;&#x7684;Date&#x4F5C;&#x4E3A;convert&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x540E;&#xFF0C;Spring&#x81EA;&#x52A8;&#x7684;&#x4E3A;birthday&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x6CE8;&#x5165;&#xFF08;&#x8D4B;&#x503C;&#xFF09;

     */</span>

  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> date<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x5728;Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;</p>
<ul>
<li>
<p>MyDateConverter&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x51FA;&#x6765;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDateConverter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxxx.MyDateConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;&#x7684;&#x6CE8;&#x518C;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x76EE;&#x7684;&#xFF1A;&#x544A;&#x77E5;Spring&#x6846;&#x67B6;&#xFF0C;&#x6211;&#x4EEC;&#x6240;&#x521B;&#x5EFA;&#x7684;MyDateConverter&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;
<span class="token comment">&lt;!--&#x7528;&#x4E8E;&#x6CE8;&#x518C;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x5668;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conversionService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>converters<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ref</span> <span class="token attr-name">bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDateConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
</li>
</ul>
<h5 class="mume-header" id="3-%E7%BB%86%E8%8A%82">3. &#x7EC6;&#x8282;</h5>

<ul>
<li>
<p>MyDateConverter&#x4E2D;&#x7684;&#x65E5;&#x671F;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B8C;&#x6210;&#x8D4B;&#x503C;&#x3002;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyDateConverter</span> <span class="token keyword">implements</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> pattern<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> pattern<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPattern</span><span class="token punctuation">(</span><span class="token class-name">String</span> pattern<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pattern <span class="token operator">=</span> pattern<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*
       convert&#x65B9;&#x6CD5;&#x4F5C;&#x7528;&#xFF1A;String ---&gt;  Date
                      SimpleDateFormat sdf = new SimpleDateFormat();
                      sdf.parse(String) ---&gt; Date
       param:source &#x4EE3;&#x8868;&#x7684;&#x662F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D; &#x65E5;&#x671F;&#x5B57;&#x7B26;&#x4E32; &lt;value&gt;2020-10-11&lt;/value&gt;

       return : &#x5F53;&#x628A;&#x8F6C;&#x6362;&#x597D;&#x7684;Date&#x4F5C;&#x4E3A;convert&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x540E;&#xFF0C;Spring&#x81EA;&#x52A8;&#x7684;&#x4E3A;birthday&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x6CE8;&#x5165;&#xFF08;&#x8D4B;&#x503C;&#xFF09;

     */</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>
            date <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ParseException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token comment">&lt;!--Spring&#x521B;&#x5EFA;MyDateConverter&#x7C7B;&#x578B;&#x5BF9;&#x8C61;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myDateConverter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.converter.MyDateConverter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pattern<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>yyyy-MM-dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>ConversionSeviceFactoryBean &#x5B9A;&#x4E49; id&#x5C5E;&#x6027; &#x503C;&#x5FC5;&#x987B; conversionService</p>
</li>
<li>
<p>Spring&#x6846;&#x67B6;&#x5185;&#x7F6E;&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x7684;&#x8F6C;&#x6362;&#x5668;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x65E5;&#x671F;&#x683C;&#x5F0F;&#xFF1A;2020/05/01 (&#x4E0D;&#x652F;&#x6301; &#xFF1A;2020-05-01)
</pre></li>
</ul>
<h4 class="mume-header" id="%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86bean">&#x7B2C;&#x5341;&#x4E09;&#x7AE0;&#x3001;&#x540E;&#x7F6E;&#x5904;&#x7406;Bean</h4>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">BeanPostProcessor&#x4F5C;&#x7528;&#xFF1A;&#x5BF9;Spring&#x5DE5;&#x5382;&#x6240;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FDB;&#x884C;&#x518D;&#x52A0;&#x5DE5;&#x3002;

AOP&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#xFF1A;

&#x6CE8;&#x610F;&#xFF1A;BeanPostProcessor&#x63A5;&#x53E3;
          xxxx(){
             
<span class="token code keyword">          
          }</span>
</pre><ul>
<li>&#x540E;&#x7F6E;&#x5904;&#x7406;Bean&#x7684;&#x8FD0;&#x884C;&#x539F;&#x7406;&#x5206;&#x6790;<br>
<img src="./%E5%B7%A5%E5%8E%82%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7.assets/image-20200420155053027.png" alt="image-20200420155053027"></li>
</ul>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x7A0B;&#x5E8F;&#x5458;&#x5B9E;&#x73B0;BeanPostProcessor&#x89C4;&#x5B9A;&#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;

Object postProcessBeforeInitiallization(Object bean String beanName)
&#x4F5C;&#x7528;&#xFF1A;Spring&#x521B;&#x5EFA;&#x5B8C;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x6CE8;&#x5165;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;Before&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;
&#x83B7;&#x5F97;Spring&#x521B;&#x5EFA;&#x597D;&#x7684;&#x5BF9;&#x8C61; &#xFF1A;&#x901A;&#x8FC7;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;
&#x6700;&#x7EC8;&#x901A;&#x8FC7;&#x8FD4;&#x56DE;&#x503C;&#x4EA4;&#x7ED9;Spring&#x6846;&#x67B6; 

Object postProcessAfterInitiallization(Object bean String beanName)
&#x4F5C;&#x7528;&#xFF1A;Spring&#x6267;&#x884C;&#x5B8C;&#x5BF9;&#x8C61;&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;After&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;
&#x83B7;&#x5F97;Spring&#x521B;&#x5EFA;&#x597D;&#x7684;&#x5BF9;&#x8C61; &#xFF1A;&#x901A;&#x8FC7;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;
&#x6700;&#x7EC8;&#x901A;&#x8FC7;&#x8FD4;&#x56DE;&#x503C;&#x4EA4;&#x7ED9;Spring&#x6846;&#x67B6; 

&#x5B9E;&#x6218;&#x4E2D;&#xFF1A;
&#x5F88;&#x5C11;&#x5904;&#x7406;Spring&#x7684;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;&#xFF1A;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x533A;&#x5206;Before After&#x3002;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;After&#x65B9;&#x6CD5;&#x5373;&#x53EF;
&#x6CE8;&#x610F;&#xFF1A;
    postProcessBeforeInitiallization
    return bean&#x5BF9;&#x8C61;
</pre><ul>
<li>
<p>BeanPostProcessor&#x7684;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</p>
<ol>
<li>
<p>&#x7C7B; &#x5B9E;&#x73B0; BeanPostProcessor&#x63A5;&#x53E3;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

        <span class="token class-name">Categroy</span> categroy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Categroy</span><span class="token punctuation">)</span> bean<span class="token punctuation">;</span>
        categroy<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;xiaowb&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> categroy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></li>
<li>
<p>Spring&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myBeanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.MyBeanPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>BeanPostProcessor&#x7EC6;&#x8282;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">BeanPostProcessor&#x4F1A;&#x5BF9;Spring&#x5DE5;&#x5382;&#x4E2D;&#x6240;&#x6709;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;&#x3002;
</pre></li>
</ol>
</li>
</ul>
<h3>AOP&#x7F16;&#x7A0B;</h3>
<hr>
<h4>&#x7B2C;&#x4E00;&#x7AE0;&#x3001;&#x9759;&#x6001;&#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h4>
<h5>1. &#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h5>
<h6>1.1 &#x95EE;&#x9898;</h6>
<ul>
<li>
<p>&#x5728;JavaEE&#x5206;&#x5C42;&#x5F00;&#x53D1;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x90A3;&#x4E2A;&#x5C42;&#x6B21;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x6765;&#x8BB2;&#x6700;&#x91CD;&#x8981;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">DAO ---&gt; Service --&gt; Controller 

JavaEE&#x5206;&#x5C42;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x6700;&#x4E3A;&#x91CD;&#x8981;&#x7684;&#x662F;Service&#x5C42;
</pre></li>
<li>
<p>Service&#x5C42;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x54EA;&#x4E9B;&#x4EE3;&#x7801;&#xFF1F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Service&#x5C42;&#x4E2D; = &#x6838;&#x5FC3;&#x529F;&#x80FD;(&#x51E0;&#x5341;&#x884C; &#x4E0A;&#x767E;&#x4EE3;&#x7801;) + &#x989D;&#x5916;&#x529F;&#x80FD;(&#x9644;&#x52A0;&#x529F;&#x80FD;)
<span class="token list punctuation">1.</span> &#x6838;&#x5FC3;&#x529F;&#x80FD;
   &#x4E1A;&#x52A1;&#x8FD0;&#x7B97;
   DAO&#x8C03;&#x7528;
<span class="token list punctuation">2.</span> &#x989D;&#x5916;&#x529F;&#x80FD; 
   <span class="token list punctuation">1.</span> &#x4E0D;&#x5C5E;&#x4E8E;&#x4E1A;&#x52A1;
   <span class="token list punctuation">2.</span> &#x53EF;&#x6709;&#x53EF;&#x65E0;
   <span class="token list punctuation">3.</span> &#x4EE3;&#x7801;&#x91CF;&#x5F88;&#x5C0F; 
   
   &#x4E8B;&#x52A1;&#x3001;&#x65E5;&#x5FD7;&#x3001;&#x6027;&#x80FD;&#x76D1;&#x63A7;...
   
</pre></li>
<li>
<p>&#x989D;&#x5916;&#x529F;&#x80FD;&#x4E66;&#x5199;&#x5728;Service&#x5C42;&#x4E2D;&#x597D;&#x4E0D;&#x597D;&#xFF1F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Service&#x5C42;&#x7684;&#x8C03;&#x7528;&#x8005;&#x7684;&#x89D2;&#x5EA6;&#xFF08;Controller):&#x9700;&#x8981;&#x5728;Service&#x5C42;&#x4E66;&#x5199;&#x989D;&#x5916;&#x529F;&#x80FD;&#x3002;
                         &#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x8005;&#xFF1A;Service&#x5C42;&#x4E0D;&#x9700;&#x8981;&#x989D;&#x5916;&#x529F;&#x80FD;
                         
</pre></li>
<li>
<p>&#x73B0;&#x5B9E;&#x751F;&#x6D3B;&#x4E2D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;<br>
<img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200422110206172.png" alt="image-20200422110206172"></p>
</li>
</ul>
<h5>2. &#x4EE3;&#x7406;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</h5>
<h6>1.1 &#x6982;&#x5FF5;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x7C7B;&#xFF0C;&#x4E3A;&#x539F;&#x59CB;&#x7C7B;&#xFF08;&#x76EE;&#x6807;&#xFF09;&#x589E;&#x52A0;&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;
&#x597D;&#x5904;&#xFF1A;&#x5229;&#x4E8E;&#x539F;&#x59CB;&#x7C7B;(&#x76EE;&#x6807;)&#x7684;&#x7EF4;&#x62A4;
</pre><h6>1.2&#x540D;&#x8BCD;&#x89E3;&#x91CA;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x76EE;&#x6807;&#x7C7B; &#x539F;&#x59CB;&#x7C7B; 
   &#x6307;&#x7684;&#x662F; &#x4E1A;&#x52A1;&#x7C7B; (&#x6838;&#x5FC3;&#x529F;&#x80FD; --&gt; &#x4E1A;&#x52A1;&#x8FD0;&#x7B97; DAO&#x8C03;&#x7528;)
<span class="token list punctuation">2.</span> &#x76EE;&#x6807;&#x65B9;&#x6CD5;&#xFF0C;&#x539F;&#x59CB;&#x65B9;&#x6CD5;
   &#x76EE;&#x6807;&#x7C7B;(&#x539F;&#x59CB;&#x7C7B;)&#x4E2D;&#x7684;&#x65B9;&#x6CD5; &#x5C31;&#x662F;&#x76EE;&#x6807;&#x65B9;&#x6CD5;(&#x539F;&#x59CB;&#x65B9;&#x6CD5;)
<span class="token list punctuation">3.</span> &#x989D;&#x5916;&#x529F;&#x80FD; (&#x9644;&#x52A0;&#x529F;&#x80FD;)
   &#x65E5;&#x5FD7;&#xFF0C;&#x4E8B;&#x52A1;&#xFF0C;&#x6027;&#x80FD;
</pre><h6>1.3 &#x4EE3;&#x7406;&#x5F00;&#x53D1;&#x7684;&#x6838;&#x5FC3;&#x8981;&#x7D20;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4EE3;&#x7406;&#x7C7B; = &#x76EE;&#x6807;&#x7C7B;(&#x539F;&#x59CB;&#x7C7B;) + &#x989D;&#x5916;&#x529F;&#x80FD; + &#x539F;&#x59CB;&#x7C7B;(&#x76EE;&#x6807;&#x7C7B;)&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x7684;&#x63A5;&#x53E3;

&#x623F;&#x4E1C; ---&gt; 
		public interface UserService{
               m1
               m2
          }
&#x76EE;&#x6807;&#x7C7B;---&gt;          
          UserServiceImpl implements UserService{
               m1 ---&gt; &#x4E1A;&#x52A1;&#x8FD0;&#x7B97; DAO&#x8C03;&#x7528;
               m2 
          }
&#x4EE3;&#x7406;&#x7C7B;---&gt;
          UserServiceProxy implements UserService
               m1
               m2
</pre><h6>1.4 &#x7F16;&#x7801;</h6>
<p><strong>&#x9759;&#x6001;&#x4EE3;&#x7406;</strong>&#xFF1A;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x539F;&#x59CB;&#x7C7B;&#xFF0C;&#x624B;&#x5DE5;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x7C7B; (.java .class)</p>
<p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200422114654195.png" alt="image-20200422114654195"></p>
<h6>1.5 &#x9759;&#x6001;&#x4EE3;&#x7406;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x9759;&#x6001;&#x7C7B;&#x6587;&#x4EF6;&#x6570;&#x91CF;&#x8FC7;&#x591A;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;&#x9879;&#x76EE;&#x7BA1;&#x7406;
   UserServiceImpl  UserServiceProxy
   OrderServiceImpl OrderServiceProxy
<span class="token list punctuation">2.</span> &#x989D;&#x5916;&#x529F;&#x80FD;&#x7EF4;&#x62A4;&#x6027;&#x5DEE;
   &#x4EE3;&#x7406;&#x7C7B;&#x4E2D; &#x989D;&#x5916;&#x529F;&#x80FD;&#x4FEE;&#x6539;&#x590D;&#x6742;(&#x9EBB;&#x70E6;)
</pre><h4>&#x7B2C;&#x4E8C;&#x7AE0;&#x3001;Spring&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5F00;&#x53D1;</h4>
<h5>1. Spring&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7684;&#x6982;&#x5FF5;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6982;&#x5FF5;&#xFF1A;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x7C7B;&#x4E3A;&#x539F;&#x59CB;&#x7C7B;(&#x76EE;&#x6807;&#x7C7B;)&#x589E;&#x52A0;&#x989D;&#x5916;&#x529F;&#x80FD;
&#x597D;&#x5904;&#xFF1A;&#x5229;&#x4E8E;&#x539F;&#x59CB;&#x7C7B;(&#x76EE;&#x6807;&#x7C7B;)&#x7684;&#x7EF4;&#x62A4;
</pre><h5>2. &#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x73AF;&#x5883;</h5>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.14.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjrt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.8.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.8.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre><h5>3. Spring&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7684;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h5>
<ol>
<li>
<p>&#x521B;&#x5EFA;&#x539F;&#x59CB;&#x5BF9;&#x8C61;(&#x76EE;&#x6807;&#x5BF9;&#x8C61;)</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.register &#x4E1A;&#x52A1;&#x8FD0;&#x7B97; + DAO &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.proxy.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x989D;&#x5916;&#x529F;&#x80FD;<br>
MethodBeforeAdvice&#x63A5;&#x53E3;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;&#x4E66;&#x5199;&#x5728;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#x989D;&#x5916;&#x529F;&#x80FD;&#x3002;
</pre><pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Before</span> <span class="token keyword">implements</span> <span class="token class-name">MethodBeforeAdvice</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
      &#x4F5C;&#x7528;&#xFF1A;&#x9700;&#x8981;&#x628A;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD;&#xFF0C;&#x4E66;&#x5199;&#x5728;before&#x65B9;&#x6CD5;&#x4E2D;
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">,</span> <span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----method before advice log------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.dynamic.Before<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x5B9A;&#x4E49;&#x5207;&#x5165;&#x70B9;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x5207;&#x5165;&#x70B9;&#xFF1A;&#x989D;&#x5916;&#x529F;&#x80FD;&#x52A0;&#x5165;&#x7684;&#x4F4D;&#x7F6E;

&#x76EE;&#x7684;&#xFF1A;&#x7531;&#x7A0B;&#x5E8F;&#x5458;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x8981;&#xFF0C;&#x51B3;&#x5B9A;&#x989D;&#x5916;&#x529F;&#x80FD;&#x52A0;&#x5165;&#x7ED9;&#x90A3;&#x4E2A;&#x539F;&#x59CB;&#x65B9;&#x6CD5;
register
login

&#x7B80;&#x5355;&#x7684;&#x6D4B;&#x8BD5;&#xFF1A;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x90FD;&#x505A;&#x4E3A;&#x5207;&#x5165;&#x70B9;&#xFF0C;&#x90FD;&#x52A0;&#x5165;&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;&#x3002;
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* *(..) )<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>&#x7EC4;&#x88C5; (2 3&#x6574;&#x5408;)</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x8868;&#x8FBE;&#x7684;&#x542B;&#x4E49;&#xFF1A;&#x6240;&#x6709;&#x7684;&#x65B9;&#x6CD5; &#x90FD;&#x52A0;&#x5165; before&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>before<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x8C03;&#x7528;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x76EE;&#x7684;&#xFF1A;&#x83B7;&#x5F97;<span class="token class-name">Spring</span>&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x8C03;&#x7528;
<span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;/applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
&#x6CE8;&#x610F;&#xFF1A;
   <span class="token number">1.</span> <span class="token class-name">Spring</span>&#x7684;&#x5DE5;&#x5382;&#x901A;&#x8FC7;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#x7684;id&#x503C;&#x83B7;&#x5F97;&#x7684;&#x662F;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;
   <span class="token number">2.</span> &#x83B7;&#x5F97;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x58F0;&#x660E;&#x63A5;&#x53E3;&#x7C7B;&#x578B;&#xFF0C;&#x8FDB;&#x884C;&#x5BF9;&#x8C61;&#x7684;&#x5B58;&#x50A8;
   
<span class="token class-name">UserService</span> userService<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span>ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

userService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
userService<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</pre></li>
</ol>
<h5>4. &#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7EC6;&#x8282;&#x5206;&#x6790;</h5>
<ol>
<li>
<p>Spring&#x521B;&#x5EFA;&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x5728;&#x54EA;&#x91CC;&#xFF1F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x6846;&#x67B6;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x52A8;&#x6001;&#x5B57;&#x8282;&#x7801;&#x6280;&#x672F;&#xFF0C;&#x5728;JVM&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x8FD0;&#x884C;&#x5728;JVM&#x5185;&#x90E8;&#xFF0C;&#x7B49;&#x7A0B;&#x5E8F;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x4F1A;&#x548C;JVM&#x4E00;&#x8D77;&#x6D88;&#x5931;

&#x4EC0;&#x4E48;&#x53EB;&#x52A8;&#x6001;&#x5B57;&#x8282;&#x7801;&#x6280;&#x672F;:&#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x65B9;&#x52A8;&#x6001;&#x5B57;&#x8282;&#x7801;&#x6846;&#x67B6;&#xFF0C;&#x5728;JVM&#x4E2D;&#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7C7B;&#x7684;&#x5B57;&#x8282;&#x7801;&#xFF0C;&#x8FDB;&#x800C;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x5F53;&#x865A;&#x62DF;&#x673A;&#x7ED3;&#x675F;&#xFF0C;&#x52A8;&#x6001;&#x5B57;&#x8282;&#x7801;&#x8DDF;&#x7740;&#x6D88;&#x5931;&#x3002;

&#x7ED3;&#x8BBA;&#xFF1A;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x4E0D;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x7C7B;&#x6587;&#x4EF6;&#xFF0C;&#x90FD;&#x662F;JVM&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x52A8;&#x6001;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x4F1A;&#x9020;&#x6210;&#x9759;&#x6001;&#x4EE3;&#x7406;&#xFF0C;&#x7C7B;&#x6587;&#x4EF6;&#x6570;&#x91CF;&#x8FC7;&#x591A;&#xFF0C;&#x5F71;&#x54CD;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x7684;&#x95EE;&#x9898;&#x3002;
</pre><p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200423165547079.png" alt="image-20200423165547079"></p>
<ol start="2">
<li>
<p>&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7F16;&#x7A0B;&#x7B80;&#x5316;&#x4EE3;&#x7406;&#x7684;&#x5F00;&#x53D1;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x5728;&#x989D;&#x5916;&#x529F;&#x80FD;&#x4E0D;&#x6539;&#x53D8;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x521B;&#x5EFA;&#x5176;&#x4ED6;&#x76EE;&#x6807;&#x7C7B;&#xFF08;&#x539F;&#x59CB;&#x7C7B;&#xFF09;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x539F;&#x59CB;(&#x76EE;&#x6807;)&#x5BF9;&#x8C61;&#x5373;&#x53EF;&#x3002;
</pre></li>
<li>
<p>&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x989D;&#x5916;&#x529F;&#x80FD;&#x7684;&#x7EF4;&#x62A4;&#x6027;&#x5927;&#x5927;&#x589E;&#x5F3A;</p>
</li>
</ol>
</li>
</ol>
<h4>&#x7B2C;&#x4E09;&#x7AE0;&#x3001;Spring&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x8BE6;&#x89E3;</h4>
<h5>1. &#x989D;&#x5916;&#x529F;&#x80FD;&#x7684;&#x8BE6;&#x89E3;</h5>
<ul>
<li>
<p>MethodBeforeAdvice&#x5206;&#x6790;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token number">1.</span> <span class="token class-name">MethodBeforeAdvice</span>&#x63A5;&#x53E3;&#x4F5C;&#x7528;&#xFF1A;&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;&#xFF0C;&#x8FDB;&#x884C;&#x989D;&#x5916;&#x529F;&#x80FD;&#x64CD;&#x4F5C;&#x3002;

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Before1</span> <span class="token keyword">implements</span> <span class="token class-name">MethodBeforeAdvice</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
      &#x4F5C;&#x7528;&#xFF1A;&#x9700;&#x8981;&#x628A;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD;&#xFF0C;&#x4E66;&#x5199;&#x5728;before&#x65B9;&#x6CD5;&#x4E2D;

      Method: &#x989D;&#x5916;&#x529F;&#x80FD;&#x6240;&#x589E;&#x52A0;&#x7ED9;&#x7684;&#x90A3;&#x4E2A;&#x539F;&#x59CB;&#x65B9;&#x6CD5;
              login&#x65B9;&#x6CD5;

              register&#x65B9;&#x6CD5;

              showOrder&#x65B9;&#x6CD5;

      Object[]: &#x989D;&#x5916;&#x529F;&#x80FD;&#x6240;&#x589E;&#x52A0;&#x7ED9;&#x7684;&#x90A3;&#x4E2A;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x3002;String name,String password
                                               User

       Object: &#x989D;&#x5916;&#x529F;&#x80FD;&#x6240;&#x589E;&#x52A0;&#x7ED9;&#x7684;&#x90A3;&#x4E2A;&#x539F;&#x59CB;&#x5BF9;&#x8C61;  UserServiceImpl
                                          OrderServiceImpl
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">,</span> <span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----new method before advice log------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
   
<span class="token number">2.</span> before&#x65B9;&#x6CD5;&#x7684;<span class="token number">3</span>&#x4E2A;&#x53C2;&#x6570;&#x5728;&#x5B9E;&#x6218;&#x4E2D;&#xFF0C;&#x8BE5;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x3002;
   before&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5728;&#x5B9E;&#x6218;&#x4E2D;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#xFF0C;&#x4E0D;&#x4E00;&#x5B9A;&#x90FD;&#x4F1A;&#x7528;&#x5230;&#xFF0C;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x90FD;&#x4E0D;&#x7528;&#x3002;

   <span class="token class-name">Servlet</span><span class="token punctuation">{</span>
       <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpResponse</span> response<span class="token punctuation">)</span><span class="token punctuation">{</span>
            request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
            
            response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">-&gt;</span> 
       
       <span class="token punctuation">}</span>
   
   <span class="token punctuation">}</span>

</pre></li>
<li>
<p>MethodInterceptor(&#x65B9;&#x6CD5;&#x62E6;&#x622A;&#x5668;)</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">methodinterceptor&#x63A5;&#x53E3;&#xFF1A;&#x989D;&#x5916;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C; &#x524D;&#x3001;&#x540E;&#x3001;&#x524D;&#x540E;&#x3002;
</pre><pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Arround</span> <span class="token keyword">implements</span> <span class="token class-name">MethodInterceptor</span> <span class="token punctuation">{</span>
    <span class="token comment">/*
         invoke&#x65B9;&#x6CD5;&#x7684;&#x4F5C;&#x7528;:&#x989D;&#x5916;&#x529F;&#x80FD;&#x4E66;&#x5199;&#x5728;invoke
                        &#x989D;&#x5916;&#x529F;&#x80FD;  &#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;
                                 &#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;
                                 &#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D; &#x4E4B;&#x540E;
         &#x786E;&#x5B9A;&#xFF1A;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x600E;&#x4E48;&#x8FD0;&#x884C;

         &#x53C2;&#x6570;&#xFF1A;MethodInvocation &#xFF08;Method):&#x989D;&#x5916;&#x529F;&#x80FD;&#x6240;&#x589E;&#x52A0;&#x7ED9;&#x7684;&#x90A3;&#x4E2A;&#x539F;&#x59CB;&#x65B9;&#x6CD5;
                    login
                    register
              invocation.proceed() ---&gt; login&#x8FD0;&#x884C;
                                        register&#x8FD0;&#x884C;

          &#x8FD4;&#x56DE;&#x503C;&#xFF1A;Object: &#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;

         Date convert(String name)
     */</span>



    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
          <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----&#x989D;&#x5916;&#x529F;&#x80FD; log----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</pre><p>&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x540E;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
  <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x540E;----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;&#xFF0C;&#x4E4B;&#x540E;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD; &#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;&#xFF0C;&#x4E4B;&#x540E;&#x90FD;&#x8981;&#x6DFB;&#x52A0;&#xFF1F;
&#x4E8B;&#x52A1;

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x524D;----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E4B;&#x540E;----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>&#x989D;&#x5916;&#x529F;&#x80FD;&#x8FD0;&#x884C;&#x5728;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x7684;&#x65F6;&#x5019;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>

  <span class="token class-name">Object</span> ret <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38; &#x6267;&#x884C;&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD; ---- &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    throwable<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>


  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>MethodInterceptor&#x5F71;&#x54CD;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x76F4;&#x63A5;&#x4F5C;&#x4E3A;invoke&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x8FD4;&#x56DE;&#xFF0C;<span class="token class-name">MethodInterceptor</span>&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;

<span class="token class-name">MethodInterceptor</span>&#x5F71;&#x54CD;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;
<span class="token class-name">Invoke</span>&#x65B9;&#x6CD5;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x4E0D;&#x8981;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5373;&#x53EF;&#x3002;

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">MethodInvocation</span> invocation<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------log-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token class-name">Object</span> ret <span class="token operator">=</span> invocation<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<h5>2. &#x5207;&#x5165;&#x70B9;&#x8BE6;&#x89E3;</h5>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x5207;&#x5165;&#x70B9;&#x51B3;&#x5B9A;&#x989D;&#x5916;&#x529F;&#x80FD;&#x52A0;&#x5165;&#x4F4D;&#x7F6E;(&#x65B9;&#x6CD5;)

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* *(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
exection(* *(..)) ---&gt; &#x5339;&#x914D;&#x4E86;&#x6240;&#x6709;&#x65B9;&#x6CD5;    a  b  c 

1. execution()  &#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570;
2. * *(..)      &#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;  
</pre><h6>2.1 &#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;</h6>
<ol>
<li>
<p>&#x65B9;&#x6CD5;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;<br>
<img src="./AOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200425105040237.png" alt="image-20200425105040237"></p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">*</span>  *(..)  --&gt; &#x6240;&#x6709;&#x65B9;&#x6CD5;

<span class="token list punctuation">*</span> ---&gt; &#x4FEE;&#x9970;&#x7B26; &#x8FD4;&#x56DE;&#x503C;
<span class="token list punctuation">*</span> ---&gt; &#x65B9;&#x6CD5;&#x540D;
()---&gt; &#x53C2;&#x6570;&#x8868;
..---&gt; &#x5BF9;&#x4E8E;&#x53C2;&#x6570;&#x6CA1;&#x6709;&#x8981;&#x6C42; (&#x53C2;&#x6570;&#x6709;&#x6CA1;&#x6709;&#xFF0C;&#x53C2;&#x6570;&#x6709;&#x51E0;&#x4E2A;&#x90FD;&#x884C;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#x90FD;&#x884C;)
</pre><ul>
<li>
<p>&#x5B9A;&#x4E49;login&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x5207;&#x5165;&#x70B9;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">*</span> login(..)

<span class="token title important"><span class="token punctuation">#</span> &#x5B9A;&#x4E49;register&#x4F5C;&#x4E3A;&#x5207;&#x5165;&#x70B9;</span>
<span class="token list punctuation">*</span> register(..)
</pre></li>
<li>
<p>&#x5B9A;&#x4E49;login&#x65B9;&#x6CD5;&#x4E14;login&#x65B9;&#x6CD5;&#x6709;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570; &#x4F5C;&#x4E3A;&#x5207;&#x5165;&#x70B9;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">*</span> login(String,String)

<span class="token title important"><span class="token punctuation">#</span>&#x6CE8;&#x610F;&#xFF1A;&#x975E;java.lang&#x5305;&#x4E2D;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x5199;&#x5168;&#x9650;&#x5B9A;&#x540D;</span>
<span class="token list punctuation">*</span> register(com.baizhiedu.proxy.User)

<span class="token title important"><span class="token punctuation">#</span> ..&#x53EF;&#x4EE5;&#x548C;&#x5177;&#x4F53;&#x7684;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x8FDE;&#x7528;</span>
<span class="token list punctuation">*</span> login(String,..)  --&gt; login(String),login(String,String),login(String,com.baizhiedu.proxy.User)
</pre></li>
<li>
<p>&#x7CBE;&#x51C6;&#x65B9;&#x6CD5;&#x5207;&#x5165;&#x70B9;&#x9650;&#x5B9A;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4FEE;&#x9970;&#x7B26; &#x8FD4;&#x56DE;&#x503C;         &#x5305;.&#x7C7B;.&#x65B9;&#x6CD5;(&#x53C2;&#x6570;)

<span class="token code keyword">    *               com.baizhiedu.proxy.UserServiceImpl.login(..)
    *               com.baizhiedu.proxy.UserServiceImpl.login(String,String)</span>
</pre></li>
</ul>
</li>
<li>
<p>&#x7C7B;&#x5207;&#x5165;&#x70B9;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6307;&#x5B9A;&#x7279;&#x5B9A;&#x7C7B;&#x4F5C;&#x4E3A;&#x5207;&#x5165;&#x70B9;(&#x989D;&#x5916;&#x529F;&#x80FD;&#x52A0;&#x5165;&#x7684;&#x4F4D;&#x7F6E;)&#xFF0C;&#x81EA;&#x7136;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD;&#x4F1A;&#x52A0;&#x4E0A;&#x5BF9;&#x5E94;&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD;
</pre><ul>
<li>
<p>&#x8BED;&#x6CD5;1</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span>&#x7C7B;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x52A0;&#x5165;&#x4E86;&#x989D;&#x5916;&#x529F;&#x80FD; </span>
<span class="token list punctuation">*</span> com.baizhiedu.proxy.UserServiceImpl.*(..)   
</pre></li>
<li>
<p>&#x8BED;&#x6CD5;2</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span>&#x5FFD;&#x7565;&#x5305;</span>
<span class="token list punctuation">1.</span> &#x7C7B;&#x53EA;&#x5B58;&#x5728;&#x4E00;&#x7EA7;&#x5305;  com.UserServiceImpl
<span class="token list punctuation">*</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">.UserServiceImpl.</span><span class="token punctuation">*</span></span>(..)

<span class="token list punctuation">2.</span> &#x7C7B;&#x5B58;&#x5728;&#x591A;&#x7EA7;&#x5305;    com.baizhiedu.proxy.UserServiceImpl
<span class="token list punctuation">*</span> <span class="token italic"><span class="token punctuation">*</span><span class="token content">..UserServiceImpl.</span><span class="token punctuation">*</span></span>(..)
</pre></li>
</ul>
</li>
<li>
<p><strong>&#x5305;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F; &#x5B9E;&#x6218;</strong></p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6307;&#x5B9A;&#x5305;&#x4F5C;&#x4E3A;&#x989D;&#x5916;&#x529F;&#x80FD;&#x52A0;&#x5165;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x81EA;&#x7136;&#x5305;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7C7B;&#x53CA;&#x5176;&#x65B9;&#x6CD5;&#x90FD;&#x4F1A;&#x52A0;&#x5165;&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;
</pre><ul>
<li>
<p>&#x8BED;&#x6CD5;1</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span>&#x5207;&#x5165;&#x70B9;&#x5305;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7C7B;&#xFF0C;&#x5FC5;&#x987B;&#x5728;proxy&#x4E2D;&#xFF0C;&#x4E0D;&#x80FD;&#x5728;proxy&#x5305;&#x7684;&#x5B50;&#x5305;&#x4E2D;</span>
<span class="token list punctuation">*</span> com.baizhiedu.proxy.<span class="token italic"><span class="token punctuation">*</span><span class="token content">.</span><span class="token punctuation">*</span></span>(..)
</pre></li>
<li>
<p>&#x8BED;&#x6CD5;2</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span>&#x5207;&#x5165;&#x70B9;&#x5F53;&#x524D;&#x5305;&#x53CA;&#x5176;&#x5B50;&#x5305;&#x90FD;&#x751F;&#x6548; </span>
<span class="token list punctuation">*</span> com.baizhiedu.proxy..<span class="token italic"><span class="token punctuation">*</span><span class="token content">.</span><span class="token punctuation">*</span></span>(..) 
</pre></li>
</ul>
</li>
</ol>
<h6>2.2 &#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570;&#xFF1A;&#x7528;&#x4E8E;&#x6267;&#x884C;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;
</pre><ol>
<li>
<p>execution</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6700;&#x4E3A;&#x91CD;&#x8981;&#x7684;&#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570;&#xFF0C;&#x529F;&#x80FD;&#x6700;&#x5168;&#x3002;
&#x6267;&#x884C; &#x65B9;&#x6CD5;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F; &#x7C7B;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F; &#x5305;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F; 

&#x5F0A;&#x7AEF;&#xFF1A;execution&#x6267;&#x884C;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F; &#xFF0C;&#x4E66;&#x5199;&#x9EBB;&#x70E6;
     execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> com.baizhiedu.proxy..</span><span class="token punctuation">*</span></span>.*(..))
     
&#x6CE8;&#x610F;&#xFF1A;&#x5176;&#x4ED6;&#x7684;&#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570; &#x7B80;&#x5316;&#x662F;execution&#x4E66;&#x5199;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x529F;&#x80FD;&#x4E0A;&#x5B8C;&#x5168;&#x4E00;&#x81F4;
</pre></li>
<li>
<p>args</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x51FD;&#x6570;(&#x65B9;&#x6CD5;) &#x53C2;&#x6570;&#x7684;&#x5339;&#x914D;

&#x5207;&#x5165;&#x70B9;&#xFF1A;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x5F97;&#x662F;2&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x53C2;&#x6570;

execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> </span><span class="token punctuation">*</span></span>(String,String))

args(String,String)
</pre></li>
<li>
<p>within</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x8FDB;&#x884C;&#x7C7B;&#x3001;&#x5305;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x5339;&#x914D;

&#x5207;&#x5165;&#x70B9;&#xFF1A;UserServiceImpl&#x8FD9;&#x4E2A;&#x7C7B;

execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> </span><span class="token punctuation">*</span></span>..UserServiceImpl.*(..))

within(*..UserServiceImpl)

execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> com.baizhiedu.proxy..</span><span class="token punctuation">*</span></span>.*(..))

within(com.baizhiedu.proxy..*)

</pre></li>
</ol>
<p>4.@annotation</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x4F5C;&#x7528;&#xFF1A;&#x4E3A;&#x5177;&#x6709;&#x7279;&#x6B8A;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x6CD5;&#x52A0;&#x5165;&#x989D;&#x5916;&#x529F;&#x80FD;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@annotation(com.baizhiedu.Log)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre><ol start="5">
<li>
<p>&#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570;&#x7684;&#x903B;&#x8F91;&#x8FD0;&#x7B97;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6307;&#x7684;&#x662F; &#x6574;&#x5408;&#x591A;&#x4E2A;&#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570;&#x4E00;&#x8D77;&#x914D;&#x5408;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FDB;&#x800C;&#x5B8C;&#x6210;&#x66F4;&#x4E3A;&#x590D;&#x6742;&#x7684;&#x9700;&#x6C42;
</pre><ul>
<li>
<p>and&#x4E0E;&#x64CD;&#x4F5C;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6848;&#x4F8B;&#xFF1A;login &#x540C;&#x65F6; &#x53C2;&#x6570; 2&#x4E2A;&#x5B57;&#x7B26;&#x4E32; 

<span class="token list punctuation">1.</span> execution(* login(String,String))

<span class="token list punctuation">2.</span> execution(* login(..)) and args(String,String)

&#x6CE8;&#x610F;&#xFF1A;&#x4E0E;&#x64CD;&#x4F5C;&#x4E0D;&#x80FD;&#x7528;&#x4E8E;&#x540C;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5207;&#x5165;&#x70B9;&#x51FD;&#x6570; 

&#x6848;&#x4F8B;&#xFF1A;register&#x65B9;&#x6CD5; &#x548C; login&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x5207;&#x5165;&#x70B9; 

execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> login(..)) or  execution(</span><span class="token punctuation">*</span></span> register(..))

</pre></li>
<li>
<p>or&#x6216;&#x64CD;&#x4F5C;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6848;&#x4F8B;&#xFF1A;register&#x65B9;&#x6CD5; &#x548C; login&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x5207;&#x5165;&#x70B9; 

execution(<span class="token italic"><span class="token punctuation">*</span><span class="token content"> login(..)) or  execution(</span><span class="token punctuation">*</span></span> register(..))
</pre></li>
</ul>
</li>
</ol>
<h4>&#x7B2C;&#x56DB;&#x7AE0;&#x3001;AOP&#x7F16;&#x7A0B;</h4>
<h5>1. AOP&#x6982;&#x5FF5;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">AOP (Aspect Oriented Programing)   &#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B; = Spring&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5F00;&#x53D1;
&#x4EE5;&#x5207;&#x9762;&#x4E3A;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x7684;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#xFF0C;&#x901A;&#x8FC7;&#x5207;&#x9762;&#x95F4;&#x7684;&#x5F7C;&#x6B64;&#x534F;&#x540C;&#xFF0C;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#xFF0C;&#x5B8C;&#x6210;&#x7A0B;&#x5E8F;&#x7684;&#x6784;&#x5EFA;
&#x5207;&#x9762; = &#x5207;&#x5165;&#x70B9; + &#x989D;&#x5916;&#x529F;&#x80FD;

OOP (Object Oritened Programing)   &#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B; Java
&#x4EE5;&#x5BF9;&#x8C61;&#x4E3A;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x7684;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x8C61;&#x95F4;&#x7684;&#x5F7C;&#x6B64;&#x534F;&#x540C;&#xFF0C;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#xFF0C;&#x5B8C;&#x6210;&#x7A0B;&#x5E8F;&#x7684;&#x6784;&#x5EFA;

POP (Producer Oriented Programing) &#x9762;&#x5411;&#x8FC7;&#x7A0B;(&#x65B9;&#x6CD5;&#x3001;&#x51FD;&#x6570;)&#x7F16;&#x7A0B; C 
&#x4EE5;&#x8FC7;&#x7A0B;&#x4E3A;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#x7684;&#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#xFF0C;&#x901A;&#x8FC7;&#x8FC7;&#x7A0B;&#x95F4;&#x7684;&#x5F7C;&#x6B64;&#x534F;&#x540C;&#xFF0C;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#xFF0C;&#x5B8C;&#x6210;&#x7A0B;&#x5E8F;&#x7684;&#x6784;&#x5EFA;
</pre><pre data-role="codeBlock" data-info="markdown" class="language-markdown">AOP&#x7684;&#x6982;&#x5FF5;&#xFF1A;
     &#x672C;&#x8D28;&#x5C31;&#x662F;Spring&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5F00;&#x53D1;&#xFF0C;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x7C7B;&#x4E3A;&#x539F;&#x59CB;&#x7C7B;&#x589E;&#x52A0;&#x989D;&#x5916;&#x529F;&#x80FD;&#x3002;
     &#x597D;&#x5904;&#xFF1A;&#x5229;&#x4E8E;&#x539F;&#x59CB;&#x7C7B;&#x7684;&#x7EF4;&#x62A4;

&#x6CE8;&#x610F;&#xFF1A;AOP&#x7F16;&#x7A0B;&#x4E0D;&#x53EF;&#x80FD;&#x53D6;&#x4EE3;OOP&#xFF0C;OOP&#x7F16;&#x7A0B;&#x6709;&#x610F;&#x8865;&#x5145;&#x3002;
</pre><h5>2. AOP&#x7F16;&#x7A0B;&#x7684;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x539F;&#x59CB;&#x5BF9;&#x8C61;
<span class="token list punctuation">2.</span> &#x989D;&#x5916;&#x529F;&#x80FD; (MethodInterceptor)
<span class="token list punctuation">3.</span> &#x5207;&#x5165;&#x70B9;
<span class="token list punctuation">4.</span> &#x7EC4;&#x88C5;&#x5207;&#x9762; (&#x989D;&#x5916;&#x529F;&#x80FD;+&#x5207;&#x5165;&#x70B9;)
</pre><h5>3. &#x5207;&#x9762;&#x7684;&#x540D;&#x8BCD;&#x89E3;&#x91CA;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x5207;&#x9762; = &#x5207;&#x5165;&#x70B9; + &#x989D;&#x5916;&#x529F;&#x80FD; 

&#x51E0;&#x4F55;&#x5B66;
   &#x9762; = &#x70B9; + &#x76F8;&#x540C;&#x7684;&#x6027;&#x8D28;
</pre><p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200427134740273.png" alt="image-20200427134740273"></p>
<h4>&#x7B2C;&#x4E94;&#x7AE0;&#x3001;AOP&#x7684;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x539F;&#x7406;</h4>
<h5>1. &#x6838;&#x5FC3;&#x95EE;&#x9898;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> AOP&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;(&#x52A8;&#x6001;&#x5B57;&#x8282;&#x7801;&#x6280;&#x672F;)
<span class="token list punctuation">2.</span> Spring&#x5DE5;&#x5382;&#x5982;&#x4F55;&#x52A0;&#x5DE5;&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;   
   &#x901A;&#x8FC7;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#x7684;id&#x503C;&#xFF0C;&#x83B7;&#x5F97;&#x7684;&#x662F;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;
</pre><h5>2. &#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#x7684;&#x521B;&#x5EFA;</h5>
<h6>2.1 JDK&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;</h6>
<ul>
<li>Proxy.newProxyInstance&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x8BE6;&#x89E3;</li>
</ul>
<p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200428175248912.png" alt=" "></p>
<p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200428175316276.png" alt="image-20200428175316276"></p>
<ul>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJDKProxy</span> <span class="token punctuation">{</span>

    <span class="token comment">/*
        1. &#x501F;&#x7528;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;  TestJDKProxy
                       &#x6216;UserServiceImpl
                       &#x6216; &#x5176;&#x4ED6;
        2. JDK8.x&#x524D;

            final UserService userService = new UserServiceImpl();
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//1 &#x521B;&#x5EFA;&#x539F;&#x59CB;&#x5BF9;&#x8C61;</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2 JDK&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x4EE3;&#x7406;</span>
        <span class="token comment">/*

         */</span>

        <span class="token class-name">InvocationHandler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;------proxy  log --------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//&#x539F;&#x59CB;&#x65B9;&#x6CD5;&#x8FD0;&#x884C;</span>
                <span class="token class-name">Object</span> ret <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>userService<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">UserService</span> userServiceProxy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span><span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span><span class="token class-name">UserServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>userService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>

        userServiceProxy<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;suns&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userServiceProxy<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre></li>
</ul>
<h6>2.2 CGlib&#x7684;&#x52A8;&#x6001;&#x4EE3;&#x7406;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">CGlib&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7684;&#x539F;&#x7406;&#xFF1A;&#x7236;&#x5B50;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#xFF0C;&#x539F;&#x59CB;&#x7C7B;&#x4F5C;&#x4E3A;&#x7236;&#x7C7B;&#xFF0C;&#x4EE3;&#x7406;&#x7C7B;&#x4F5C;&#x4E3A;&#x5B50;&#x7C7B;&#xFF0C;&#x8FD9;&#x6837;&#x65E2;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;2&#x8005;&#x65B9;&#x6CD5;&#x4E00;&#x81F4;&#xFF0C;&#x540C;&#x65F6;&#x5728;&#x4EE3;&#x7406;&#x7C7B;&#x4E2D;&#x63D0;&#x4F9B;&#x65B0;&#x7684;&#x5B9E;&#x73B0;(&#x989D;&#x5916;&#x529F;&#x80FD;+&#x539F;&#x59CB;&#x65B9;&#x6CD5;)
</pre><p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200429111709226.png" alt="image-20200429111709226"></p>
<ul>
<li>
<p>CGlib&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>baizhiedu<span class="token punctuation">.</span>cglib</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>baizhiedu<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">Enhancer</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">MethodInterceptor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">MethodProxy</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestCglib</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//1 &#x521B;&#x5EFA;&#x539F;&#x59CB;&#x5BF9;&#x8C61;</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">/*
          2 &#x901A;&#x8FC7;cglib&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;
            Proxy.newProxyInstance(classloader,interface,invocationhandler)

            Enhancer.setClassLoader()
            Enhancer.setSuperClass()
            Enhancer.setCallback();  ---&gt; MethodInterceptor(cglib)
            Enhancer.create() ---&gt; &#x4EE3;&#x7406;
         */</span>

        <span class="token class-name">Enhancer</span> enhancer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Enhancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        enhancer<span class="token punctuation">.</span><span class="token function">setClassLoader</span><span class="token punctuation">(</span><span class="token class-name">TestCglib</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setSuperclass</span><span class="token punctuation">(</span>userService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token class-name">MethodInterceptor</span> interceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MethodInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//&#x7B49;&#x540C;&#x4E8E; InvocationHandler --- invoke</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">,</span> <span class="token class-name">MethodProxy</span> methodProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---cglib log----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Object</span> ret <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>userService<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        enhancer<span class="token punctuation">.</span><span class="token function">setCallback</span><span class="token punctuation">(</span>interceptor<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">UserService</span> userServiceProxy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> enhancer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        userServiceProxy<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;suns&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123345&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userServiceProxy<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre></li>
<li>
<p>&#x603B;&#x7ED3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> JDK&#x52A8;&#x6001;&#x4EE3;&#x7406;   Proxy.newProxyInstance()  &#x901A;&#x8FC7;&#x63A5;&#x53E3;&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x7684;&#x5B9E;&#x73B0;&#x7C7B; 
<span class="token list punctuation">2.</span> Cglib&#x52A8;&#x6001;&#x4EE3;&#x7406; Enhancer                  &#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x7236;&#x7C7B;&#x521B;&#x5EFA;&#x7684;&#x4EE3;&#x7406;&#x7C7B; 
</pre></li>
</ul>
<h5>3. Spring&#x5DE5;&#x5382;&#x5982;&#x4F55;&#x52A0;&#x5DE5;&#x539F;&#x59CB;&#x5BF9;&#x8C61;</h5>
<ul>
<li>
<p>&#x601D;&#x8DEF;&#x5206;&#x6790;<br>
<img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200430113353205.png" alt="image-20200430113353205"></p>
</li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProxyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token comment">/*
         Proxy.newProxyInstance();
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

        <span class="token class-name">InvocationHandler</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InvocationHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----- new Log-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Object</span> ret <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>bean<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span><span class="token class-name">ProxyBeanPostProcessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bean<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.factory.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>


<span class="token comment">&lt;!--1. &#x5B9E;&#x73B0;BeanPostProcessor &#x8FDB;&#x884C;&#x52A0;&#x5DE5;
        2. &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;BeanPostProcessor&#x8FDB;&#x884C;&#x914D;&#x7F6E;
    --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>proxyBeanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.factory.ProxyBeanPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

</pre></li>
</ul>
<h4>&#x7B2C;&#x516D;&#x7AE0;&#x3001;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;AOP&#x7F16;&#x7A0B;</h4>
<h5>1. &#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;AOP&#x7F16;&#x7A0B;&#x7684;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h5>
<ol>
<li>
<p>&#x539F;&#x59CB;&#x5BF9;&#x8C61;</p>
</li>
<li>
<p>&#x989D;&#x5916;&#x529F;&#x80FD;</p>
</li>
<li>
<p>&#x5207;&#x5165;&#x70B9;</p>
</li>
<li>
<p>&#x7EC4;&#x88C5;&#x5207;&#x9762;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"># &#x901A;&#x8FC7;&#x5207;&#x9762;&#x7C7B; &#x5B9A;&#x4E49;&#x4E86; &#x989D;&#x5916;&#x529F;&#x80FD; <span class="token annotation punctuation">@Around</span>
           &#x5B9A;&#x4E49;&#x4E86; &#x5207;&#x5165;&#x70B9;   <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span>
           <span class="token annotation punctuation">@Aspect</span> &#x5207;&#x9762;&#x7C7B; 
           
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>baizhiedu<span class="token punctuation">.</span>aspect</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">ProceedingJoinPoint</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Around</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>aspectj<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Aspect</span><span class="token punctuation">;</span>


<span class="token comment">/*
       1. &#x989D;&#x5916;&#x529F;&#x80FD;
                 public class MyArround implements MethodInterceptor{

                      public Object invoke(MethodInvocation invocation){

                              Object ret = invocation.proceed();

                              return ret;

                      }

                 }

       2. &#x5207;&#x5165;&#x70B9;
             &lt;aop:config
                 &lt;aop:pointcut id=&quot;&quot;  expression=&quot;execution(* login(..))&quot;/&gt;
 */</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">arround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----aspect log ------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
   
</pre><pre data-role="codeBlock" data-info="xml" class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.aspect.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token comment">&lt;!--
       &#x5207;&#x9762;
         1. &#x989D;&#x5916;&#x529F;&#x80FD;
         2. &#x5207;&#x5165;&#x70B9;
         3. &#x7EC4;&#x88C5;&#x5207;&#x9762;


    --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>arround<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.aspect.MyAspect<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!--&#x544A;&#x77E5;Spring&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;AOP&#x7F16;&#x7A0B;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span> <span class="token punctuation">/&gt;</span></span> 
</pre></li>
</ol>
<h5>2. &#x7EC6;&#x8282;</h5>
<ol>
<li>
<p>&#x5207;&#x5165;&#x70B9;&#x590D;&#x7528;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x5207;&#x5165;&#x70B9;&#x590D;&#x7528;&#xFF1A;&#x5728;&#x5207;&#x9762;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570; &#x4E0A;&#x9762;<span class="token annotation punctuation">@Pointcut</span>&#x6CE8;&#x89E3; &#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5B9A;&#x4E49;&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x540E;&#x7EED;&#x66F4;&#x52A0;&#x6709;&#x5229;&#x4E8E;&#x5207;&#x5165;&#x70B9;&#x590D;&#x7528;&#x3002;

<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myPointcut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;myPointcut()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">arround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----aspect log ------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;myPointcut()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">arround1</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----aspect tx ------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre></li>
<li>
<p>&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7684;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;</p>
</li>
</ol>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">AOP&#x5E95;&#x5C42;&#x5B9E;&#x73B0;  2&#x79CD;&#x4EE3;&#x7406;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;
<span class="token list punctuation">1.</span>  JDK  &#x901A;&#x8FC7;&#x5B9E;&#x73B0;&#x63A5;&#x53E3; &#x505A;&#x65B0;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x65B9;&#x5F0F; &#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;
<span class="token list punctuation">2.</span>  Cglib&#x901A;&#x8FC7;&#x7EE7;&#x627F;&#x7236;&#x7C7B; &#x505A;&#x65B0;&#x7684;&#x5B50;&#x7C7B;      &#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;

&#x9ED8;&#x8BA4;&#x60C5;&#x51B5; AOP&#x7F16;&#x7A0B; &#x5E95;&#x5C42;&#x5E94;&#x7528;JDK&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x521B;&#x5EFA;&#x65B9;&#x5F0F; 
&#x5982;&#x679C;&#x5207;&#x6362;Cglib
     <span class="token list punctuation">1.</span> &#x57FA;&#x4E8E;&#x6CE8;&#x89E3;AOP&#x5F00;&#x53D1;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
     <span class="token list punctuation">2.</span> &#x4F20;&#x7EDF;&#x7684;AOP&#x5F00;&#x53D1;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aop</span><span class="token punctuation">&gt;</span></span>
</pre><h4>&#x7B2C;&#x4E03;&#x7AE0;&#x3001;AOP&#x5F00;&#x53D1;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5751;</h4>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x5751;&#xFF1A;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x4E1A;&#x52A1;&#x7C7B;&#x4E2D;&#xFF0C;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#x95F4;&#x7684;&#x76F8;&#x4E92;&#x8C03;&#x7528;&#xFF0C;&#x53EA;&#x6709;&#x6700;&#x5916;&#x5C42;&#x7684;&#x65B9;&#x6CD5;<span class="token punctuation">,</span>&#x624D;&#x662F;&#x52A0;&#x5165;&#x4E86;&#x989D;&#x5916;&#x529F;&#x80FD;<span class="token punctuation">(</span>&#x5185;&#x90E8;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;&#x666E;&#x901A;&#x7684;&#x65B9;&#x5F0F;&#x8C03;&#x7528;&#xFF0C;&#x90FD;&#x8C03;&#x7528;&#x7684;&#x662F;&#x539F;&#x59CB;&#x65B9;&#x6CD5;<span class="token punctuation">)</span>&#x3002;&#x5982;&#x679C;&#x60F3;&#x8BA9;&#x5185;&#x5C42;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x8C03;&#x7528;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x8981;<span class="token class-name">AppicationContextAware</span>&#x83B7;&#x5F97;&#x5DE5;&#x5382;&#xFF0C;&#x8FDB;&#x800C;&#x83B7;&#x5F97;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x3002;
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">,</span> <span class="token class-name">ApplicationContextAware</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ApplicationContext</span> ctx<span class="token punctuation">;</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>ctx <span class="token operator">=</span> applicationContext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Log</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.register &#x4E1A;&#x52A1;&#x8FD0;&#x7B97; + DAO &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//throw new RuntimeException(&quot;&#x6D4B;&#x8BD5;&#x5F02;&#x5E38;&quot;);</span>

        <span class="token comment">//&#x8C03;&#x7528;&#x7684;&#x662F;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#x7684;login&#x65B9;&#x6CD5; ---&gt; &#x6838;&#x5FC3;&#x529F;&#x80FD;</span>
        <span class="token comment">/*
            &#x8BBE;&#x8BA1;&#x76EE;&#x7684;&#xFF1A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;login&#x65B9;&#x6CD5; ---&gt;  &#x989D;&#x5916;&#x529F;&#x80FD;+&#x6838;&#x5FC3;&#x529F;&#x80FD;
            ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;/applicationContext2.xml&quot;);
            UserService userService = (UserService) ctx.getBean(&quot;userService&quot;);
            userService.login();

            Spring&#x5DE5;&#x5382;&#x91CD;&#x91CF;&#x7EA7;&#x8D44;&#x6E90; &#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x4E2D; &#x5E94;&#x8BE5;&#x53EA;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;
         */</span>
        <span class="token comment">//this.login(&quot;suns&quot;, &quot;123456&quot;);//&#x8C03;&#x7528;&#x7684;&#x662F;&#x539F;&#x59CB;&#x5BF9;&#x8C61;</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token string">&quot;suns&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;UserServiceImpl.login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre><h4>&#x7B2C;&#x516B;&#x7AE0;&#x3001;AOP&#x9636;&#x6BB5;&#x77E5;&#x8BC6;&#x603B;&#x7ED3;</h4>
<p><img src=".%5CAOP%E7%BC%96%E7%A8%8B.assets%5Cimage-20200503162625116.png" alt="image-20200503162625116"></p>
<h3>&#x6301;&#x4E45;&#x5C42;&#x6574;&#x5408;</h3>
<hr>
<h4>&#x7B2C;&#x4E00;&#x7AE0;&#x3001;&#x6301;&#x4E45;&#x5C42;&#x6574;&#x5408;</h4>
<h5>1.Spring&#x6846;&#x67B6;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4E0E;&#x6301;&#x4E45;&#x5C42;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x6574;&#x5408;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> JavaEE&#x5F00;&#x53D1;&#x9700;&#x8981;&#x6301;&#x4E45;&#x5C42;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BBF;&#x95EE;&#x64CD;&#x4F5C;&#x3002;
<span class="token list punctuation">2.</span> JDBC Hibernate MyBatis&#x8FDB;&#x884C;&#x6301;&#x4E45;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x5B58;&#x5728;&#x5927;&#x91CF;&#x7684;&#x4EE3;&#x7801;&#x5197;&#x4F59;
<span class="token list punctuation">3.</span> Spring&#x57FA;&#x4E8E;&#x6A21;&#x677F;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5BF9;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x6301;&#x4E45;&#x5C42;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x4E86;&#x5C01;&#x88C5;
</pre><h5>2. Spring&#x53EF;&#x4EE5;&#x4E0E;&#x90A3;&#x4E9B;&#x6301;&#x4E45;&#x5C42;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x6574;&#x5408;&#xFF1F;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> JDBC
     |-  JDBCTemplate 
<span class="token list punctuation">2.</span> Hibernate (JPA)
     |-  HibernateTemplate
<span class="token list punctuation">3.</span> MyBatis
     |-  SqlSessionFactoryBean MapperScannerConfigure 
</pre><h4>&#x7B2C;&#x4E8C;&#x7AE0;&#x3001;Spring&#x4E0E;MyBatis&#x6574;&#x5408;</h4>
<h5>1. MyBatis&#x5F00;&#x53D1;&#x6B65;&#x9AA4;&#x7684;&#x56DE;&#x987E;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5B9E;&#x4F53;
<span class="token list punctuation">2.</span> &#x5B9E;&#x4F53;&#x522B;&#x540D;  
<span class="token list punctuation">3.</span> &#x8868;
<span class="token list punctuation">4.</span> &#x521B;&#x5EFA;DAO&#x63A5;&#x53E3;
<span class="token list punctuation">5.</span> &#x5B9E;&#x73B0;Mapper&#x6587;&#x4EF6;
<span class="token list punctuation">6.</span> &#x6CE8;&#x518C;Mapper&#x6587;&#x4EF6;
<span class="token list punctuation">7.</span> MybatisAPI&#x8C03;&#x7528;
</pre><h5>2. Mybatis&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x5B58;&#x5728;&#x95EE;&#x9898;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x914D;&#x7F6E;&#x7E41;&#x7410;  &#x4EE3;&#x7801;&#x5197;&#x4F59; 

<span class="token list punctuation">1.</span> &#x5B9E;&#x4F53;
<span class="token list punctuation">2.</span> &#x5B9E;&#x4F53;&#x522B;&#x540D;         &#x914D;&#x7F6E;&#x7E41;&#x7410; 
<span class="token list punctuation">3.</span> &#x8868;
<span class="token list punctuation">4.</span> &#x521B;&#x5EFA;DAO&#x63A5;&#x53E3;
<span class="token list punctuation">5.</span> &#x5B9E;&#x73B0;Mapper&#x6587;&#x4EF6;
<span class="token list punctuation">6.</span> &#x6CE8;&#x518C;Mapper&#x6587;&#x4EF6;   &#x914D;&#x7F6E;&#x7E41;&#x7410; 
<span class="token list punctuation">7.</span> MybatisAPI&#x8C03;&#x7528;  &#x4EE3;&#x7801;&#x5197;&#x4F59; 
</pre><h5>3. Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x601D;&#x8DEF;&#x5206;&#x6790;</h5>
<p><img src="./%E6%8C%81%E4%B9%85%E5%B1%82%E6%95%B4%E5%90%88.assets/image-20200504141407141.png" alt="image-20200504141407141"></p>
<h5>4. Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x7684;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h5>
<ul>
<li>
<p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;ApplicationContext.xml) &#x8FDB;&#x884C;&#x76F8;&#x5173;&#x914D;&#x7F6E;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">#&#x914D;&#x7F6E; &#x662F;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4E00;&#x6B21; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 

<span class="token comment">&lt;!--&#x521B;&#x5EFA;SqlSessionFactory--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ssfb<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeAliasesPackage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         &#x6307;&#x5B9A; &#x5B9E;&#x4F53;&#x7C7B;&#x6240;&#x5728;&#x7684;&#x5305;  com.baizhiedu.entity  User
                                                 Product
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapperLocations<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          &#x6307;&#x5B9A; &#x914D;&#x7F6E;&#x6587;&#x4EF6;(&#x6620;&#x5C04;&#x6587;&#x4EF6;)&#x7684;&#x8DEF;&#x5F84; &#x8FD8;&#x6709;&#x901A;&#x7528;&#x914D;&#x7F6E; 
          com.baizhiedu.mapper/*Mapper.xml 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--DAO&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;
    session ---&gt;</span> session.getMapper() --- xxxDAO&#x5B9E;&#x73B0;&#x7C7B;&#x5BF9;&#x8C61; 
    XXXDAO  ---&gt; xXXDAO
--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scanner<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MapperScannerConfigure<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ssfb<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePacakge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        &#x6307;&#x5B9A; DAO&#x63A5;&#x53E3;&#x653E;&#x7F6E;&#x7684;&#x5305;  com.baizhiedu.dao 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token title important"><span class="token punctuation">#</span> &#x5B9E;&#x6218;&#x7ECF;&#x5E38;&#x6839;&#x636E;&#x9700;&#x6C42; &#x5199;&#x7684;&#x4EE3;&#x7801;</span>
<span class="token list punctuation">1.</span> &#x5B9E;&#x4F53;
<span class="token list punctuation">2.</span> &#x8868;
<span class="token list punctuation">3.</span> &#x521B;&#x5EFA;DAO&#x63A5;&#x53E3;
<span class="token list punctuation">4.</span> &#x5B9E;&#x73B0;Mapper&#x6587;&#x4EF6;
</pre></li>
</ul>
<h5 class="mume-header" id="5-spring%E4%B8%8Emybatis%E6%95%B4%E5%90%88%E7%BC%96%E7%A0%81">5. Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x7F16;&#x7801;</h5>

<ul>
<li>
<p>&#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x73AF;&#x5883;(jar)</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.14.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.48<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token comment">&lt;!--&#x8FDE;&#x63A5;&#x6C60;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/suns?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123456<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--&#x521B;&#x5EFA;SqlSessionFactory SqlSessionFactoryBean--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeAliasesPackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.entity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapperLocations<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>classpath:com.baizhiedu.mapper/*Mapper.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--&#x521B;&#x5EFA;DAO&#x5BF9;&#x8C61; MapperScannerConfigure--&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scanner<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5B9E;&#x4F53;
<span class="token list punctuation">2.</span> &#x8868;
<span class="token list punctuation">3.</span> DAO&#x63A5;&#x53E3;
<span class="token list punctuation">4.</span> Mapper&#x6587;&#x4EF6;&#x914D;&#x7F6E;
</pre></li>
</ul>
<h5 class="mume-header" id="6-spring%E4%B8%8Emybatis%E6%95%B4%E5%90%88%E7%BB%86%E8%8A%82">6. Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x7EC6;&#x8282;</h5>

<ul>
<li>
<p>&#x95EE;&#x9898;&#xFF1A;Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x540E;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;DAO&#x4E0D;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x80FD;&#x591F;&#x63D2;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF1F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x63A7;&#x5236;&#x4E8B;&#x52A1;
Connection --&gt; tx
Mybatis(Connection)

&#x672C;&#x8D28;&#x4E0A;&#x63A7;&#x5236;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;(Connection) ---&gt; &#x8FDE;&#x63A5;&#x6C60;(DataSource)
<span class="token list punctuation">1.</span> Mybatis&#x63D0;&#x4F9B;&#x7684;&#x8FDE;&#x63A5;&#x6C60;&#x5BF9;&#x8C61; ---&gt; &#x521B;&#x5EFA;Connection
     Connection.setAutoCommit(false) &#x624B;&#x5DE5;&#x7684;&#x63A7;&#x5236;&#x4E86;&#x4E8B;&#x52A1; &#xFF0C; &#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x624B;&#x5DE5;&#x63D0;&#x4EA4;
<span class="token list punctuation">2.</span> Druid&#xFF08;C3P0 DBCP&#xFF09;&#x4F5C;&#x4E3A;&#x8FDE;&#x63A5;&#x6C60;        ---&gt; &#x521B;&#x5EFA;Connection
     Connection.setAutoCommit(true) true&#x9ED8;&#x8BA4;&#x503C; &#x4FDD;&#x6301;&#x81EA;&#x52A8;&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#xFF0C;&#x4E00;&#x6761;sql &#x81EA;&#x52A8;&#x63D0;&#x4EA4; 
&#x7B54;&#x6848;&#xFF1A;&#x56E0;&#x4E3A;Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x65F6;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x5916;&#x90E8;&#x8FDE;&#x63A5;&#x6C60;&#x5BF9;&#x8C61;&#xFF0C;&#x4FDD;&#x6301;&#x81EA;&#x52A8;&#x7684;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x8FD9;&#x4E2A;&#x673A;&#x5236;(Connection.setAutoCommit(true)),&#x4E0D;&#x9700;&#x8981;&#x624B;&#x5DE5;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x80FD;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x63D0;&#x4EA4; 

&#x6CE8;&#x610F;&#xFF1A;&#x672A;&#x6765;&#x5B9E;&#x6218;&#x4E2D;&#xFF0C;&#x8FD8;&#x4F1A;&#x624B;&#x5DE5;&#x63A7;&#x5236;&#x4E8B;&#x52A1;(&#x591A;&#x6761;sql&#x4E00;&#x8D77;&#x6210;&#x529F;&#xFF0C;&#x4E00;&#x8D77;&#x5931;&#x8D25;)&#xFF0C;&#x540E;&#x7EED;Spring&#x901A;&#x8FC7;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;
</pre></li>
</ul>
<h4 class="mume-header" id="%E7%AC%AC%E4%B8%89%E7%AB%A0-spring%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86">&#x7B2C;&#x4E09;&#x7AE0;&#x3001;Spring&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;</h4>

<h5 class="mume-header" id="1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1">1. &#x4EC0;&#x4E48;&#x662F;&#x4E8B;&#x52A1;&#xFF1F;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4FDD;&#x8BC1;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x5E93;&#x673A;&#x5236;

&#x4E8B;&#x52A1;&#x7684;4&#x7279;&#x70B9;&#xFF1A; A C I D
<span class="token list punctuation">1.</span> A &#x539F;&#x5B50;&#x6027;
<span class="token list punctuation">2.</span> C &#x4E00;&#x81F4;&#x6027;
<span class="token list punctuation">3.</span> I &#x9694;&#x79BB;&#x6027;
<span class="token list punctuation">4.</span> D &#x6301;&#x4E45;&#x6027;
</pre><h5 class="mume-header" id="2-%E5%A6%82%E4%BD%95%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1">2. &#x5982;&#x4F55;&#x63A7;&#x5236;&#x4E8B;&#x52A1;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">JDBC:
    Connection.setAutoCommit(false);
    Connection.commit();
    Connection.rollback();
Mybatis&#xFF1A;
    Mybatis&#x81EA;&#x52A8;&#x5F00;&#x542F;&#x4E8B;&#x52A1;
    
<span class="token code keyword">    sqlSession(Connection).commit();
    sqlSession(Connection).rollback();</span>

&#x7ED3;&#x8BBA;&#xFF1A;&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x7684;&#x5E95;&#x5C42; &#x90FD;&#x662F;Connection&#x5BF9;&#x8C61;&#x5B8C;&#x6210;&#x7684;&#x3002;
</pre><h5 class="mume-header" id="3spring%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%BC%80%E5%8F%91">3.Spring&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x7684;&#x5F00;&#x53D1;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x662F;&#x901A;&#x8FC7;AOP&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x5F00;&#x53D1;
</pre><h6 class="mume-header" id="1-%E5%8E%9F%E5%A7%8B%E5%AF%B9%E8%B1%A1">1. &#x539F;&#x59CB;&#x5BF9;&#x8C61;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">public class XXXUserServiceImpl{
   private xxxDAO xxxDAO
   set get

   <span class="token list punctuation">1.</span> &#x539F;&#x59CB;&#x5BF9;&#x8C61; ---&#x300B; &#x539F;&#x59CB;&#x65B9;&#x6CD5; ---&#x300B;&#x6838;&#x5FC3;&#x529F;&#x80FD; (&#x4E1A;&#x52A1;&#x5904;&#x7406;+DAO&#x8C03;&#x7528;)
   <span class="token list punctuation">2.</span> DAO&#x4F5C;&#x4E3A;Service&#x7684;&#x6210;&#x5458;&#x53D8;&#x91CF;&#xFF0C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8D4B;&#x503C;
}
</pre><h6 class="mume-header" id="2-%E9%A2%9D%E5%A4%96%E5%8A%9F%E8%83%BD">2. &#x989D;&#x5916;&#x529F;&#x80FD;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> org.springframework.jdbc.datasource.DataSourceTransactionManager
<span class="token list punctuation">2.</span> &#x6CE8;&#x5165;DataSource 
<span class="token list punctuation">1.</span> MethodInterceptor
   public Object invoke(MethodInvocation invocation){
      try{
        Connection.setAutoCommit(false);
        Object ret = invocation.proceed();
        Connection.commit();
      }catch(Exception e){
        Connection.rollback();
      }
        return ret;
   }
<span class="token list punctuation">2.</span> @Aspect
   @Around 
</pre><h6 class="mume-header" id="3-%E5%88%87%E5%85%A5%E7%82%B9">3. &#x5207;&#x5165;&#x70B9;</h6>

<pre data-role="codeBlock" data-info="mariadb" class="language-mariadb"><code>@Transactional 
&#x4E8B;&#x52A1;&#x7684;&#x989D;&#x5916;&#x529F;&#x80FD;&#x52A0;&#x5165;&#x7ED9;&#x90A3;&#x4E9B;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#x3002;

1. &#x7C7B;&#x4E0A;&#xFF1A;&#x7C7B;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x4F1A;&#x52A0;&#x5165;&#x4E8B;&#x52A1;
2. &#x65B9;&#x6CD5;&#x4E0A;&#xFF1A;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x52A0;&#x5165;&#x4E8B;&#x52A1;
</code></pre><h6 class="mume-header" id="4-%E7%BB%84%E8%A3%85%E5%88%87%E9%9D%A2">4 &#x7EC4;&#x88C5;&#x5207;&#x9762;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5207;&#x5165;&#x70B9;
<span class="token list punctuation">2.</span> &#x989D;&#x5916;&#x529F;&#x80FD;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre><h5 class="mume-header" id="4-spring%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%E7%9A%84%E7%BC%96%E7%A0%81">4. Spring&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x7684;&#x7F16;&#x7801;</h5>

<ul>
<li>
<p>&#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x73AF;&#x5883; (jar)</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-tx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.14.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.service.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--DataSourceTransactionManager--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

@Transactional
public class UserServiceImpl implements UserService {
    private UserDAO userDAO;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x7EC6;&#x8282;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
&#x8FDB;&#x884C;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x7684;&#x5207;&#x6362;   proxy-target-class
    &#x9ED8;&#x8BA4; false JDK
        true  Cglib 
</pre></li>
</ul>
<h4 class="mume-header" id="%E7%AC%AC%E5%9B%9B%E7%AB%A0-spring%E4%B8%AD%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7transaction-attribute">&#x7B2C;&#x56DB;&#x7AE0;&#x3001; Spring&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;(Transaction Attribute)</h4>

<h5 class="mume-header" id="1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7">1. &#x4EC0;&#x4E48;&#x662F;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x5C5E;&#x6027;&#xFF1A;&#x63CF;&#x8FF0;&#x7269;&#x4F53;&#x7279;&#x5F81;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x503C;
     &#x6027;&#x522B; &#x8EAB;&#x9AD8; &#x4F53;&#x91CD; ...
&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#xFF1A;&#x63CF;&#x8FF0;&#x4E8B;&#x52A1;&#x7279;&#x5F81;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x503C; 
<span class="token list punctuation">1.</span> &#x9694;&#x79BB;&#x5C5E;&#x6027;
<span class="token list punctuation">2.</span> &#x4F20;&#x64AD;&#x5C5E;&#x6027;
<span class="token list punctuation">3.</span> &#x53EA;&#x8BFB;&#x5C5E;&#x6027;
<span class="token list punctuation">4.</span> &#x8D85;&#x65F6;&#x5C5E;&#x6027;
<span class="token list punctuation">5.</span> &#x5F02;&#x5E38;&#x5C5E;&#x6027; 
</pre><h5 class="mume-header" id="2-%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7">2. &#x5982;&#x4F55;&#x6DFB;&#x52A0;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Transactional(isloation=,propagation=,readOnly=,timeout=,rollbackFor=,noRollbackFor=,)
</pre><h5 class="mume-header" id="3-%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7%E8%AF%A6%E8%A7%A3">3. &#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x8BE6;&#x89E3;</h5>

<h6 class="mume-header" id="1-%E9%9A%94%E7%A6%BB%E5%B1%9E%E6%80%A7-isolation">1. &#x9694;&#x79BB;&#x5C5E;&#x6027; (ISOLATION)</h6>

<ul>
<li>
<p>&#x9694;&#x79BB;&#x5C5E;&#x6027;&#x7684;&#x6982;&#x5FF5;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6982;&#x5FF5;&#xFF1A;&#x4ED6;&#x63CF;&#x8FF0;&#x4E86;&#x4E8B;&#x52A1;&#x89E3;&#x51B3;&#x5E76;&#x53D1;&#x95EE;&#x9898;&#x7684;&#x7279;&#x5F81;
<span class="token list punctuation">1.</span> &#x4EC0;&#x4E48;&#x662F;&#x5E76;&#x53D1;
       &#x591A;&#x4E2A;&#x4E8B;&#x52A1;(&#x7528;&#x6237;)&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF0C;&#x8BBF;&#x95EE;&#x64CD;&#x4F5C;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;
       
<span class="token code keyword">       &#x540C;&#x4E00;&#x65F6;&#x95F4;&#xFF1A;0.000&#x51E0;&#x79D2; &#x5FAE;&#x5C0F;&#x524D; &#x5FAE;&#x5C0F;&#x540E;</span>
<span class="token list punctuation">2.</span> &#x5E76;&#x53D1;&#x4F1A;&#x4EA7;&#x751F;&#x90A3;&#x4E9B;&#x95EE;&#x9898;
       <span class="token list punctuation">1.</span> &#x810F;&#x8BFB;
       <span class="token list punctuation">2.</span> &#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;
       <span class="token list punctuation">3.</span> &#x5E7B;&#x5F71;&#x8BFB;
<span class="token list punctuation">3.</span> &#x5E76;&#x53D1;&#x95EE;&#x9898;&#x5982;&#x4F55;&#x89E3;&#x51B3;
       &#x901A;&#x8FC7;&#x9694;&#x79BB;&#x5C5E;&#x6027;&#x89E3;&#x51B3;&#xFF0C;&#x9694;&#x79BB;&#x5C5E;&#x6027;&#x4E2D;&#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x503C;&#xFF0C;&#x89E3;&#x51B3;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x95EE;&#x9898;&#x3002;
</pre></li>
<li>
<p>&#x4E8B;&#x52A1;&#x5E76;&#x53D1;&#x4EA7;&#x751F;&#x7684;&#x95EE;&#x9898;</p>
<ul>
<li>
<p>&#x810F;&#x8BFB;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x8BFB;&#x53D6;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#x6CA1;&#x6709;&#x63D0;&#x4EA4;&#x7684;&#x6570;&#x636E;&#x3002;&#x4F1A;&#x5728;&#x672C;&#x4E8B;&#x52A1;&#x4E2D;&#x4EA7;&#x751F;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x95EE;&#x9898;
&#x89E3;&#x51B3;&#x65B9;&#x6848;  @Transactional(isolation=Isolation.READ_COMMITTED)
</pre></li>
<li>
<p>&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x591A;&#x6B21;&#x8BFB;&#x53D6;&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x8BFB;&#x53D6;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#x3002;&#x4F1A;&#x5728;&#x672C;&#x4E8B;&#x52A1;&#x4E2D;&#x4EA7;&#x751F;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x95EE;&#x9898;
&#x6CE8;&#x610F;&#xFF1A;1 &#x4E0D;&#x662F;&#x810F;&#x8BFB; 2 &#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;
&#x89E3;&#x51B3;&#x65B9;&#x6848; @Transactional(isolation=Isolation.REPEATABLE_READ)
&#x672C;&#x8D28;&#xFF1A; &#x4E00;&#x628A;&#x884C;&#x9501;
</pre></li>
<li>
<p>&#x5E7B;&#x5F71;&#x8BFB;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x591A;&#x6B21;&#x5BF9;&#x6574;&#x8868;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x7EDF;&#x8BA1;&#xFF0C;&#x4F46;&#x662F;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x4F1A;&#x5728;&#x672C;&#x4E8B;&#x52A1;&#x4E2D;&#x4EA7;&#x751F;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x95EE;&#x9898;
&#x89E3;&#x51B3;&#x65B9;&#x6848; @Transactional(isolation=Isolation.SERIALIZABLE)
&#x672C;&#x8D28;&#xFF1A;&#x8868;&#x9501; 
</pre></li>
<li>
<p>&#x603B;&#x7ED3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x5E76;&#x53D1;&#x5B89;&#x5168;&#xFF1A; SERIALIZABLE&gt;REPEATABLE_READ&gt;READ_COMMITTED
&#x8FD0;&#x884C;&#x6548;&#x7387;&#xFF1A; READ_COMMITTED&gt;REPEATABLE_READ&gt;SERIALIZABLE
</pre></li>
</ul>
</li>
<li>
<p>&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x4E8E;&#x9694;&#x79BB;&#x5C5E;&#x6027;&#x7684;&#x652F;&#x6301;</p>
<table>
<thead>
<tr>
<th>&#x9694;&#x79BB;&#x5C5E;&#x6027;&#x7684;&#x503C;</th>
<th>MySQL</th>
<th>Oracle</th>
</tr>
</thead>
<tbody>
<tr>
<td>ISOLATION_READ_COMMITTED</td>
<td>&#x2705;</td>
<td>&#x2705;</td>
</tr>
<tr>
<td>IOSLATION_REPEATABLE_READ</td>
<td>&#x2705;</td>
<td>&#x274E;</td>
</tr>
<tr>
<td>ISOLATION_SERIALIZABLE</td>
<td>&#x2705;</td>
<td>&#x2705;</td>
</tr>
</tbody>
</table>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Oracle&#x4E0D;&#x652F;&#x6301;REPEATABLE_READ&#x503C; &#x5982;&#x4F55;&#x89E3;&#x51B3;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;
&#x91C7;&#x7528;&#x7684;&#x662F;&#x591A;&#x7248;&#x672C;&#x6BD4;&#x5BF9;&#x7684;&#x65B9;&#x5F0F; &#x89E3;&#x51B3;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x7684;&#x95EE;&#x9898;
</pre></li>
<li>
<p>&#x9ED8;&#x8BA4;&#x9694;&#x79BB;&#x5C5E;&#x6027;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">ISOLATION_DEFAULT&#xFF1A;&#x4F1A;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x5E93;&#x6240;&#x8BBE;&#x7F6E;&#x7684;&#x9ED8;&#x8BA4;&#x9694;&#x79BB;&#x5C5E;&#x6027;

MySQL : REPEATABLE_READ 
Oracle: READ_COMMITTED  
</pre><ul>
<li>
<p>&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x9694;&#x79BB;&#x5C5E;&#x6027;</p>
<ul>
<li>
<p>MySQL</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">select @@tx_isolation;
</pre></li>
<li>
<p>Oracle</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">SELECT s.sid, s.serial#,
   CASE BITAND(t.flag, POWER(2, 28))
      WHEN 0 THEN &apos;READ COMMITTED&apos;
      ELSE &apos;SERIALIZABLE&apos;
   END AS isolation_level
FROM v$transaction t 
JOIN v$session s ON t.addr = s.taddr
AND s.sid = sys_context(&apos;USERENV&apos;, &apos;SID&apos;);
</pre></li>
</ul>
</li>
</ul>
</li>
<li>
<p>&#x9694;&#x79BB;&#x5C5E;&#x6027;&#x5728;&#x5B9E;&#x6218;&#x4E2D;&#x7684;&#x5EFA;&#x8BAE;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x63A8;&#x8350;&#x4F7F;&#x7528;Spring&#x6307;&#x5B9A;&#x7684;ISOLATION_DEFAULT
 <span class="token list punctuation">1.</span> MySQL   repeatable_read
 <span class="token list punctuation">2.</span> Oracle  read_commited 

&#x672A;&#x6765;&#x5B9E;&#x6218;&#x4E2D;&#xFF0C;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x60C5;&#x51B5; &#x5F88;&#x4F4E; 

&#x5982;&#x679C;&#x771F;&#x9047;&#x5230;&#x5E76;&#x53D1;&#x95EE;&#x9898;&#xFF0C;&#x4E50;&#x89C2;&#x9501; 
   Hibernate(JPA)  Version 
   MyBatis         &#x901A;&#x8FC7;&#x62E6;&#x622A;&#x5668;&#x81EA;&#x5B9A;&#x4E49;&#x5F00;&#x53D1;
 
</pre></li>
</ul>
<h6 class="mume-header" id="2-%E4%BC%A0%E6%92%AD%E5%B1%9E%E6%80%A7propagation">2. &#x4F20;&#x64AD;&#x5C5E;&#x6027;(PROPAGATION)</h6>

<ul>
<li>
<p>&#x4F20;&#x64AD;&#x5C5E;&#x6027;&#x7684;&#x6982;&#x5FF5;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6982;&#x5FF5;&#xFF1A;&#x4ED6;&#x63CF;&#x8FF0;&#x4E86;&#x4E8B;&#x52A1;&#x89E3;&#x51B3;&#x5D4C;&#x5957;&#x95EE;&#x9898;&#x7684;&#x7279;&#x5F81;

&#x4EC0;&#x4E48;&#x53EB;&#x505A;&#x4E8B;&#x52A1;&#x7684;&#x5D4C;&#x5957;&#xFF1A;&#x4ED6;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x82E5;&#x5E72;&#x4E2A;&#x5C0F;&#x7684;&#x4E8B;&#x52A1;

&#x95EE;&#x9898;&#xFF1A;&#x5927;&#x4E8B;&#x52A1;&#x4E2D;&#x878D;&#x5165;&#x4E86;&#x5F88;&#x591A;&#x5C0F;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x4ED6;&#x4EEC;&#x5F7C;&#x6B64;&#x5F71;&#x54CD;&#xFF0C;&#x6700;&#x7EC8;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x5916;&#x90E8;&#x5927;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x4E27;&#x5931;&#x4E86;&#x4E8B;&#x52A1;&#x7684;&#x539F;&#x5B50;&#x6027;
&#x6BD4;&#x5982;&#xFF1A;
TA-----
  TB----
  TB----
  TC----
  TC----
TA-----
 TC &#x56DE;&#x6EDA;&#xFF0C;&#x4F46;&#x662F;TB&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#xFF0C;TA&#x65E0;&#x6CD5;&#x5B8C;&#x5168;&#x56DE;&#x6EDA;
</pre></li>
<li>
<p>&#x4F20;&#x64AD;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x53CA;&#x5176;&#x7528;&#x6CD5;</p>
<table>
<thead>
<tr>
<th>&#x4F20;&#x64AD;&#x5C5E;&#x6027;&#x7684;&#x503C;</th>
<th>&#x5916;&#x90E8;&#x4E0D;&#x5B58;&#x5728;&#x4E8B;&#x52A1;</th>
<th>&#x5916;&#x90E8;&#x5B58;&#x5728;&#x4E8B;&#x52A1;</th>
<th>&#x7528;&#x6CD5;</th>
<th>&#x5907;&#x6CE8;</th>
</tr>
</thead>
<tbody>
<tr>
<td>REQUIRED</td>
<td>&#x5F00;&#x542F;&#x65B0;&#x7684;&#x4E8B;&#x52A1;</td>
<td>&#x878D;&#x5408;&#x5230;&#x5916;&#x90E8;&#x4E8B;&#x52A1;&#x4E2D;</td>
<td>@Transactional(propagation = Propagation.REQUIRED)</td>
<td>&#x589E;&#x5220;&#x6539;&#x65B9;&#x6CD5;</td>
</tr>
<tr>
<td>SUPPORTS</td>
<td>&#x4E0D;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</td>
<td>&#x878D;&#x5408;&#x5230;&#x5916;&#x90E8;&#x4E8B;&#x52A1;&#x4E2D;</td>
<td>@Transactional(propagation = Propagation.SUPPORTS)</td>
<td>&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;</td>
</tr>
<tr>
<td>REQUIRES_NEW</td>
<td>&#x5F00;&#x542F;&#x65B0;&#x7684;&#x4E8B;&#x52A1;</td>
<td>&#x6302;&#x8D77;&#xFF08;&#x6682;&#x505C;&#xFF09;&#x5916;&#x90E8;&#x4E8B;&#x52A1;&#xFF0C;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x4E8B;&#x52A1;</td>
<td>@Transactional(propagation = Propagation.REQUIRES_NEW)</td>
<td>&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x65B9;&#x6CD5;&#x4E2D;&#xFF08;&#x63D2;&#x65E5;&#x5FD7;&#x5728;&#x5185;&#x90E8;&#x4E8B;&#x52A1;&#x4E2D;&#xFF09;</td>
</tr>
<tr>
<td>NOT_SUPPORTED</td>
<td>&#x4E0D;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</td>
<td>&#x6302;&#x8D77;&#x5916;&#x90E8;&#x4E8B;&#x52A1;</td>
<td>@Transactional(propagation = Propagation.NOT_SUPPORTED)</td>
<td>&#x53CA;&#x5176;&#x4E0D;&#x5E38;&#x7528;</td>
</tr>
<tr>
<td>NEVER</td>
<td>&#x4E0D;&#x5F00;&#x542F;&#x4E8B;&#x52A1;</td>
<td>&#x629B;&#x51FA;&#x5F02;&#x5E38;</td>
<td>@Transactional(propagation = Propagation.NEVER)</td>
<td>&#x53CA;&#x5176;&#x4E0D;&#x5E38;&#x7528;</td>
</tr>
<tr>
<td>MANDATORY</td>
<td>&#x629B;&#x51FA;&#x5F02;&#x5E38;</td>
<td>&#x878D;&#x5408;&#x5230;&#x5916;&#x90E8;&#x4E8B;&#x52A1;&#x4E2D;</td>
<td>@Transactional(propagation = Propagation.MANDATORY)</td>
<td>&#x53CA;&#x5176;&#x4E0D;&#x5E38;&#x7528;</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>&#x9ED8;&#x8BA4;&#x7684;&#x4F20;&#x64AD;&#x5C5E;&#x6027;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">REQUIRED&#x662F;&#x4F20;&#x64AD;&#x5C5E;&#x6027;&#x7684;&#x9ED8;&#x8BA4;&#x503C;
</pre></li>
<li>
<p>&#x63A8;&#x8350;&#x4F20;&#x64AD;&#x5C5E;&#x6027;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x589E;&#x5220;&#x6539; &#x65B9;&#x6CD5;&#xFF1A;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;REQUIRED 
&#x67E5;&#x8BE2;   &#x64CD;&#x4F5C;&#xFF1A;&#x663E;&#x793A;&#x6307;&#x5B9A;&#x4F20;&#x64AD;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x4E3A;SUPPORTS  
</pre></li>
</ul>
<h6 class="mume-header" id="3-%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7readonly">3. &#x53EA;&#x8BFB;&#x5C5E;&#x6027;(readOnly)</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x9488;&#x5BF9;&#x4E8E;&#x53EA;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x7684;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x53EA;&#x8BFB;&#x5C5E;&#x6027;&#xFF0C;&#x63D0;&#x4F9B;&#x8FD0;&#x884C;&#x6548;&#x7387;

&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;false 
</pre><h6 class="mume-header" id="4-%E8%B6%85%E6%97%B6%E5%B1%9E%E6%80%A7timeout">4. &#x8D85;&#x65F6;&#x5C5E;&#x6027;(timeout)</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x6307;&#x5B9A;&#x4E86;&#x4E8B;&#x52A1;&#x7B49;&#x5F85;&#x7684;&#x6700;&#x957F;&#x65F6;&#x95F4;

<span class="token list punctuation">1.</span> &#x4E3A;&#x4EC0;&#x4E48;&#x4E8B;&#x52A1;&#x8FDB;&#x884C;&#x7B49;&#x5F85;&#xFF1F;
   &#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x8BBF;&#x95EE;&#x7684;&#x6570;&#x636E;&#x88AB;&#x522B;&#x7684;&#x4E8B;&#x52A1;&#x8FDB;&#x884C;&#x52A0;&#x9501;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x90A3;&#x4E48;&#x6B64;&#x65F6;&#x672C;&#x4E8B;&#x52A1;&#x5C31;&#x5FC5;&#x987B;&#x8FDB;&#x884C;&#x7B49;&#x5F85;&#x3002;
<span class="token list punctuation">2.</span> &#x7B49;&#x5F85;&#x65F6;&#x95F4; &#x79D2;
<span class="token list punctuation">3.</span> &#x5982;&#x4F55;&#x5E94;&#x7528; @Transactional(timeout=2)
<span class="token list punctuation">4.</span> &#x8D85;&#x65F6;&#x5C5E;&#x6027;&#x7684;&#x9ED8;&#x8BA4;&#x503C; -1 
   &#x6700;&#x7EC8;&#x7531;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6765;&#x6307;&#x5B9A;
</pre><h6 class="mume-header" id="5-%E5%BC%82%E5%B8%B8%E5%B1%9E%E6%80%A7">5. &#x5F02;&#x5E38;&#x5C5E;&#x6027;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;
&#x9ED8;&#x8BA4; &#x5BF9;&#x4E8E;RuntimeException&#x53CA;&#x5176;&#x5B50;&#x7C7B; &#x91C7;&#x7528;&#x7684;&#x662F;&#x56DE;&#x6EDA;&#x7684;&#x7B56;&#x7565;
&#x9ED8;&#x8BA4; &#x5BF9;&#x4E8E;Exception&#x53CA;&#x5176;&#x5B50;&#x7C7B; &#x91C7;&#x7528;&#x7684;&#x662F;&#x63D0;&#x4EA4;&#x7684;&#x7B56;&#x7565;

rollbackFor = {java.lang.Exception,xxx,xxx} 
noRollbackFor = {java.lang.RuntimeException,xxx,xx}

@Transactional(rollbackFor = {java.lang.Exception.class},noRollbackFor = {java.lang.RuntimeException.class})

&#x5EFA;&#x8BAE;&#xFF1A;&#x5B9E;&#x6218;&#x4E2D;&#x4F7F;&#x7528;RuntimeExceptin&#x53CA;&#x5176;&#x5B50;&#x7C7B; &#x4F7F;&#x7528;&#x4E8B;&#x52A1;&#x5F02;&#x5E38;&#x5C5E;&#x6027;&#x7684;&#x9ED8;&#x8BA4;&#x503C;
</pre><h5 class="mume-header" id="4-%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93">4. &#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x5E38;&#x89C1;&#x914D;&#x7F6E;&#x603B;&#x7ED3;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x9694;&#x79BB;&#x5C5E;&#x6027;   &#x9ED8;&#x8BA4;&#x503C; 
<span class="token list punctuation">2.</span> &#x4F20;&#x64AD;&#x5C5E;&#x6027;   Required(&#x9ED8;&#x8BA4;&#x503C;) &#x589E;&#x5220;&#x6539;   Supports &#x67E5;&#x8BE2;&#x64CD;&#x4F5C;
<span class="token list punctuation">3.</span> &#x53EA;&#x8BFB;&#x5C5E;&#x6027;   readOnly false  &#x589E;&#x5220;&#x6539;   true &#x67E5;&#x8BE2;&#x64CD;&#x4F5C;
<span class="token list punctuation">4.</span> &#x8D85;&#x65F6;&#x5C5E;&#x6027;   &#x9ED8;&#x8BA4;&#x503C; -1
<span class="token list punctuation">5.</span> &#x5F02;&#x5E38;&#x5C5E;&#x6027;   &#x9ED8;&#x8BA4;&#x503C; 

&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;   @Transactional
&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;     @Transactional(propagation=Propagation.SUPPORTS,readOnly=true)
</pre><h5 class="mume-header" id="5-%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%BC%80%E5%8F%91%E7%9A%84%E7%AC%AC%E4%BA%8C%E7%A7%8D%E5%BD%A2%E5%BC%8F">5. &#x57FA;&#x4E8E;&#x6807;&#x7B7E;&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;(&#x4E8B;&#x52A1;&#x5F00;&#x53D1;&#x7684;&#x7B2C;&#x4E8C;&#x79CD;&#x5F62;&#x5F0F;)</h5>

<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x57FA;&#x4E8E;&#x6CE8;&#x89E3; @Transaction&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#x56DE;&#x987E;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.service.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

@Transactional(isolation=,propagation=,...)
public class UserServiceImpl implements UserService {
    private UserDAO userDAO;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

&#x57FA;&#x4E8E;&#x6807;&#x7B7E;&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.service.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

&#x4E8B;&#x52A1;&#x5C5E;&#x6027; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transacation-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>register<span class="token punctuation">&quot;</span></span> <span class="token attr-name">isoloation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token attr-name">,propagation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">.....</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">&gt;</span></span>
          &#x7B49;&#x6548;&#x4E8E; 
          @Transactional(isolation=,propagation=,)
          public void register(){
        
          }
      
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* com.baizhiedu.service.UserServiceImpl.register(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>pointcut</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>advisor</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</pre><ul>
<li>
<p>&#x57FA;&#x4E8E;&#x6807;&#x7B7E;&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#x5728;&#x5B9E;&#x6218;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x65B9;&#x5F0F;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.service.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--DataSourceTransactionManager--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

&#x7F16;&#x7A0B;&#x65F6;&#x5019; service&#x4E2D;&#x8D1F;&#x8D23;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x6CD5; &#x90FD;&#x4EE5;modify&#x5F00;&#x5934;
                       &#x67E5;&#x8BE2;&#x64CD;&#x4F5C; &#x547D;&#x540D;&#x65E0;&#x6240;&#x8C13; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">transacation-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>register<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modify*<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SUPPORTS<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>method</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">&gt;</span></span>

&#x5E94;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;service&#x653E;&#x7F6E;&#x5230;service&#x5305;&#x4E2D;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>execution(* com.baizhiedu.service..*.*(..))<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>pointcut</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>txAdvice<span class="token punctuation">&quot;</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>advisor</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
<h3 class="mume-header" id="%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B">&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;</h3>

<hr>
<h4 class="mume-header" id="%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%B3%A8%E8%A7%A3%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5">&#x7B2C;&#x4E00;&#x7AE0;&#x3001;&#x6CE8;&#x89E3;&#x57FA;&#x7840;&#x6982;&#x5FF5;</h4>

<h5 class="mume-header" id="1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B">1. &#x4EC0;&#x4E48;&#x662F;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;</h5>

<pre data-role="codeBlock" data-info="java" class="language-java">&#x6307;&#x7684;&#x662F;&#x5728;&#x7C7B;&#x6216;&#x8005;&#x65B9;&#x6CD5;&#x4E0A;&#x52A0;&#x5165;&#x7279;&#x5B9A;&#x7684;&#x6CE8;&#x89E3;&#xFF08;<span class="token annotation punctuation">@XXX</span><span class="token punctuation">)</span><span class="token punctuation">,</span>&#x5B8C;&#x6210;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#x7684;&#x5F00;&#x53D1;&#x3002;
  
	<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> XXX<span class="token punctuation">{</span><span class="token punctuation">}</span>
</pre><h5 class="mume-header" id="2-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%AE%B2%E8%A7%A3%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B">2. &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BB2;&#x89E3;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x65B9;&#x4FBF;
     &#x4EE3;&#x7801;&#x7B80;&#x6D01; &#x5F00;&#x53D1;&#x901F;&#x5EA6;&#x5927;&#x5927;&#x63D0;&#x9AD8;
<span class="token list punctuation">2.</span> Spring&#x5F00;&#x53D1;&#x6F6E;&#x6D41;
     Spring2.x&#x5F15;&#x5165;&#x6CE8;&#x89E3;  Spring3.x&#x5B8C;&#x5584;&#x6CE8;&#x89E3; SpringBoot&#x666E;&#x53CA; &#x63A8;&#x5E7F;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B; 
</pre><h5 class="mume-header" id="3-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8">3. &#x6CE8;&#x89E3;&#x7684;&#x4F5C;&#x7528;</h5>

<ul>
<li>
<p>&#x66FF;&#x6362;XML&#x8FD9;&#x79CD;&#x914D;&#x7F6E;&#x5F62;&#x5F0F;&#xFF0C;&#x7B80;&#x5316;&#x914D;&#x7F6E;</p>
<p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200527164703807.png" alt="image-20200527164703807"></p>
</li>
<li>
<p>&#x66FF;&#x6362;&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x8C03;&#x7528;&#x53CC;&#x65B9;&#x7684;&#x5951;&#x7EA6;&#x6027;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x529F;&#x80FD;&#x8C03;&#x7528;&#x8005;&#x548C;&#x529F;&#x80FD;&#x63D0;&#x4F9B;&#x8005;&#x4E4B;&#x95F4;&#x8FBE;&#x6210;&#x7EA6;&#x5B9A;&#xFF0C;&#x8FDB;&#x800C;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x7684;&#x8C03;&#x7528;&#x3002;&#x56E0;&#x4E3A;&#x6CE8;&#x89E3;&#x5E94;&#x7528;&#x66F4;&#x4E3A;&#x65B9;&#x4FBF;&#x7075;&#x6D3B;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x73B0;&#x5728;&#x7684;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x66F4;&#x63A8;&#x8350;&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5B8C;&#x6210;
</pre><p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200527171704953.png" alt="image-20200527171704953"></p>
</li>
</ul>
<h5 class="mume-header" id="4-spring%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B">4. Spring&#x6CE8;&#x89E3;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> Spring2.x&#x5F00;&#x59CB;&#x652F;&#x6301;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B; @Component @Service @Scope..
     &#x76EE;&#x7684;&#xFF1A;&#x63D0;&#x4F9B;&#x7684;&#x8FD9;&#x4E9B;&#x6CE8;&#x89E3;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x7B80;&#x5316;XML&#x7684;&#x914D;&#x7F6E;,&#x4F5C;&#x4E3A;XML&#x5F00;&#x53D1;&#x7684;&#x6709;&#x76CA;&#x8865;&#x5145;&#x3002;
<span class="token list punctuation">2.</span> Spring3.x @Configuration @Bean..
     &#x76EE;&#x7684;&#xFF1A;&#x5F7B;&#x5E95;&#x66FF;&#x6362;XML&#xFF0C;&#x57FA;&#x4E8E;&#x7EAF;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;
<span class="token list punctuation">3.</span> Spring4.x SpringBoot 
     &#x63D0;&#x5021;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5E38;&#x89C1;&#x5F00;&#x53D1;
</pre><h5 class="mume-header" id="5-spring%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98">5. Spring&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x540E;&#xFF0C;&#x8FD8;&#x80FD;&#x5426;&#x89E3;&#x8026;&#x5408;&#x5462;&#xFF1F;&#x5728;Spring&#x6846;&#x67B6;&#x5E94;&#x7528;&#x6CE8;&#x89E3;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x6CE8;&#x89E3;&#x914D;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x6EE1;&#x610F;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x8986;&#x76D6;&#x7684;&#x3002;
</pre><h4 class="mume-header" id="%E7%AC%AC%E4%BA%8C%E7%AB%A0-spring%E7%9A%84%E5%9F%BA%E7%A1%80%E6%B3%A8%E8%A7%A3spring2x">&#x7B2C;&#x4E8C;&#x7AE0;&#x3001;Spring&#x7684;&#x57FA;&#x7840;&#x6CE8;&#x89E3;&#xFF08;Spring2.x&#xFF09;</h4>

<pre data-role="codeBlock" data-info="xml" class="language-xml">&#x8FD9;&#x4E2A;&#x9636;&#x6BB5;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x7B80;&#x5316;XML&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x66FF;&#x4EE3;XML
</pre><h5 class="mume-header" id="1-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3">1. &#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x6CE8;&#x89E3;</h5>

<ul>
<li>
<p>&#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x73AF;&#x5883;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

&#x4F5C;&#x7528;&#xFF1A;&#x8BA9;Spring&#x6846;&#x67B6;&#x5728;&#x8BBE;&#x7F6E;&#x5305;&#x53CA;&#x5176;&#x5B50;&#x5305;&#x4E2D;&#x626B;&#x63CF;&#x5BF9;&#x5E94;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x4F7F;&#x5176;&#x751F;&#x6548;&#x3002;
</pre></li>
<li>
<p>&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x6CE8;&#x89E3;</p>
<ul>
<li>
<p>@Component</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;&#x66FF;&#x6362;&#x539F;&#x6709;spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&lt;bean&#x6807;&#x7B7E; 
&#x6CE8;&#x610F;&#xFF1A;
    id&#x5C5E;&#x6027; component&#x6CE8;&#x89E3; &#x63D0;&#x4F9B;&#x4E86;&#x9ED8;&#x8BA4;&#x7684;&#x8BBE;&#x7F6E;&#x65B9;&#x5F0F;  &#x9996;&#x5355;&#x8BCD;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;
    class&#x5C5E;&#x6027; &#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x83B7;&#x5F97;class&#x5185;&#x5BB9; 
</pre><p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200528112232356.png" alt="image-20200528112232356"></p>
</li>
<li>
<p>@Component &#x7EC6;&#x8282;</p>
<ul>
<li>
<p>&#x5982;&#x4F55;&#x663E;&#x793A;&#x6307;&#x5B9A;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;id&#x503C;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">&quot;u&quot;</span><span class="token punctuation">)</span>
</pre></li>
<li>
<p>Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8986;&#x76D6;&#x6CE8;&#x89E3;&#x914D;&#x7F6E;&#x5185;&#x5BB9;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">applicationContext.xml

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>u<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.bean.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

id&#x503C; class&#x7684;&#x503C; &#x8981;&#x548C; &#x6CE8;&#x89E3;&#x4E2D;&#x7684;&#x8BBE;&#x7F6E;&#x4FDD;&#x6301;&#x4E00;&#x81F4;
</pre></li>
</ul>
</li>
<li>
<p>@Component&#x7684;&#x884D;&#x751F;&#x6CE8;&#x89E3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Repository  ---&gt;  XXXDAO
  @Repository
  public class UserDAO{
  
  }
@Service
  @Service
  public class UserService{
  
  }
@Controller 
  @Controller 
  public class RegAction{
  
  }
&#x6CE8;&#x610F;&#xFF1A;&#x672C;&#x8D28;&#x4E0A;&#x8FD9;&#x4E9B;&#x884D;&#x751F;&#x6CE8;&#x89E3;&#x5C31;&#x662F;@Component 
     &#x4F5C;&#x7528; &lt;bean  
     &#x7EC6;&#x8282; @Service(&quot;s&quot;)

&#x76EE;&#x7684;&#xFF1A;&#x66F4;&#x52A0;&#x51C6;&#x786E;&#x7684;&#x8868;&#x8FBE;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x4F5C;&#x7528;

&#x6CE8;&#x610F;&#xFF1A;Spring&#x6574;&#x5408;Mybatis&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D; &#x4E0D;&#x4F7F;&#x7528;@Repository @Component
      
</pre></li>
</ul>
</li>
<li>
<p>@Scope&#x6CE8;&#x89E3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;&#x63A7;&#x5236;&#x7B80;&#x5355;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x6B21;&#x6570;
&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x6DFB;&#x52A0;@Scope Spring&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x503C; singleton
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>singleton|prototype<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>@Lazy&#x6CE8;&#x89E3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4F5C;&#x7528;&#xFF1A;&#x5EF6;&#x8FDF;&#x521B;&#x5EFA;&#x5355;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;
&#x6CE8;&#x610F;&#xFF1A;&#x4E00;&#x65E6;&#x4F7F;&#x7528;&#x4E86;@Lazy&#x6CE8;&#x89E3;&#x540E;&#xFF0C;Spring&#x4F1A;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x65F6;&#x5019;&#xFF0C;&#x8FDB;&#x884C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">lazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
<li>
<p>&#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x76F8;&#x5173;&#x6CE8;&#x89E3;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x521D;&#x59CB;&#x5316;&#x76F8;&#x5173;&#x65B9;&#x6CD5; @PostConstruct
   InitializingBean
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token list punctuation">2.</span> &#x9500;&#x6BC1;&#x65B9;&#x6CD5; @PreDestroy
   DisposableBean
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">destory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
&#x6CE8;&#x610F;&#xFF1A;1. &#x4E0A;&#x8FF0;&#x7684;2&#x4E2A;&#x6CE8;&#x89E3;&#x5E76;&#x4E0D;&#x662F;Spring&#x63D0;&#x4F9B;&#x7684;&#xFF0C;JSR(JavaEE&#x89C4;&#x8303;)520
     <span class="token list punctuation">2.</span> &#x518D;&#x4E00;&#x6B21;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x5B9E;&#x73B0;&#x4E86;&#x63A5;&#x53E3;&#x7684;&#x5951;&#x7EA6;&#x6027;
</pre></li>
</ul>
<h5>2. &#x6CE8;&#x5165;&#x76F8;&#x5173;&#x6CE8;&#x89E3;</h5>
<ul>
<li>
<p>&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B; @Autowired</p>
<p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200601114751016.png" alt="image-20200601114751016"></p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Autowired&#x7EC6;&#x8282;
<span class="token list punctuation">1.</span> Autowired&#x6CE8;&#x89E3;&#x57FA;&#x4E8E;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x6CE8;&#x5165; [&#x63A8;&#x8350;]
   &#x57FA;&#x4E8E;&#x7C7B;&#x578B;&#x7684;&#x6CE8;&#x5165;&#xFF1A;&#x6CE8;&#x5165;&#x5BF9;&#x8C61;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5FC5;&#x987B;&#x4E0E;&#x76EE;&#x6807;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#x6216;&#x8005;&#x662F;&#x5176;&#x5B50;&#x7C7B;&#xFF08;&#x5B9E;&#x73B0;&#x7C7B;&#xFF09;

<span class="token list punctuation">2.</span> Autowired Qualifier &#x57FA;&#x4E8E;&#x540D;&#x5B57;&#x8FDB;&#x884C;&#x6CE8;&#x5165; [&#x4E86;&#x89E3;]
   &#x57FA;&#x4E8E;&#x540D;&#x5B57;&#x7684;&#x6CE8;&#x5165;&#xFF1A;&#x6CE8;&#x5165;&#x5BF9;&#x8C61;&#x7684;id&#x503C;&#xFF0C;&#x5FC5;&#x987B;&#x4E0E;Qualifier&#x6CE8;&#x89E3;&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;&#x540D;&#x5B57;&#x76F8;&#x540C;

<span class="token list punctuation">3.</span> Autowired&#x6CE8;&#x89E3;&#x653E;&#x7F6E;&#x4F4D;&#x7F6E; 
    a) &#x653E;&#x7F6E;&#x5728;&#x5BF9;&#x5E94;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x7684;set&#x65B9;&#x6CD5;&#x4E0A; 
    b) &#x76F4;&#x63A5;&#x628A;&#x8FD9;&#x4E2A;&#x6CE8;&#x89E3;&#x653E;&#x7F6E;&#x5728;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x4E4B;&#x4E0A;&#xFF0C;Spring&#x901A;&#x8FC7;&#x53CD;&#x5C04;&#x76F4;&#x63A5;&#x5BF9;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x8FDB;&#x884C;&#x6CE8;&#x5165;&#xFF08;&#x8D4B;&#x503C;&#xFF09;[&#x63A8;&#x8350;]

<span class="token list punctuation">4.</span> JavaEE&#x89C4;&#x8303;&#x4E2D;&#x7C7B;&#x4F3C;&#x529F;&#x80FD;&#x7684;&#x6CE8;&#x89E3;
    JSR250 @Resouce(name=&quot;userDAOImpl&quot;) &#x57FA;&#x4E8E;&#x540D;&#x5B57;&#x8FDB;&#x884C;&#x6CE8;&#x5165;
           @Autowired()
           @Qualifier(&quot;userDAOImpl&quot;)
           &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x5728;&#x5E94;&#x7528;Resource&#x6CE8;&#x89E3;&#x65F6;&#xFF0C;&#x540D;&#x5B57;&#x6CA1;&#x6709;&#x914D;&#x5BF9;&#x6210;&#x529F;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x4F1A;&#x7EE7;&#x7EED;&#x6309;&#x7167;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x6CE8;&#x5165;&#x3002;
    JSR330 @Inject &#x4F5C;&#x7528; @Autowired&#x5B8C;&#x5168;&#x4E00;&#x81F4; &#x57FA;&#x4E8E;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x6CE8;&#x5165; ---&#x300B; EJB3.0
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.inject<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.inject<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>JDK&#x7C7B;&#x578B;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Value&#x6CE8;&#x89E3;&#x5B8C;&#x6210;
<span class="token list punctuation">1.</span> &#x8BBE;&#x7F6E;xxx.properties 
   id = 10
   name = suns
<span class="token list punctuation">2.</span> Spring&#x7684;&#x5DE5;&#x5382;&#x8BFB;&#x53D6;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token list punctuation">3.</span> &#x4EE3;&#x7801; 
   &#x5C5E;&#x6027; @Value(&quot;${key}&quot;)
</pre><ul>
<li>
<p>@PropertySource</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x4F5C;&#x7528;&#xFF1A;&#x7528;&#x4E8E;&#x66FF;&#x6362;Spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>&#x6807;&#x7B7E;
<span class="token list punctuation">2.</span> &#x5F00;&#x53D1;&#x6B65;&#x9AA4; 
    <span class="token list punctuation">1.</span> &#x8BBE;&#x7F6E;xxx.properties 
       id = 10
       name = suns
    <span class="token list punctuation">2.</span> &#x5E94;&#x7528;@PropertySource
    <span class="token list punctuation">3.</span> &#x4EE3;&#x7801;
       &#x5C5E;&#x6027; @Value()
</pre></li>
<li>
<p>@Value&#x6CE8;&#x89E3;&#x4F7F;&#x7528;&#x7EC6;&#x8282;</p>
<ul>
<li>
<p>@Value&#x6CE8;&#x89E3;&#x4E0D;&#x80FD;&#x5E94;&#x7528;&#x5728;&#x9759;&#x6001;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x4E0A;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x5982;&#x679C;&#x5E94;&#x7528;&#xFF0C;&#x8D4B;&#x503C;&#xFF08;&#x6CE8;&#x5165;&#xFF09;&#x5931;&#x8D25;
</pre></li>
<li>
<p>@Value&#x6CE8;&#x89E3;+Properties&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x80FD;&#x6CE8;&#x5165;&#x96C6;&#x5408;&#x7C7B;&#x578B;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x63D0;&#x4F9B;&#x65B0;&#x7684;&#x914D;&#x7F6E;&#x5F62;&#x5F0F; YAML YML (SpringBoot)
</pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5>3. &#x6CE8;&#x89E3;&#x626B;&#x63CF;&#x8BE6;&#x89E3;</h5>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>&#x5F53;&#x524D;&#x5305; &#x53CA;&#x5176; &#x5B50;&#x5305; 
</pre><h6>1. &#x6392;&#x9664;&#x65B9;&#x5F0F;</h6>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   type:assignable:&#x6392;&#x9664;&#x7279;&#x5B9A;&#x7684;&#x7C7B;&#x578B; &#x4E0D;&#x8FDB;&#x884C;&#x626B;&#x63CF;
        annotation:&#x6392;&#x9664;&#x7279;&#x5B9A;&#x7684;&#x6CE8;&#x89E3; &#x4E0D;&#x8FDB;&#x884C;&#x626B;&#x63CF;
        aspectj:&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;
                &#x5305;&#x5207;&#x5165;&#x70B9;&#xFF1A; com.baizhiedu.bean..<span class="token italic"><span class="token punctuation">*</span><span class="token content">
                &#x7C7B;&#x5207;&#x5165;&#x70B9;&#xFF1A; </span><span class="token punctuation">*</span></span>..User
        regex:&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; 
        custom&#xFF1A;&#x81EA;&#x5B9A;&#x4E49;&#x6392;&#x9664;&#x7B56;&#x7565;&#x6846;&#x67B6;&#x5E95;&#x5C42;&#x5F00;&#x53D1;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>

&#x6392;&#x9664;&#x7B56;&#x7565;&#x53EF;&#x4EE5;&#x53E0;&#x52A0;&#x4F7F;&#x7528; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>assignable<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.bean.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aspectj<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.injection..*<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>
</pre><h6>2. &#x5305;&#x542B;&#x65B9;&#x5F0F;</h6>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">use-default-filters</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>

1. use-default-filters=&quot;false&quot;
   &#x4F5C;&#x7528;&#xFF1A;&#x8BA9;Spring&#x9ED8;&#x8BA4;&#x7684;&#x6CE8;&#x89E3;&#x626B;&#x63CF;&#x65B9;&#x5F0F; &#x5931;&#x6548;&#x3002;
2. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   &#x4F5C;&#x7528;&#xFF1A;&#x6307;&#x5B9A;&#x626B;&#x63CF;&#x90A3;&#x4E9B;&#x6CE8;&#x89E3; 
   type:assignable:&#x6392;&#x9664;&#x7279;&#x5B9A;&#x7684;&#x7C7B;&#x578B; &#x4E0D;&#x8FDB;&#x884C;&#x626B;&#x63CF;
        annotation:&#x6392;&#x9664;&#x7279;&#x5B9A;&#x7684;&#x6CE8;&#x89E3; &#x4E0D;&#x8FDB;&#x884C;&#x626B;&#x63CF;
        aspectj:&#x5207;&#x5165;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;
                &#x5305;&#x5207;&#x5165;&#x70B9;&#xFF1A; com.baizhiedu.bean..*
                &#x7C7B;&#x5207;&#x5165;&#x70B9;&#xFF1A; *..User
        regex:&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; 
        custom&#xFF1A;&#x81EA;&#x5B9A;&#x4E49;&#x6392;&#x9664;&#x7B56;&#x7565;&#x6846;&#x67B6;&#x5E95;&#x5C42;&#x5F00;&#x53D1;

&#x5305;&#x542B;&#x7684;&#x65B9;&#x5F0F;&#x652F;&#x6301;&#x53E0;&#x52A0;
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">use-default-filters</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>annotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.stereotype.Repository<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>annotation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.stereotype.Service<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>
</pre><h5>4. &#x5BF9;&#x4E8E;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x7684;&#x601D;&#x8003;</h5>
<ul>
<li>
<p>&#x914D;&#x7F6E;&#x4E92;&#x901A;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x6CE8;&#x89E3;&#x914D;&#x7F6E; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E; &#x4E92;&#x901A;@Repositorypublic class UserDAOImpl{}public class UserServiceImpl{   private UserDAO userDAO;   set get}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAOImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x6CE8;&#x89E3; &#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Component &#x66FF;&#x6362; &lt;bean &#x57FA;&#x7840;&#x6CE8;&#x89E3;&#xFF08;@Component @Autowired @Value) &#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;&#x7C7B;&#x578B;&#x7684;&#x914D;&#x7F6E;1. &#x5728;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;&#x7684;&#x7C7B;&#x578B;&#x4E0A; &#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x5BF9;&#x5E94;&#x6CE8;&#x89E3; &#x8FDB;&#x884C;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;    User  UserService  UserDAO  UserAction 2. &#x5E94;&#x7528;&#x5176;&#x4ED6;&#x975E;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;&#x7684;&#x7C7B;&#x578B;&#x65F6;&#xFF0C;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x4F7F;&#x7528;&lt;bean &#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x7684;   SqlSessionFactoryBean  MapperScannerConfigure 
</pre></li>
</ul>
<h5 class="mume-header" id="5-ssm%E6%95%B4%E5%90%88%E5%BC%80%E5%8F%91%E5%8D%8A%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91">5.  SSM&#x6574;&#x5408;&#x5F00;&#x53D1;&#xFF08;&#x534A;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#xFF09;</h5>

<ul>
<li>
<p>&#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x73AF;&#x5883;</p>
<ul>
<li>&#x5F15;&#x5165;&#x76F8;&#x5173;jar &#x3010;SSM POM&#x3011;</li>
<li>&#x5F15;&#x5165;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;
<ul>
<li>applicationContext.xml</li>
<li>struts.xml</li>
<li>log4.properties</li>
<li>XXXMapper.xml</li>
</ul>
</li>
<li>&#x521D;&#x59CB;&#x5316;&#x914D;&#x7F6E;
<ul>
<li>Web.xml Spring  (ContextLoaderListener)</li>
<li>Web.xml Struts Filter</li>
</ul>
</li>
</ul>
</li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre><ul>
<li>
<p>DAO (Spring+Mybatis)</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;   1. DataSource   2. SqlSessionFactory ----&gt; SqlSessionFactoryBean      1. dataSource      2. typeAliasesPackage      3. mapperLocations    3. MapperScannerConfigur ---&gt; DAO&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B;2. &#x7F16;&#x7801;   1. entity    2. table   3. DAO&#x63A5;&#x53E3;   4. &#x5B9E;&#x73B0;Mapper&#x6587;&#x4EF6;
</pre></li>
<li>
<p>Service</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x539F;&#x59CB;&#x5BF9;&#x8C61; ---&#x300B; &#x6CE8;&#x5165;DAO   @Service ---&gt; @Autowired2. &#x989D;&#x5916;&#x529F;&#x80FD; ---&#x300B; DataSourceTransactionManager ---&gt; dataSource3. &#x5207;&#x5165;&#x70B9; + &#x4E8B;&#x52A1;&#x5C5E;&#x6027;   @Transactional(propagation,readOnly...)4. &#x7EC4;&#x88C5;&#x5207;&#x9762;   &lt;tx:annotation-driven 
</pre></li>
<li>
<p>Controller (Spring+Struts2)</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> @Controller   @Scope(&quot;prototype&quot;)   public class RegAction implements Action{      @Autowired      private UserService userServiceImpl;      }2. struts.xml    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>spring&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;action&#x5BF9;&#x5E94;&#x7684;id&#x503C;<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</pre></li>
</ul>
</li>
</ul>
<h4 class="mume-header" id="%E7%AC%AC%E4%B8%89%E7%AB%A0-spring%E7%9A%84%E9%AB%98%E7%BA%A7%E6%B3%A8%E8%A7%A3spring3x-%E5%8F%8A%E4%BB%A5%E4%B8%8A">&#x7B2C;&#x4E09;&#x7AE0;&#x3001;Spring&#x7684;&#x9AD8;&#x7EA7;&#x6CE8;&#x89E3;&#xFF08;Spring3.x &#x53CA;&#x4EE5;&#x4E0A;)</h4>

<h5 class="mume-header" id="1-%E9%85%8D%E7%BD%AEbean">1. &#x914D;&#x7F6E;Bean</h5>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token class-name">Spring</span>&#x5728;<span class="token number">3.</span>x&#x63D0;&#x4F9B;&#x7684;&#x65B0;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x7528;&#x4E8E;&#x66FF;&#x6362;XML&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;    <span class="token annotation punctuation">@Configurationpublic</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span><span class="token punctuation">{</span>  <span class="token punctuation">}</span>
</pre><ol>
<li>
<p>&#x914D;&#x7F6E;Bean&#x5728;&#x5E94;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D; &#x66FF;&#x6362;&#x4E86;XML&#x5177;&#x4F53;&#x4EC0;&#x4E48;&#x5185;&#x5BB9;&#x5462;&#xFF1F;</p>
<p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200703100033265.png" alt="image-20200703100033265"></p>
</li>
<li>
<p>AnnotationConfigApplicationContext</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x521B;&#x5EFA;&#x5DE5;&#x5382;&#x4EE3;&#x7801;   ApplicationContext ctx = new AnnotationConfigApplicationContext();2. &#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;    1. &#x6307;&#x5B9A;&#x914D;&#x7F6E;bean&#x7684;Class       ApplicationContext ctx = new AnnotationConfigApplicationContext(AppConfig.class);   2. &#x6307;&#x5B9A;&#x914D;&#x7F6E;bean&#x6240;&#x5728;&#x7684;&#x8DEF;&#x5F84;        ApplicationContext ctx = new AnnotationConfigApplicationContext(&quot;com.baizhiedu&quot;);
</pre></li>
</ol>
<ul>
<li>
<p>&#x914D;&#x7F6E;Bean&#x5F00;&#x53D1;&#x7684;&#x7EC6;&#x8282;&#x5206;&#x6790;</p>
<ul>
<li>
<p>&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x4F7F;&#x7528;&#x65E5;&#x5FD7;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x4E0D;&#x80FD;&#x96C6;&#x6210;Log4j&#x96C6;&#x6210;logback 
</pre><ul>
<li>
<p>&#x5F15;&#x5165;&#x76F8;&#x5173;jar</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jcl-over-slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.logback-extensions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-ext-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</pre></li>
<li>
<p>&#x5F15;&#x5165;logback&#x914D;&#x7F6E;&#x6587;&#x4EF6; (logback.xml)</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- &#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; --&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>            <span class="token comment">&lt;!--&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#xFF1A;%d&#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;%thread&#x8868;&#x793A;&#x7EBF;&#x7A0B;&#x540D;&#xFF0C;%-5level&#xFF1A;&#x7EA7;&#x522B;&#x4ECE;&#x5DE6;&#x663E;&#x793A;5&#x4E2A;&#x5B57;&#x7B26;&#x5BBD;&#x5EA6;%msg&#xFF1A;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#xFF0C;%n&#x662F;&#x6362;&#x884C;&#x7B26;--&gt;</span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DEBUG<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
</li>
<li>
<p>@Configuration&#x6CE8;&#x89E3;&#x7684;&#x672C;&#x8D28;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x672C;&#x8D28;&#xFF1A;&#x4E5F;&#x662F;@Component&#x6CE8;&#x89E3;&#x7684;&#x884D;&#x751F;&#x6CE8;&#x89E3;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&lt;context:component-scan&#x8FDB;&#x884C;&#x626B;&#x63CF;
</pre></li>
</ul>
</li>
</ul>
<h5 class="mume-header" id="2-bean%E6%B3%A8%E8%A7%A3">2. @Bean&#x6CE8;&#x89E3;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Bean&#x6CE8;&#x89E3;&#x5728;&#x914D;&#x7F6E;bean&#x4E2D;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#xFF0C;&#x7B49;&#x540C;&#x4E8E;XML&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&lt;bean&#x6807;&#x7B7E;
</pre><h6 class="mume-header" id="1-bean%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">1. @Bean&#x6CE8;&#x89E3;&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;</h6>

<ul>
<li>
<p>&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;</p>
<p>![image-20200703150632630](/&#x767E;&#x77E5;&#x6559;&#x80B2; --- Spring&#x7CFB;&#x5217;&#x8BFE;&#x7A0B; --- &#x6CE8;&#x89E3;&#x7F16;&#x7A0B;.assets/image-20200703150632630.png)</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x7B80;&#x5355;&#x5BF9;&#x8C61;   &#x76F4;&#x63A5;&#x80FD;&#x591F;&#x901A;&#x8FC7;new&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;    User  UserService   UserDAO 2. &#x590D;&#x6742;&#x5BF9;&#x8C61;   &#x4E0D;&#x80FD;&#x901A;&#x8FC7;new&#x7684;&#x65B9;&#x5F0F;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;   Connection SqlSessionFactory
</pre><ul>
<li>
<p>@Bean&#x6CE8;&#x89E3;&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x9057;&#x7559;&#x7CFB;&#x7EDF;&#x6574;&#x5408; <span class="token annotation punctuation">@Beanpublic</span> <span class="token class-name">Connection</span> <span class="token function">conn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token class-name">ConnectionFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConnectionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    conn <span class="token operator">=</span> factoryBean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> conn<span class="token punctuation">;</span><span class="token punctuation">}</span>
</pre></li>
</ul>
</li>
<li>
<p>&#x81EA;&#x5B9A;&#x4E49;id&#x503C;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Bean(&quot;id&quot;)
</pre></li>
<li>
<p>&#x63A7;&#x5236;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x6B21;&#x6570;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Bean</span><span class="token annotation punctuation">@Scope</span><span class="token punctuation">(</span><span class="token string">&quot;singleton|prototype&quot;</span><span class="token punctuation">)</span> &#x9ED8;&#x8BA4;&#x503C; singleton
</pre></li>
</ul>
<h6 class="mume-header" id="2-bean%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%B3%A8%E5%85%A5">2. @Bean&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x5165;</h6>

<ul>
<li>
<p>&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Beanpublic</span> <span class="token class-name">UserDAO</span> <span class="token function">userDAO</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Beanpublic</span> <span class="token class-name">UserService</span> <span class="token function">userService</span><span class="token punctuation">(</span><span class="token class-name">UserDAO</span> userDAO<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  userService<span class="token punctuation">.</span><span class="token function">setUserDAO</span><span class="token punctuation">(</span>userDAO<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> userService<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//&#x7B80;&#x5316;&#x5199;&#x6CD5;@Beanpublic UserService userService() {  UserServiceImpl userService = new UserServiceImpl();  userService.setUserDAO(userDAO());  return userService;}</span>
</pre></li>
<li>
<p>JDK&#x7C7B;&#x578B;&#x7684;&#x6CE8;&#x5165;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Beanpublic</span> <span class="token class-name">Customer</span> <span class="token function">customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token class-name">Customer</span> customer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  customer<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  customer<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;xiaohei&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> customer<span class="token punctuation">;</span><span class="token punctuation">}</span>
</pre><ul>
<li>
<p>JDK&#x7C7B;&#x578B;&#x6CE8;&#x5165;&#x7684;&#x7EC6;&#x8282;&#x5206;&#x6790;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x5982;&#x679C;&#x76F4;&#x63A5;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x8FDB;&#x884C;set&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x4F1A;&#x5B58;&#x5728;&#x8026;&#x5408;&#x7684;&#x95EE;&#x9898; <span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:/init.properties&quot;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig1</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${id}&quot;</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${name}&quot;</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>     <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">Customer</span> <span class="token function">customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">Customer</span> customer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Customer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        customer<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        customer<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> customer<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre></li>
</ul>
</li>
</ul>
<h5 class="mume-header" id="3-componentscan%E6%B3%A8%E8%A7%A3">3. @ComponentScan&#x6CE8;&#x89E3;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@ComponentScan&#x6CE8;&#x89E3;&#x5728;&#x914D;&#x7F6E;bean&#x4E2D;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#xFF0C;&#x7B49;&#x540C;&#x4E8E;XML&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>&#x6807;&#x7B7E;&#x76EE;&#x7684;&#xFF1A;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x6CE8;&#x89E3;&#x7684;&#x626B;&#x63CF; &#xFF08;@Component @Value ...@Autowired)
</pre><h6 class="mume-header" id="1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">1. &#x57FA;&#x672C;&#x4F7F;&#x7528;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;com.baizhiedu.scan&quot;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig2</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">&lt;</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan base<span class="token operator">-</span><span class="token keyword">package</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</pre><h6 class="mume-header" id="2-%E6%8E%92%E9%99%A4-%E5%8C%85%E5%90%AB%E7%9A%84%E4%BD%BF%E7%94%A8">2. &#x6392;&#x9664;&#x3001;&#x5305;&#x542B;&#x7684;&#x4F7F;&#x7528;</h6>

<ul>
<li>
<p>&#x6392;&#x9664;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>exclude-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>assignable<span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.bean.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>@ComponentScan(basePackages = &quot;com.baizhiedu.scan&quot;,               excludeFilters = {@ComponentScan.Filter(type= FilterType.ANNOTATION,value={Service.class}),                                 @ComponentScan.Filter(type= FilterType.ASPECTJ,pattern = &quot;*..User1&quot;)})type = FilterType.ANNOTATION          value                 .ASSIGNABLE_TYPE     value                 .ASPECTJ             pattern                    .REGEX               pattern                 .CUSTOM              value
</pre></li>
<li>
<p>&#x5305;&#x542B;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu<span class="token punctuation">&quot;</span></span> <span class="token attr-name">use-default-filters</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>include-filter</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">&gt;</span></span>@ComponentScan(basePackages = &quot;com.baizhiedu.scan&quot;,               useDefaultFilters = false,               includeFilters = {@ComponentScan.Filter(type= FilterType.ANNOTATION,value={Service.class})})type = FilterType.ANNOTATION          value                 .ASSIGNABLE_TYPE     value                 .ASPECTJ             pattern                    .REGEX               pattern                 .CUSTOM              value
</pre></li>
</ul>
<h5 class="mume-header" id="4-spring%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%9A%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F">4. Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x79CD;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;</h5>

<h6 class="mume-header" id="1-%E5%A4%9A%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">1. &#x591A;&#x79CD;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;</h6>

<p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200706174301418.png" alt="image-20200706174301418"></p>
<h6 class="mume-header" id="2-%E9%85%8D%E7%BD%AE%E4%BC%98%E5%85%88%E7%BA%A7">2. &#x914D;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">@Component&#x53CA;&#x5176;&#x884D;&#x751F;&#x6CE8;&#x89E3; &lt; @Bean &lt; &#x914D;&#x7F6E;&#x6587;&#x4EF6;bean&#x6807;&#x7B7E;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x7684;&#x914D;&#x7F6E; &#x8986;&#x76D6;&#x4F18;&#x5148;&#x7EA7;&#x4F4E;&#x914D;&#x7F6E; @Componentpublic class User{}@Beanpublic User user(){  return new User();}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xxx.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>&#x914D;&#x7F6E;&#x8986;&#x76D6;&#xFF1A;id&#x503C; &#x4FDD;&#x6301;&#x4E00;&#x81F4;
</pre><ul>
<li>
<p>&#x89E3;&#x51B3;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x7684;&#x8026;&#x5408;&#x95EE;&#x9898;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token comment">//@ImportResource(&quot;applicationContext.xml&quot;)public class AppConfig4 {    @Bean    public UserDAO userDAO() {        return new UserDAOImpl();    }}@Configuration@ImportResource(&quot;applicationContext.xml&quot;)public class AppConfig5{  }applicationContext.xml&lt;bean id=&quot;userDAO&quot; class=&quot;com.baizhiedu.injection.UserDAOImplNew&quot;/&gt;</span>
</pre></li>
</ul>
<h5 class="mume-header" id="5-%E6%95%B4%E5%90%88%E5%A4%9A%E4%B8%AA%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">5. &#x6574;&#x5408;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</h5>

<ul>
<li>&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</li>
</ul>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown">&#x62C6;&#x5206;&#x591A;&#x4E2A;&#x914D;&#x7F6E;bean&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6A21;&#x5757;&#x5316;&#x5F00;&#x53D1;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x4E5F;&#x4F53;&#x73B0;&#x4E86;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x5404;&#x53F8;&#x5176;&#x804C;&#x7684;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;
</pre><ul>
<li>&#x591A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x6574;&#x5408;&#x7684;&#x65B9;&#x5F0F;
<ul>
<li>&#x591A;&#x4E2A;&#x914D;&#x7F6E;Bean&#x7684;&#x6574;&#x5408;</li>
<li>&#x914D;&#x7F6E;Bean&#x4E0E;@Component&#x76F8;&#x5173;&#x6CE8;&#x89E3;&#x7684;&#x6574;&#x5408;</li>
<li>&#x914D;&#x7F6E;Bean&#x4E0E;SpringXML&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6574;&#x5408;</li>
</ul>
</li>
<li>&#x6574;&#x5408;&#x591A;&#x79CD;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x90A3;&#x4E9B;&#x8981;&#x70B9;
<ul>
<li>&#x5982;&#x4F55;&#x4F7F;&#x591A;&#x914D;&#x7F6E;&#x7684;&#x4FE1;&#x606F; &#x6C47;&#x603B;&#x6210;&#x4E00;&#x4E2A;&#x6574;&#x4F53;</li>
<li>&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x8DE8;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x5165;</li>
</ul>
</li>
</ul>
<h6 class="mume-header" id="1-%E5%A4%9A%E4%B8%AA%E9%85%8D%E7%BD%AEbean%E7%9A%84%E6%95%B4%E5%90%88">1. &#x591A;&#x4E2A;&#x914D;&#x7F6E;Bean&#x7684;&#x6574;&#x5408;</h6>

<ul>
<li>
<p>&#x591A;&#x914D;&#x7F6E;&#x7684;&#x4FE1;&#x606F;&#x6C47;&#x603B;</p>
<ul>
<li>
<p>base-package&#x8FDB;&#x884C;&#x591A;&#x4E2A;&#x914D;&#x7F6E;Bean&#x7684;&#x6574;&#x5408;</p>
<p>![image-20200707170421669](/&#x767E;&#x77E5;&#x6559;&#x80B2; --- Spring&#x7CFB;&#x5217;&#x8BFE;&#x7A0B; --- &#x6CE8;&#x89E3;&#x7F16;&#x7A0B;.assets/image-20200707170421669.png)</p>
</li>
<li>
<p>@Import</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;2. &#x591A;&#x914D;&#x7F6E;bean&#x7684;&#x6574;&#x5408;
</pre><p>![image-20200707170745814](/&#x767E;&#x77E5;&#x6559;&#x80B2; --- Spring&#x7CFB;&#x5217;&#x8BFE;&#x7A0B; --- &#x6CE8;&#x89E3;&#x7F16;&#x7A0B;.assets/image-20200707170745814.png)</p>
</li>
<li>
<p>&#x5728;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x65F6;&#xFF0C;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x914D;&#x7F6E;Bean&#x7684;Class&#x5BF9;&#x8C61; &#x3010;&#x4E86;&#x89E3;&#x3011;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">AppConfig1</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">AppConfig2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ul>
</li>
<li>
<p>&#x8DE8;&#x914D;&#x7F6E;&#x8FDB;&#x884C;&#x6CE8;&#x5165;</p>
<pre data-role="codeBlock" data-info="java" class="language-java">&#x5728;&#x5E94;&#x7528;&#x914D;&#x7F6E;<span class="token class-name">Bean</span>&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4E0D;&#x7BA1;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7684;&#x6C47;&#x603B;&#xFF0C;&#x5176;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x52A0;&#x5165;<span class="token annotation punctuation">@Autowired</span>&#x6CE8;&#x89E3;&#x5B8C;&#x6210;&#x3002;<span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">AppConfig2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig1</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDAO</span> userDAO<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">UserService</span> <span class="token function">userService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userService<span class="token punctuation">.</span><span class="token function">setUserDAO</span><span class="token punctuation">(</span>userDAO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> userService<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Configurationpublic</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig2</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">UserDAO</span> <span class="token function">userDAO</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDAOImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>
</pre></li>
</ul>
<h6 class="mume-header" id="2-%E9%85%8D%E7%BD%AEbean%E4%B8%8Ecomponent%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%95%B4%E5%90%88">2. &#x914D;&#x7F6E;Bean&#x4E0E;@Component&#x76F8;&#x5173;&#x6CE8;&#x89E3;&#x7684;&#x6574;&#x5408;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Repository</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDAO</span><span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig3</span> <span class="token punctuation">{</span>       <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDAO</span> userDAO<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">UserService</span> <span class="token function">userService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userService<span class="token punctuation">.</span><span class="token function">setUserDAO</span><span class="token punctuation">(</span>userDAO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> userService<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">AppConfig3</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h6 class="mume-header" id="3-%E9%85%8D%E7%BD%AEbean%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%95%B4%E5%90%88">3. &#x914D;&#x7F6E;Bean&#x4E0E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6574;&#x5408;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token number">1.</span> &#x9057;&#x7559;&#x7CFB;&#x7EDF;&#x7684;&#x6574;&#x5408; <span class="token number">2.</span> &#x914D;&#x7F6E;&#x8986;&#x76D6;  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDAOImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserDAO</span><span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;userDAO&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;com.baizhiedu.injection.UserDAOImpl&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig4</span> <span class="token punctuation">{</span>      <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">UserDAO</span> userDAO<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">UserService</span> <span class="token function">userService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">UserServiceImpl</span> userService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userService<span class="token punctuation">.</span><span class="token function">setUserDAO</span><span class="token punctuation">(</span>userDAO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> userService<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">AppConfig4</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h5 class="mume-header" id="6-%E9%85%8D%E7%BD%AEbean%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86">6. &#x914D;&#x7F6E;Bean&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x539F;&#x7406;</h5>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5728;&#x914D;&#x7F6E;Bean&#x4E2D;&#x52A0;&#x5165;&#x4E86;@Configuration&#x6CE8;&#x89E3;&#x540E;&#xFF0C;&#x5E95;&#x5C42;&#x5C31;&#x4F1A;&#x901A;&#x8FC7;Cglib&#x7684;&#x4EE3;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x6765;&#x8FDB;&#x884C;&#x5BF9;&#x8C61;&#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E;&#x3001;&#x5904;&#x7406;
</pre><p><img src="./%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B.assets/image-20200709114200371.png" alt="image-20200709114200371"></p>
<h5 class="mume-header" id="7-%E5%9B%9B%E7%BB%B4%E4%B8%80%E4%BD%93%E7%9A%84%E5%BC%80%E5%8F%91%E6%80%9D%E6%83%B3">7. &#x56DB;&#x7EF4;&#x4E00;&#x4F53;&#x7684;&#x5F00;&#x53D1;&#x601D;&#x60F3;</h5>

<h6 class="mume-header" id="1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%9B%E7%BB%B4%E4%B8%80%E4%BD%93">1. &#x4EC0;&#x4E48;&#x662F;&#x56DB;&#x7EF4;&#x4E00;&#x4F53;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">Spring&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x7684;4&#x79CD;&#x5F62;&#x5F0F;&#xFF0C;&#x867D;&#x7136;&#x5F00;&#x53D1;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x6700;&#x7EC8;&#x6548;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;1. &#x57FA;&#x4E8E;schema2. &#x57FA;&#x4E8E;&#x7279;&#x5B9A;&#x529F;&#x80FD;&#x6CE8;&#x89E3;3. &#x57FA;&#x4E8E;&#x539F;&#x59CB;&lt;bean4. &#x57FA;&#x4E8E;@Bean&#x6CE8;&#x89E3;
</pre><h6 class="mume-header" id="2-%E5%9B%9B%E7%BB%B4%E4%B8%80%E4%BD%93%E7%9A%84%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B">2. &#x56DB;&#x7EF4;&#x4E00;&#x4F53;&#x7684;&#x5F00;&#x53D1;&#x6848;&#x4F8B;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token number">1.</span> <span class="token operator">&lt;</span>context<span class="token operator">:</span>property<span class="token operator">-</span>placehoder2<span class="token punctuation">.</span> <span class="token annotation punctuation">@PropertySource</span>  &#x3010;&#x63A8;&#x8350;&#x3011;<span class="token number">3.</span> <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;PropertySourcePlaceholderConfigure&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token number">4.</span> <span class="token annotation punctuation">@Bean</span>            &#x3010;&#x63A8;&#x8350;&#x3011;
</pre><h5 class="mume-header" id="8-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%89%88aop%E7%BC%96%E7%A8%8B">8. &#x7EAF;&#x6CE8;&#x89E3;&#x7248;AOP&#x7F16;&#x7A0B;</h5>

<h6 class="mume-header" id="1-%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83">1. &#x642D;&#x5EFA;&#x73AF;&#x5883;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5E94;&#x7528;&#x914D;&#x7F6E;Bean 2. &#x6CE8;&#x89E3;&#x626B;&#x63CF;
</pre><h6 class="mume-header" id="2-%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4">2. &#x5F00;&#x53D1;&#x6B65;&#x9AA4;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token number">1.</span> &#x539F;&#x59CB;&#x5BF9;&#x8C61;   <span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Component</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>        <span class="token punctuation">}</span><span class="token number">2.</span> &#x521B;&#x5EFA;&#x5207;&#x9762;&#x7C7B; &#xFF08;&#x989D;&#x5916;&#x529F;&#x80FD; &#x5207;&#x5165;&#x70B9; &#x7EC4;&#x88C5;&#x5207;&#x9762;&#xFF09;    <span class="token annotation punctuation">@Aspect</span>    <span class="token annotation punctuation">@Component</span>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">arround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----aspect log ------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token number">3.</span> <span class="token class-name">Spring</span>&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;   <span class="token operator">&lt;</span>aop<span class="token operator">:</span>aspectj<span class="token operator">-</span>autoproxy <span class="token operator">/</span><span class="token operator">&gt;</span>   <span class="token annotation punctuation">@EnableAspectjAutoProxy</span> <span class="token operator">--</span><span class="token operator">-&gt;</span> &#x914D;&#x7F6E;<span class="token class-name">Bean</span> 
</pre><h6 class="mume-header" id="3-%E6%B3%A8%E8%A7%A3aop%E7%BB%86%E8%8A%82%E5%88%86%E6%9E%90">3. &#x6CE8;&#x89E3;AOP&#x7EC6;&#x8282;&#x5206;&#x6790;</h6>

<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token number">1.</span> &#x4EE3;&#x7406;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#x7684;&#x5207;&#x6362; JDK <span class="token class-name">Cglib</span>    <span class="token operator">&lt;</span>aop<span class="token operator">:</span>aspectj<span class="token operator">-</span>autoproxy proxy<span class="token operator">-</span>target<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">|</span><span class="token boolean">false</span> <span class="token operator">/</span><span class="token operator">&gt;</span>   <span class="token annotation punctuation">@EnableAspectjAutoProxy</span><span class="token punctuation">(</span>proxyTargetClass<span class="token punctuation">)</span><span class="token number">2.</span> <span class="token class-name">SpringBoot</span> AOP&#x7684;&#x5F00;&#x53D1;&#x65B9;&#x5F0F;     <span class="token annotation punctuation">@EnableAspectjAutoProxy</span> &#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x597D;&#x4E86;          <span class="token number">1.</span> &#x539F;&#x59CB;&#x5BF9;&#x8C61;     <span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Component</span><span class="token punctuation">)</span>     <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span><span class="token punctuation">{</span>     <span class="token punctuation">}</span>    <span class="token number">2.</span> &#x521B;&#x5EFA;&#x5207;&#x9762;&#x7C7B; &#xFF08;&#x989D;&#x5916;&#x529F;&#x80FD; &#x5207;&#x5165;&#x70B9; &#x7EC4;&#x88C5;&#x5207;&#x9762;&#xFF09;      <span class="token annotation punctuation">@Aspect</span>      <span class="token annotation punctuation">@Component</span>      <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">{</span>        <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* login(..))&quot;</span><span class="token punctuation">)</span>        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">arround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> joinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>          <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----aspect log ------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token class-name">Object</span> ret <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">return</span> ret<span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token class-name">Spring</span> AOP &#x4EE3;&#x7406;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0; JDK  <span class="token class-name">SpringBOOT</span> AOP &#x4EE3;&#x7406;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0; <span class="token class-name">Cglib</span> 
</pre><h5 class="mume-header" id="9-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%89%88springmybatis%E6%95%B4%E5%90%88">9. &#x7EAF;&#x6CE8;&#x89E3;&#x7248;Spring+MyBatis&#x6574;&#x5408;</h5>

<ul>
<li>
<p>&#x57FA;&#x7840;&#x914D;&#x7F6E; &#xFF08;&#x914D;&#x7F6E;Bean&#xFF09;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml">1. &#x8FDE;&#x63A5;&#x6C60;  <span class="token comment">&lt;!--&#x8FDE;&#x63A5;&#x6C60;--&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/suns?useSSL=false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123456<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>      @Bean   public DataSource dataSource(){      DruidDataSource dataSource = new DruidDataSource();      dataSource.setDriverClassName(&quot;&quot;);      dataSource.setUrl();      ...      return dataSource;   }2. SqlSessionFactoryBean    <span class="token comment">&lt;!--&#x521B;&#x5EFA;SqlSessionFactory SqlSessionFactoryBean--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>typeAliasesPackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.entity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapperLocations<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>classpath:com.baizhiedu.mapper/*Mapper.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>    @Bean    public SqlSessionFactoryBean sqlSessionFactoryBean(DataSource dataSource){         SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();         sqlSessionFactoryBean.setDataSource(dataSource);         sqlSessionFactoryBean.setTypeAliasesPackage(&quot;&quot;);         ...         return sqlSessionFactoryBean;    }3. MapperScannerConfigure    <span class="token comment">&lt;!--&#x521B;&#x5EFA;DAO&#x5BF9;&#x8C61; MapperScannerConfigure--&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scanner<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>    @MapperScan(basePackages={&quot;com.baizhiedu.dao&quot;}) ---&gt; &#x914D;&#x7F6E;bean&#x5B8C;&#x6210;  
</pre></li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x5B9E;&#x4F53;2. &#x8868;3. DAO&#x63A5;&#x53E3;4. Mapper&#x6587;&#x4EF6; 
</pre><h6>1. MapperLocations&#x7F16;&#x7801;&#x65F6;&#x901A;&#x914D;&#x7684;&#x5199;&#x6CD5;</h6>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token comment">//&#x8BBE;&#x7F6E;Mapper&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;sqlSessionFactoryBean.setMapperLocations(Resource..);Resource resouce = new ClassPathResouce(&quot;UserDAOMapper.xml&quot;)  sqlSessionFactoryBean.setMapperLocations(new ClassPathResource(&quot;UserDAOMapper.xml&quot;));&lt;property name=&quot;mapperLocations&quot;&gt;   &lt;list&gt;     &lt;value&gt;classpath:com.baizhiedu.mapper/*Mapper.xml&lt;/value&gt;   &lt;/list&gt;&lt;/property&gt;&#x4E00;&#x7EC4;Mapper&#x6587;&#x4EF6; ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();Resource[] resources = resolver.getResources(&quot;com.baizhi.mapper/*Mapper.xml&quot;);sqlSessionFactoryBean.setMapperLocations(resources)</span>
</pre><h6>2. &#x914D;&#x7F6E;Bean&#x6570;&#x636E;&#x8026;&#x5408;&#x7684;&#x95EE;&#x9898;</h6>
<pre data-role="codeBlock" data-info="java" class="language-java">mybatis<span class="token punctuation">.</span>driverClassName <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>mysql<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span></span>Drivermybatis</span><span class="token punctuation">.</span>url <span class="token operator">=</span> jdbc<span class="token operator">:</span>mysql<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3306</span><span class="token operator">/</span>suns<span class="token operator">?</span>useSSL<span class="token operator">=</span>falsemybatis<span class="token punctuation">.</span>username <span class="token operator">=</span> rootmybatis<span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token number">123456</span>mybatis<span class="token punctuation">.</span>typeAliasesPackages <span class="token operator">=</span> com<span class="token punctuation">.</span>baizhiedu<span class="token punctuation">.</span>mybatismybatis<span class="token punctuation">.</span>mapperLocations <span class="token operator">=</span> com<span class="token punctuation">.</span>baizhiedu<span class="token punctuation">.</span>mapper<span class="token comment">/*Mapper.xml@Component@PropertySource(&quot;classpath:mybatis.properties&quot;)public class MybatisProperties {    @Value(&quot;${mybatis.driverClassName}&quot;)    private String driverClassName;    @Value(&quot;${mybatis.url}&quot;)    private String url;    @Value(&quot;${mybatis.username}&quot;)    private String username;    @Value(&quot;${mybatis.password}&quot;)    private String password;    @Value(&quot;${mybatis.typeAliasesPackages}&quot;)    private String typeAliasesPackages;    @Value(&quot;${mybatis.mapperLocations}&quot;)    private String mapperLocations;}public class MyBatisAutoConfiguration {    @Autowired    private MybatisProperties mybatisProperties;    @Bean    public DataSource dataSource() {        DruidDataSource dataSource = new DruidDataSource();        dataSource.setDriverClassName(mybatisProperties.getDriverClassName());        dataSource.setUrl(mybatisProperties.getUrl());        dataSource.setUsername(mybatisProperties.getUsername());        dataSource.setPassword(mybatisProperties.getPassword());        return dataSource;    }    @Bean    public SqlSessionFactoryBean sqlSessionFactoryBean(DataSource dataSource) {        SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();        sqlSessionFactoryBean.setDataSource(dataSource);        sqlSessionFactoryBean.setTypeAliasesPackage(mybatisProperties.getTypeAliasesPackages());        //sqlSessionFactoryBean.setMapperLocations(new ClassPathResource(&quot;UserDAOMapper.xml&quot;));        try {            ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();            Resource[] resources = resolver.getResources(mybatisProperties.getMapperLocations());            sqlSessionFactoryBean.setMapperLocations(resources);        } catch (IOException e) {            e.printStackTrace();        }        return sqlSessionFactoryBean;    }}
</span></pre></li>
</ul>
<h5 class="mume-header" id="10-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%89%88%E4%BA%8B%E5%8A%A1%E7%BC%96%E7%A8%8B">10. &#x7EAF;&#x6CE8;&#x89E3;&#x7248;&#x4E8B;&#x52A1;&#x7F16;&#x7A0B;</h5>

<pre data-role="codeBlock" data-info="xml" class="language-xml">1. &#x539F;&#x59CB;&#x5BF9;&#x8C61; XXXService   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.baizhiedu.service.UserServiceImpl<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDAO<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>   @Service   public class UserServiceImpl implements UserService{         @Autowired         private UserDAO userDAO;   }2. &#x989D;&#x5916;&#x529F;&#x80FD;   <span class="token comment">&lt;!--DataSourceTransactionManager--&gt;</span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>        @Bean    public DataSourceTransactionManager dataSourceTransactionManager(DataSource dataSource){          DataSourceTransactionManager dstm = new DataSourceTransactionManager();          dstm.setDataSource(dataSource);          return dstm     }3. &#x4E8B;&#x52A1;&#x5C5E;&#x6027;    @Transactional    @Service    public class UserServiceImpl implements UserService {        @Autowired        private UserDAO userDAO;4. &#x57FA;&#x4E8E;Schema&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSourceTransactionManager<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>   @EnableTransactionManager ---&gt; &#x914D;&#x7F6E;Bean
</pre><pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> ApplicationContext ctx = new AnnotationConfigApplicationContext(&quot;com.baizhiedu.mybatis&quot;);   SpringBoot &#x5B9E;&#x73B0;&#x601D;&#x60F3;2. &#x6CE8;&#x89E3;&#x7248;MVC&#x6574;&#x5408;&#xFF0C;SpringMVC&#x4E2D;&#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x8BB2;&#x89E3;   SpringMyBatis ---&gt;DAO  &#x4E8B;&#x52A1;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3; --&gt; Service   Controller    org.springframework.web.context.ContextLoaderListener ---&gt; XML&#x5DE5;&#x5382; &#x65E0;&#x6CD5;&#x63D0;&#x4F9B; new AnnotationConfigApplicationContext
</pre><h5 class="mume-header" id="11-spring%E6%A1%86%E6%9E%B6%E4%B8%ADyml%E7%9A%84%E4%BD%BF%E7%94%A8">11. Spring&#x6846;&#x67B6;&#x4E2D;YML&#x7684;&#x4F7F;&#x7528;</h5>

<h6 class="mume-header" id="1-%E4%BB%80%E4%B9%88%E6%98%AFyml">1. &#x4EC0;&#x4E48;&#x662F;YML</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown">YML(YAML)&#x662F;&#x4E00;&#x79CD;&#x65B0;&#x5F62;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6BD4;XML&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x6BD4;Properties&#x66F4;&#x5F3A;&#x5927;&#x3002;YAML is a nice human-readable format for configuration, and it has some useful hierarchical properties. It&apos;s more or less a superset of JSON, so it has a lot of similar features.
</pre><h6 class="mume-header" id="2-properties%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98">2. Properties&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x95EE;&#x9898;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> Properties&#x8868;&#x8FBE;&#x8FC7;&#x4E8E;&#x7E41;&#x7410;,&#x65E0;&#x6CD5;&#x8868;&#x8FBE;&#x6570;&#x636E;&#x7684;&#x5185;&#x5728;&#x8054;&#x7CFB;. 2. Properties&#x65E0;&#x6CD5;&#x8868;&#x8FBE;&#x5BF9;&#x8C61; &#x96C6;&#x5408;&#x7C7B;&#x578B;
</pre><h6 class="mume-header" id="3-yml%E8%AF%AD%E6%B3%95%E7%AE%80%E4%BB%8B">3. YML&#x8BED;&#x6CD5;&#x7B80;&#x4ECB;</h6>

<pre data-role="codeBlock" data-info="yaml" class="language-yaml"><span class="token key atrule">1. &#x5B9A;&#x4E49;yml&#x6587;&#x4EF6;    xxx.yml xxx.yaml2. &#x8BED;&#x6CD5;   1. &#x57FA;&#x672C;&#x8BED;&#x6CD5;      name</span><span class="token punctuation">:</span> <span class="token key atrule">suns      password</span><span class="token punctuation">:</span> <span class="token key atrule">123456   2. &#x5BF9;&#x8C61;&#x6982;&#x5FF5;       account</span><span class="token punctuation">:</span>          <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token key atrule">1         password</span><span class="token punctuation">:</span> <span class="token key atrule">123456   3. &#x5B9A;&#x4E49;&#x96C6;&#x5408;       service</span><span class="token punctuation">:</span>          <span class="token punctuation">-</span> 11111         <span class="token punctuation">-</span> <span class="token number">22222</span>
</pre><h6 class="mume-header" id="4-spring%E4%B8%8Eyml%E9%9B%86%E6%88%90%E6%80%9D%E8%B7%AF%E7%9A%84%E5%88%86%E6%9E%90">4. Spring&#x4E0E;YML&#x96C6;&#x6210;&#x601D;&#x8DEF;&#x7684;&#x5206;&#x6790;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x51C6;&#x5907;yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;    init.yml   name: suns   password: 1234562. &#x8BFB;&#x53D6;yml &#x8F6C;&#x6362;&#x6210; Properties   YamlPropertiesFactoryBean.setResources( yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; ) new ClassPathResource();   YamlPropertiesFactoryBean.getObject() ---&gt; Properties 3. &#x5E94;&#x7528;PropertySourcesPlaceholderConfigurer   PropertySourcesPlaceholderConfigurer.setProperties();4. &#x7C7B;&#x4E2D; @Value&#x6CE8;&#x89E3; &#x6CE8;&#x5165; 
</pre><h6 class="mume-header" id="5-spring%E4%B8%8Eyml%E9%9B%86%E6%88%90%E7%BC%96%E7%A0%81">5. Spring&#x4E0E;YML&#x96C6;&#x6210;&#x7F16;&#x7801;</h6>

<ul>
<li>
<p>&#x73AF;&#x5883;&#x642D;&#x5EFA;</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.yaml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>snakeyaml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>&#x6700;&#x4F4E;&#x7248;&#x672C; 1.18 
</pre></li>
<li>
<p>&#x7F16;&#x7801;</p>
<pre data-role="codeBlock" data-info="java" class="language-java"><span class="token number">1.</span> &#x51C6;&#x5907;yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;<span class="token number">2.</span> &#x914D;&#x7F6E;<span class="token class-name">Bean</span>&#x4E2D;&#x64CD;&#x4F5C; &#x5B8C;&#x6210;YAML&#x8BFB;&#x53D6; &#x4E0E; <span class="token class-name">PropertySourcePlaceholderConfigure</span>&#x7684;&#x521B;&#x5EFA;     <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">PropertySourcesPlaceholderConfigurer</span> <span class="token function">configurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">YamlPropertiesFactoryBean</span> yamlPropertiesFactoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">YamlPropertiesFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        yamlPropertiesFactoryBean<span class="token punctuation">.</span><span class="token function">setResources</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">&quot;init.yml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> yamlPropertiesFactoryBean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">PropertySourcesPlaceholderConfigurer</span> configurer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PropertySourcesPlaceholderConfigurer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        configurer<span class="token punctuation">.</span><span class="token function">setProperties</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> configurer<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token number">3.</span> &#x7C7B; &#x52A0;&#x5165; <span class="token annotation punctuation">@Value</span>&#x6CE8;&#x89E3; 
</pre></li>
</ul>
<h6 class="mume-header" id="6-spring%E4%B8%8Eyml%E9%9B%86%E6%88%90%E7%9A%84%E9%97%AE%E9%A2%98">6. Spring&#x4E0E;YML&#x96C6;&#x6210;&#x7684;&#x95EE;&#x9898;</h6>

<pre data-role="codeBlock" data-info="markdown" class="language-markdown"><span class="token list punctuation">1.</span> &#x96C6;&#x5408;&#x5904;&#x7406;&#x7684;&#x95EE;&#x9898;   SpringEL&#x8868;&#x8FBE;&#x5F0F;&#x89E3;&#x51B3;   @Value(&quot;#{&apos;${list}&apos;.split(&apos;,&apos;)}&quot;)2. &#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x7684;YAML&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x65F6; &#x8FC7;&#x4E8E;&#x7E41;&#x7410;    @Value(&quot;${account.name}&quot;)   SpringBoot  @ConfigurationProperties
</pre><p>&#x200B;</p>
<h5 class="mume-header" id></h5>

<p>&#x200B;</p>

      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="#%E5%B7%A5%E5%8E%82">&#x5DE5;&#x5382;</a>
<ul>
<li><a href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BC%95%E8%A8%80">&#x7B2C;&#x4E00;&#x7AE0; &#x5F15;&#x8A00;</a>
<ul>
<li><a href="#1-ejb%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98">1. EJB&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</a></li>
<li><a href="#2-%E4%BB%80%E4%B9%88%E6%98%AFspring">2. &#x4EC0;&#x4E48;&#x662F;Spring</a></li>
<li><a href="#3-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">3. &#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</a></li>
<li><a href="#4-%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">4. &#x5DE5;&#x5382;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</a>
<ul>
<li><a href="#41-%E4%BB%80%E4%B9%88%E6%98%AF%E5%B7%A5%E5%8E%82%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">4.1 &#x4EC0;&#x4E48;&#x662F;&#x5DE5;&#x5382;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;</a></li>
<li><a href="#42-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E7%9A%84%E8%AE%BE%E8%AE%A1">4.2 &#x7B80;&#x5355;&#x5DE5;&#x5382;&#x7684;&#x8BBE;&#x8BA1;</a></li>
<li><a href="#43-%E9%80%9A%E7%94%A8%E5%B7%A5%E5%8E%82%E7%9A%84%E8%AE%BE%E8%AE%A1">4.3 &#x901A;&#x7528;&#x5DE5;&#x5382;&#x7684;&#x8BBE;&#x8BA1;</a></li>
<li><a href="#44-%E9%80%9A%E7%94%A8%E5%B7%A5%E5%8E%82%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F">4.4 &#x901A;&#x7528;&#x5DE5;&#x5382;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;</a></li>
</ul>
</li>
<li><a href="#5%E6%80%BB%E7%BB%93">5.&#x603B;&#x7ED3;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E7%AC%AC%E4%B8%80%E4%B8%AAspring%E7%A8%8B%E5%BA%8F">&#x7B2C;&#x4E8C;&#x7AE0;&#x3001;&#x7B2C;&#x4E00;&#x4E2A;Spring&#x7A0B;&#x5E8F;</a>
<ul>
<li><a href="#1-%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC">1. &#x8F6F;&#x4EF6;&#x7248;&#x672C;</a></li>
<li><a href="#2-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">2. &#x73AF;&#x5883;&#x642D;&#x5EFA;</a></li>
<li><a href="#3-spring%E7%9A%84%E6%A0%B8%E5%BF%83api">3. Spring&#x7684;&#x6838;&#x5FC3;API</a></li>
<li><a href="#4-%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91">4. &#x7A0B;&#x5E8F;&#x5F00;&#x53D1;</a>
<ul>
<li><a href="#13-%E6%B3%A8%E5%85%A5%E5%A5%BD%E5%A4%84">1.3 &#x6CE8;&#x5165;&#x597D;&#x5904;</a></li>
</ul>
</li>
<li><a href="#2-spring%E6%B3%A8%E5%85%A5%E7%9A%84%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90%E7%AE%80%E6%98%93%E7%89%88">2. Spring&#x6CE8;&#x5165;&#x7684;&#x539F;&#x7406;&#x5206;&#x6790;(&#x7B80;&#x6613;&#x7248;)</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-set%E6%B3%A8%E5%85%A5%E8%AF%A6%E8%A7%A3">&#x7B2C;&#x4E94;&#x7AE0;&#x3001;Set&#x6CE8;&#x5165;&#x8BE6;&#x89E3;</a>
<ul>
<li><a href="#1-jdk%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B">1. JDK&#x5185;&#x7F6E;&#x7C7B;&#x578B;</a>
<ul>
<li><a href="#11-string8%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B">1.1 String+8&#x79CD;&#x57FA;&#x672C;&#x7C7B;&#x578B;</a></li>
<li><a href="#12-%E6%95%B0%E7%BB%84">1.2 &#x6570;&#x7EC4;</a></li>
<li><a href="#13-set%E9%9B%86%E5%90%88">1.3 Set&#x96C6;&#x5408;</a></li>
<li><a href="#14-list%E9%9B%86%E5%90%88">1.4 List&#x96C6;&#x5408;</a></li>
<li><a href="#15-map%E9%9B%86%E5%90%88">1.5 Map&#x96C6;&#x5408;</a></li>
<li><a href="#16-properites">1.6 Properites</a></li>
<li><a href="#17-%E5%A4%8D%E6%9D%82%E7%9A%84jdk%E7%B1%BB%E5%9E%8B-date">1.7 &#x590D;&#x6742;&#x7684;JDK&#x7C7B;&#x578B; (Date)</a></li>
</ul>
</li>
<li><a href="#2-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B">2. &#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;</a>
<ul>
<li><a href="#21-%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F">2.1 &#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;</a></li>
<li><a href="#22-%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F">2.2 &#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;</a></li>
</ul>
</li>
<li><a href="#2-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD">2. &#x6784;&#x9020;&#x65B9;&#x6CD5;&#x91CD;&#x8F7D;</a>
<ul>
<li><a href="#21-%E5%8F%82%E6%95%B0%E4%B8%AA%E6%95%B0%E4%B8%8D%E5%90%8C%E6%97%B6">2.1 &#x53C2;&#x6570;&#x4E2A;&#x6570;&#x4E0D;&#x540C;&#x65F6;</a></li>
<li><a href="#21-%E6%9E%84%E9%80%A0%E5%8F%82%E6%95%B0%E4%B8%AA%E6%95%B0%E7%9B%B8%E5%90%8C%E6%97%B6">2.1 &#x6784;&#x9020;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#x76F8;&#x540C;&#x65F6;</a></li>
</ul>
</li>
<li><a href="#3-%E6%B3%A8%E5%85%A5%E7%9A%84%E6%80%BB%E7%BB%93">3. &#x6CE8;&#x5165;&#x7684;&#x603B;&#x7ED3;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%8F%8D%E8%BD%AC%E6%8E%A7%E5%88%B6-%E4%B8%8E-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5">&#x7B2C;&#x4E03;&#x7AE0;&#x3001;&#x53CD;&#x8F6C;&#x63A7;&#x5236; &#x4E0E; &#x4F9D;&#x8D56;&#x6CE8;&#x5165;</a>
<ul>
<li><a href="#1-%E5%8F%8D%E8%BD%AC%E8%BD%AC%E7%A7%BB%E6%8E%A7%E5%88%B6ioc-inverse-of-control">1. &#x53CD;&#x8F6C;(&#x8F6C;&#x79FB;)&#x63A7;&#x5236;(IOC Inverse of Control)</a></li>
<li><a href="#2-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-dependency-injection-di">2. &#x4F9D;&#x8D56;&#x6CE8;&#x5165; (Dependency Injection  DI)</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E5%85%AB%E7%AB%A0-spring%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1">&#x7B2C;&#x516B;&#x7AE0;&#x3001;Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1">1. &#x4EC0;&#x4E48;&#x662F;&#x590D;&#x6742;&#x5BF9;&#x8C61;</a></li>
<li><a href="#2-spring%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%A4%8D%E6%9D%82%E5%AF%B9%E8%B1%A1%E7%9A%843%E7%A7%8D%E6%96%B9%E5%BC%8F">2. Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x7684;3&#x79CD;&#x65B9;&#x5F0F;</a>
<ul>
<li><a href="#21-factorybean%E6%8E%A5%E5%8F%A3">2.1 FactoryBean&#x63A5;&#x53E3;</a></li>
<li><a href="#22-%E5%AE%9E%E4%BE%8B%E5%B7%A5%E5%8E%82">2.2 &#x5B9E;&#x4F8B;&#x5DE5;&#x5382;</a></li>
</ul>
</li>
<li><a href="#3-%E7%BB%86%E8%8A%82">3. &#x7EC6;&#x8282;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-%E5%90%8E%E7%BD%AE%E5%A4%84%E7%90%86bean">&#x7B2C;&#x5341;&#x4E09;&#x7AE0;&#x3001;&#x540E;&#x7F6E;&#x5904;&#x7406;Bean</a>
<ul>
<li><a href="#5-spring%E4%B8%8Emybatis%E6%95%B4%E5%90%88%E7%BC%96%E7%A0%81">5. Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x7F16;&#x7801;</a></li>
<li><a href="#6-spring%E4%B8%8Emybatis%E6%95%B4%E5%90%88%E7%BB%86%E8%8A%82">6. Spring&#x4E0E;Mybatis&#x6574;&#x5408;&#x7EC6;&#x8282;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-spring%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%A4%84%E7%90%86">&#x7B2C;&#x4E09;&#x7AE0;&#x3001;Spring&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1">1. &#x4EC0;&#x4E48;&#x662F;&#x4E8B;&#x52A1;&#xFF1F;</a></li>
<li><a href="#2-%E5%A6%82%E4%BD%95%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1">2. &#x5982;&#x4F55;&#x63A7;&#x5236;&#x4E8B;&#x52A1;</a></li>
<li><a href="#3spring%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%BC%80%E5%8F%91">3.Spring&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x7684;&#x5F00;&#x53D1;</a>
<ul>
<li><a href="#1-%E5%8E%9F%E5%A7%8B%E5%AF%B9%E8%B1%A1">1. &#x539F;&#x59CB;&#x5BF9;&#x8C61;</a></li>
<li><a href="#2-%E9%A2%9D%E5%A4%96%E5%8A%9F%E8%83%BD">2. &#x989D;&#x5916;&#x529F;&#x80FD;</a></li>
<li><a href="#3-%E5%88%87%E5%85%A5%E7%82%B9">3. &#x5207;&#x5165;&#x70B9;</a></li>
<li><a href="#4-%E7%BB%84%E8%A3%85%E5%88%87%E9%9D%A2">4 &#x7EC4;&#x88C5;&#x5207;&#x9762;</a></li>
</ul>
</li>
<li><a href="#4-spring%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%E7%9A%84%E7%BC%96%E7%A0%81">4. Spring&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x7684;&#x7F16;&#x7801;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-spring%E4%B8%AD%E7%9A%84%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7transaction-attribute">&#x7B2C;&#x56DB;&#x7AE0;&#x3001; Spring&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;(Transaction Attribute)</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7">1. &#x4EC0;&#x4E48;&#x662F;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;</a></li>
<li><a href="#2-%E5%A6%82%E4%BD%95%E6%B7%BB%E5%8A%A0%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7">2. &#x5982;&#x4F55;&#x6DFB;&#x52A0;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;</a></li>
<li><a href="#3-%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7%E8%AF%A6%E8%A7%A3">3. &#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x8BE6;&#x89E3;</a>
<ul>
<li><a href="#1-%E9%9A%94%E7%A6%BB%E5%B1%9E%E6%80%A7-isolation">1. &#x9694;&#x79BB;&#x5C5E;&#x6027; (ISOLATION)</a></li>
<li><a href="#2-%E4%BC%A0%E6%92%AD%E5%B1%9E%E6%80%A7propagation">2. &#x4F20;&#x64AD;&#x5C5E;&#x6027;(PROPAGATION)</a></li>
<li><a href="#3-%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7readonly">3. &#x53EA;&#x8BFB;&#x5C5E;&#x6027;(readOnly)</a></li>
<li><a href="#4-%E8%B6%85%E6%97%B6%E5%B1%9E%E6%80%A7timeout">4. &#x8D85;&#x65F6;&#x5C5E;&#x6027;(timeout)</a></li>
<li><a href="#5-%E5%BC%82%E5%B8%B8%E5%B1%9E%E6%80%A7">5. &#x5F02;&#x5E38;&#x5C5E;&#x6027;</a></li>
</ul>
</li>
<li><a href="#4-%E4%BA%8B%E5%8A%A1%E5%B1%9E%E6%80%A7%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93">4. &#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#x5E38;&#x89C1;&#x914D;&#x7F6E;&#x603B;&#x7ED3;</a></li>
<li><a href="#5-%E5%9F%BA%E4%BA%8E%E6%A0%87%E7%AD%BE%E7%9A%84%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F%E4%BA%8B%E5%8A%A1%E5%BC%80%E5%8F%91%E7%9A%84%E7%AC%AC%E4%BA%8C%E7%A7%8D%E5%BD%A2%E5%BC%8F">5. &#x57FA;&#x4E8E;&#x6807;&#x7B7E;&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;(&#x4E8B;&#x52A1;&#x5F00;&#x53D1;&#x7684;&#x7B2C;&#x4E8C;&#x79CD;&#x5F62;&#x5F0F;)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B">&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;</a>
<ul>
<li><a href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%B3%A8%E8%A7%A3%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5">&#x7B2C;&#x4E00;&#x7AE0;&#x3001;&#x6CE8;&#x89E3;&#x57FA;&#x7840;&#x6982;&#x5FF5;</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B">1. &#x4EC0;&#x4E48;&#x662F;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;</a></li>
<li><a href="#2-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%AE%B2%E8%A7%A3%E6%B3%A8%E8%A7%A3%E7%BC%96%E7%A8%8B">2. &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BB2;&#x89E3;&#x6CE8;&#x89E3;&#x7F16;&#x7A0B;</a></li>
<li><a href="#3-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8">3. &#x6CE8;&#x89E3;&#x7684;&#x4F5C;&#x7528;</a></li>
<li><a href="#4-spring%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B">4. Spring&#x6CE8;&#x89E3;&#x7684;&#x53D1;&#x5C55;&#x5386;&#x7A0B;</a></li>
<li><a href="#5-spring%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98">5. Spring&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-spring%E7%9A%84%E5%9F%BA%E7%A1%80%E6%B3%A8%E8%A7%A3spring2x">&#x7B2C;&#x4E8C;&#x7AE0;&#x3001;Spring&#x7684;&#x57FA;&#x7840;&#x6CE8;&#x89E3;&#xFF08;Spring2.x&#xFF09;</a>
<ul>
<li><a href="#1-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3">1. &#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x6CE8;&#x89E3;</a></li>
<li><a href="#5-ssm%E6%95%B4%E5%90%88%E5%BC%80%E5%8F%91%E5%8D%8A%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91">5.  SSM&#x6574;&#x5408;&#x5F00;&#x53D1;&#xFF08;&#x534A;&#x6CE8;&#x89E3;&#x5F00;&#x53D1;&#xFF09;</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-spring%E7%9A%84%E9%AB%98%E7%BA%A7%E6%B3%A8%E8%A7%A3spring3x-%E5%8F%8A%E4%BB%A5%E4%B8%8A">&#x7B2C;&#x4E09;&#x7AE0;&#x3001;Spring&#x7684;&#x9AD8;&#x7EA7;&#x6CE8;&#x89E3;&#xFF08;Spring3.x &#x53CA;&#x4EE5;&#x4E0A;)</a>
<ul>
<li><a href="#1-%E9%85%8D%E7%BD%AEbean">1. &#x914D;&#x7F6E;Bean</a></li>
<li><a href="#2-bean%E6%B3%A8%E8%A7%A3">2. @Bean&#x6CE8;&#x89E3;</a>
<ul>
<li><a href="#1-bean%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">1. @Bean&#x6CE8;&#x89E3;&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;</a></li>
<li><a href="#2-bean%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%B3%A8%E5%85%A5">2. @Bean&#x6CE8;&#x89E3;&#x7684;&#x6CE8;&#x5165;</a></li>
</ul>
</li>
<li><a href="#3-componentscan%E6%B3%A8%E8%A7%A3">3. @ComponentScan&#x6CE8;&#x89E3;</a>
<ul>
<li><a href="#1-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">1. &#x57FA;&#x672C;&#x4F7F;&#x7528;</a></li>
<li><a href="#2-%E6%8E%92%E9%99%A4-%E5%8C%85%E5%90%AB%E7%9A%84%E4%BD%BF%E7%94%A8">2. &#x6392;&#x9664;&#x3001;&#x5305;&#x542B;&#x7684;&#x4F7F;&#x7528;</a></li>
</ul>
</li>
<li><a href="#4-spring%E5%B7%A5%E5%8E%82%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%A4%9A%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F">4. Spring&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x591A;&#x79CD;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;</a>
<ul>
<li><a href="#1-%E5%A4%9A%E7%A7%8D%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">1. &#x591A;&#x79CD;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#x7684;&#x5E94;&#x7528;&#x573A;&#x666F;</a></li>
<li><a href="#2-%E9%85%8D%E7%BD%AE%E4%BC%98%E5%85%88%E7%BA%A7">2. &#x914D;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;</a></li>
</ul>
</li>
<li><a href="#5-%E6%95%B4%E5%90%88%E5%A4%9A%E4%B8%AA%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">5. &#x6574;&#x5408;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</a>
<ul>
<li><a href="#1-%E5%A4%9A%E4%B8%AA%E9%85%8D%E7%BD%AEbean%E7%9A%84%E6%95%B4%E5%90%88">1. &#x591A;&#x4E2A;&#x914D;&#x7F6E;Bean&#x7684;&#x6574;&#x5408;</a></li>
<li><a href="#2-%E9%85%8D%E7%BD%AEbean%E4%B8%8Ecomponent%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%95%B4%E5%90%88">2. &#x914D;&#x7F6E;Bean&#x4E0E;@Component&#x76F8;&#x5173;&#x6CE8;&#x89E3;&#x7684;&#x6574;&#x5408;</a></li>
<li><a href="#3-%E9%85%8D%E7%BD%AEbean%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%95%B4%E5%90%88">3. &#x914D;&#x7F6E;Bean&#x4E0E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6574;&#x5408;</a></li>
</ul>
</li>
<li><a href="#6-%E9%85%8D%E7%BD%AEbean%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86">6. &#x914D;&#x7F6E;Bean&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x539F;&#x7406;</a></li>
<li><a href="#7-%E5%9B%9B%E7%BB%B4%E4%B8%80%E4%BD%93%E7%9A%84%E5%BC%80%E5%8F%91%E6%80%9D%E6%83%B3">7. &#x56DB;&#x7EF4;&#x4E00;&#x4F53;&#x7684;&#x5F00;&#x53D1;&#x601D;&#x60F3;</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%9B%E7%BB%B4%E4%B8%80%E4%BD%93">1. &#x4EC0;&#x4E48;&#x662F;&#x56DB;&#x7EF4;&#x4E00;&#x4F53;</a></li>
<li><a href="#2-%E5%9B%9B%E7%BB%B4%E4%B8%80%E4%BD%93%E7%9A%84%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B">2. &#x56DB;&#x7EF4;&#x4E00;&#x4F53;&#x7684;&#x5F00;&#x53D1;&#x6848;&#x4F8B;</a></li>
</ul>
</li>
<li><a href="#8-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%89%88aop%E7%BC%96%E7%A8%8B">8. &#x7EAF;&#x6CE8;&#x89E3;&#x7248;AOP&#x7F16;&#x7A0B;</a>
<ul>
<li><a href="#1-%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83">1. &#x642D;&#x5EFA;&#x73AF;&#x5883;</a></li>
<li><a href="#2-%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4">2. &#x5F00;&#x53D1;&#x6B65;&#x9AA4;</a></li>
<li><a href="#3-%E6%B3%A8%E8%A7%A3aop%E7%BB%86%E8%8A%82%E5%88%86%E6%9E%90">3. &#x6CE8;&#x89E3;AOP&#x7EC6;&#x8282;&#x5206;&#x6790;</a></li>
</ul>
</li>
<li><a href="#9-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%89%88springmybatis%E6%95%B4%E5%90%88">9. &#x7EAF;&#x6CE8;&#x89E3;&#x7248;Spring+MyBatis&#x6574;&#x5408;</a></li>
<li><a href="#10-%E7%BA%AF%E6%B3%A8%E8%A7%A3%E7%89%88%E4%BA%8B%E5%8A%A1%E7%BC%96%E7%A8%8B">10. &#x7EAF;&#x6CE8;&#x89E3;&#x7248;&#x4E8B;&#x52A1;&#x7F16;&#x7A0B;</a></li>
<li><a href="#11-spring%E6%A1%86%E6%9E%B6%E4%B8%ADyml%E7%9A%84%E4%BD%BF%E7%94%A8">11. Spring&#x6846;&#x67B6;&#x4E2D;YML&#x7684;&#x4F7F;&#x7528;</a>
<ul>
<li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AFyml">1. &#x4EC0;&#x4E48;&#x662F;YML</a></li>
<li><a href="#2-properties%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98">2. Properties&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x95EE;&#x9898;</a></li>
<li><a href="#3-yml%E8%AF%AD%E6%B3%95%E7%AE%80%E4%BB%8B">3. YML&#x8BED;&#x6CD5;&#x7B80;&#x4ECB;</a></li>
<li><a href="#4-spring%E4%B8%8Eyml%E9%9B%86%E6%88%90%E6%80%9D%E8%B7%AF%E7%9A%84%E5%88%86%E6%9E%90">4. Spring&#x4E0E;YML&#x96C6;&#x6210;&#x601D;&#x8DEF;&#x7684;&#x5206;&#x6790;</a></li>
<li><a href="#5-spring%E4%B8%8Eyml%E9%9B%86%E6%88%90%E7%BC%96%E7%A0%81">5. Spring&#x4E0E;YML&#x96C6;&#x6210;&#x7F16;&#x7801;</a></li>
<li><a href="#6-spring%E4%B8%8Eyml%E9%9B%86%E6%88%90%E7%9A%84%E9%97%AE%E9%A2%98">6. Spring&#x4E0E;YML&#x96C6;&#x6210;&#x7684;&#x95EE;&#x9898;</a></li>
</ul>
</li>
<li><a href="#"></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
      <a id="sidebar-toc-btn">&#x2261;</a>
    
    
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    </body></html>